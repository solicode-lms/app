# **Installation de l‚ÄôEnvironnement de D√©veloppement Laravel avec Apache**

## **1Ô∏è‚É£ Installation des Outils**

### **üîπ Apache 2.4**
1. T√©l√©charge Apache depuis [Apache Lounge](https://www.apachelounge.com/download/).
2. Extrayez le fichier dans `C:\Apache24`.
3. Ouvrez PowerShell en mode administrateur et ex√©cutez :
   ```sh
   cd C:\Apache24\bin
   ./httpd.exe -k install
   ```
4. D√©marrez Apache :
   ```sh
   httpd.exe -k start
   ```
5. V√©rifiez le bon fonctionnement via **http://localhost/**.

### **üîπ PHP**
1. T√©l√©chargez PHP depuis [Windows PHP Downloads](https://windows.php.net/download).
2. Extrayez l‚Äôarchive dans `C:\php`.
3. Renommez `php.ini-development` en `php.ini`.
4. Ajoutez PHP √† `httpd.conf` :
   ```apache
   PHPIniDir "C:/php"
   LoadModule php_module "C:/php/php8apache2_4.dll"
   AddType application/x-httpd-php .php
   ```
5. Red√©marrez Apache :
   ```sh
   httpd.exe -k restart
   ```
6. V√©rifiez l‚Äôinstallation en cr√©ant `info.php` :
   ```php
   <?php phpinfo(); ?>
   ```
   Acc√©dez √† **http://localhost/info.php**.

---

## **2Ô∏è‚É£ Compatibilit√© Apache et PHP**
**üìå Probl√®me :**  
- **Apache 2.4.63** ‚Üí Compil√© avec **VS17 (Visual Studio 2017)**.  
- **PHP 8.3.7** ‚Üí Compil√© avec **VC19 (Visual Studio 2019, NTS)** ‚ùå Incompatible avec Apache.  

**‚úÖ Solution : Installer PHP Thread Safe (TS) VS17**  
üîπ **Thread Safe (TS)** ‚Üí Requis pour **Apache (mod_php)**.  
üîπ **Non-Thread Safe (NTS)** ‚Üí Utilis√© pour **PHP-FPM, FastCGI (IIS, Nginx)**.  

**üìå Pour Apache 2.4.63, installez PHP 8.3.7 TS (VS17).**

---

## **3Ô∏è‚É£ Configuration de PHP pour Laravel**
Ajoutez ces extensions √† `php.ini` :
```ini
[PHP]
zend_extension = xdebug
xdebug.mode = debug
xdebug.start_with_request = yes

extension=openssl
extension=pdo_mysql
extension=fileinfo
extension=curl
extension=gd
extension=mbstring
extension=zip
```

---

## **4Ô∏è‚É£ Installation et Configuration de Laravel**
### **üîπ Composer & Laravel**
1. T√©l√©chargez **Composer** depuis [getcomposer.org](https://getcomposer.org/download/).
2. Installez Laravel :
   ```sh
   composer create-project --prefer-dist laravel/laravel solicode-lms
   ```
3. Configurez le **DocumentRoot** dans `httpd.conf` :
   ```apache
   DocumentRoot "C:/AppServer/solicode-lms/public"
   <Directory "C:/AppServer/solicode-lms/public">
       Options Indexes FollowSymLinks
       AllowOverride All
       Require all granted
   </Directory>
   ```
4. Activez **mod_rewrite** :
   ```apache
   LoadModule rewrite_module modules/mod_rewrite.so
   ```
5. Red√©marrez Apache :
   ```sh
   httpd.exe -k restart
   ```
6. Testez Laravel :
   ```sh
   php artisan serve
   ```

---

## **5Ô∏è‚É£ Installation et Configuration de Xdebug**

Voir l'article : Configuration de xdebug : 

xdebug ralenti le post d√©veloppeur, c'est pour √ßa on va installer xdebug avec activation en utilisation des variable d'environnement.

ici, vous allez trouver l'installatio normale.

### **üîπ V√©rifier si Xdebug est install√©**
```sh
php -v
```
Si Xdebug est list√©, il est install√©.

### **üîπ T√©l√©charger et Installer Xdebug**
1. V√©rifiez la version PHP :
   ```sh
   php -i | findstr "Compiler Architecture"
   ```
2. T√©l√©chargez la DLL compatible sur [Xdebug Wizard](https://xdebug.org/wizard).
3. Placez le fichier dans `C:\php\ext\`.

### **üîπ Activer Xdebug dans `php.ini`**
Ajoutez :
```ini
[Xdebug]
zend_extension="C:\php\ext\php_xdebug-3.3.2-8.3-vs17-x64.dll"
xdebug.mode=debug
xdebug.start_with_request=yes
xdebug.client_host=127.0.0.1
xdebug.client_port=9003
```
Red√©marrez Apache :
```sh
net stop Apache2.4
net start Apache2.4
```
Testez Xdebug avec :
```sh
php -m | findstr "xdebug"
```
Cr√©ez `test.php` :
```php
<?php phpinfo(); ?>
```
V√©rifiez sur **http://localhost/test.php**.

### **üîπ Int√©gration avec VS Code**
Ajoutez `.vscode/launch.json` :
```json
{
    "version": "0.2.0",
    "configurations": [
        {
            "name": "Listen for Xdebug",
            "type": "php",
            "request": "launch",
            "port": 9003
        }
    ]
}
```

---

## **6Ô∏è‚É£ D√©sinstallation d'Apache**
Si n√©cessaire, ex√©cutez PowerShell en mode administrateur :
```sh
net stop Apache2.4
.\httpd.exe -k uninstall
```

---

## **7Ô∏è‚É£ D√©bogage et Probl√®mes Courants**
### **üîπ V√©rifier la configuration Apache**
```sh
httpd.exe -t
```
Corrigez les erreurs indiqu√©es.

### **üîπ V√©rifier si Apache √©coute sur le bon port**
```sh
netstat -ano | findstr :80
```
Si n√©cessaire, modifiez **httpd.conf** :
```apache
Listen 8080
ServerName localhost:8080
```
Red√©marrez Apache et acc√©dez √† **http://localhost:8080**.

---

üöÄ **F√©licitations ! Apache + PHP + Laravel + Xdebug sont install√©s et pr√™ts √† l‚Äôemploi.**