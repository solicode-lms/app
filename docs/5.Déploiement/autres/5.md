Pour h√©berger trois sites (statique, PHP, et Laravel) sous un m√™me bloc `server` en utilisant des sous-r√©pertoires, vous pouvez configurer Nginx pour g√©rer chaque site en fonction de son chemin d'acc√®s. Voici une solution :

---

### Configuration Nginx avec des sous-r√©pertoires

Supposons que vous voulez acc√©der √† :
- Le site statique √† `http://solicodetanger.ma/static`.
- Le site PHP √† `http://solicodetanger.ma/php`.
- Le site Laravel √† `http://solicodetanger.ma/laravel`.

Voici un exemple de configuration pour votre bloc `server` :

```nginx
server {
    listen 80;
    listen [::]:80;

    root /var/www/solicodetanger.ma;
    index index.html index.php;

    server_name localhost 192.168.1.251 solicodetanger.ma www.solicodetanger.ma;

    # Site Statique
    location /static {
        root /var/www/formation-mobile;  # R√©pertoire du site statique
        index index.html;
        try_files $uri $uri/ =404;
    }

    # Site PHP
    location /php {
        root /var/www/solicodephp;  # R√©pertoire du site PHP
        index index.php;

        try_files $uri $uri/ =404;

        location ~ \.php$ {
            include snippets/fastcgi-php.conf;
            fastcgi_pass unix:/var/run/php/php8.3-fpm.sock;
            fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
            include fastcgi_params;
        }
    }

    # Site Laravel
    location /laravel {
        root /var/www/laravel/public;  # R√©pertoire public du site Laravel
        index index.php;

        try_files $uri $uri/ /index.php?$query_string;

        location ~ \.php$ {
            include snippets/fastcgi-php.conf;
            fastcgi_pass unix:/var/run/php/php8.3-fpm.sock;
            fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
            include fastcgi_params;
        }
    }
}
```

---

### Explication :
1. **Racines sp√©cifiques pour chaque sous-dossier** :
   - Le site statique utilise `/var/www/site-statique`.
   - Le site PHP utilise `/var/www/solicodephp`.
   - Laravel utilise `/var/www/laravel/public`.

2. **`try_files` pour Laravel** :
   - Redirige les requ√™tes manquantes vers `index.php` pour que Laravel g√®re les routes.

3. **Gestion de fichiers PHP** :
   - Pour les sites PHP et Laravel, les fichiers `.php` sont trait√©s par PHP-FPM via le socket.

---

### √âtapes pour activer la configuration :
1. **Modifier le fichier de configuration** :
   Ajoutez la configuration ci-dessus dans `/etc/nginx/sites-available/solicodetanger.ma`.

2. **Cr√©er des liens symboliques** :
   Assurez-vous que le fichier est activ√© avec :
   ```bash
   sudo ln -s /etc/nginx/sites-available/solicodetanger.ma /etc/nginx/sites-enabled/
   ```

3. **Tester la configuration Nginx** :
   Avant de recharger Nginx, testez la configuration :
   ```bash
   sudo nginx -t
   ```

4. **Red√©marrer Nginx** :
   Rechargez le serveur pour appliquer les changements :
   ```bash
   sudo systemctl reload nginx
   ```

---

### R√©sultat attendu :
- Acc√©der √† `http://solicodetanger.ma/static` affichera le site statique.
- Acc√©der √† `http://solicodetanger.ma/php` ex√©cutera le site PHP.
- Acc√©der √† `http://solicodetanger.ma/laravel` chargera votre application Laravel.

N'h√©sitez pas √† demander si vous avez besoin d'aide suppl√©mentaire ! üòä