# How to secure a private IP address with HTTPS ( Nginx | Ubuntu)


Voici un **tutoriel dÃ©taillÃ©** pour configurer un **serveur web sÃ©curisÃ© en local avec Nginx et SSL** sous **Ubuntu** ou **MacOS**, en utilisant **OpenSSL** pour gÃ©nÃ©rer un certificat **auto-signÃ©**.

---

## ğŸš€ **Tutoriel : Configurer un serveur web sÃ©curisÃ© en local avec Nginx et SSL**
**ğŸ› ï¸ PrÃ©requis :**  
âœ”ï¸ Un serveur Nginx installÃ©  
âœ”ï¸ OpenSSL installÃ©  

---

### ğŸ“Œ **1. Installer Nginx et OpenSSL**
#### **Ubuntu / Debian :**
```bash
sudo apt install openssl -y
```


VÃ©rifie si OpenSSL est installÃ© :
```bash
openssl version
```
Si la commande renvoie une version (ex: **OpenSSL 1.1.1**), tout est bon !

---

### ğŸ“Œ **2. GÃ©nÃ©rer un certificat SSL auto-signÃ©**
#### **1ï¸âƒ£ GÃ©nÃ©rer une clÃ© privÃ©e**
```bash
openssl genrsa -out private.key 2048
```

#### **2ï¸âƒ£ CrÃ©er une requÃªte de signature de certificat (CSR)**
```bash
openssl req -new -key private.key -out csr.csr
```
â¡ï¸ Il te demandera plusieurs informations comme le pays, la ville, et surtout le **Common Name (CN)** :  
ğŸ“¢ Mets **localhost** si tu veux utiliser HTTPS sur ton PC en local.

#### **3ï¸âƒ£ GÃ©nÃ©rer un certificat auto-signÃ©**
```bash
openssl x509 -req -days 365 -in csr.csr -signkey private.key -out certificate.crt
```
âœ… Ton certificat est valide pour **1 an (365 jours)**.

VÃ©rifie que le certificat est bien gÃ©nÃ©rÃ© :
```bash
openssl x509 -in certificate.crt -text -noout
```

---

### ğŸ“Œ **3. Configurer Nginx pour utiliser le certificat SSL**
#### **1ï¸âƒ£ Localiser le fichier de configuration de Nginx**
Les fichiers de configuration de Nginx peuvent Ãªtre situÃ©s dans :
```
/etc/nginx/nginx.conf  (Ubuntu/Debian)
/etc/nginx/sites-available/default  (Ubuntu/Debian)
/usr/local/etc/nginx/nginx.conf  (MacOS avec Homebrew)
```

Ouvre le fichier de configuration :
```bash
sudo nano /etc/nginx/sites-available/default
```

#### **2ï¸âƒ£ Modifier la configuration pour activer HTTPS**
Ajoute ces lignes dans le bloc `server {}` :
```nginx
server {
    listen 443 ssl;
    server_name localhost;

    ssl_certificate /chemin/vers/certificate.crt;
    ssl_certificate_key /chemin/vers/private.key;

    root /var/www/html;
    index index.html index.htm;

    location / {
        try_files $uri $uri/ =404;
    }
}
```
âš ï¸ Remplace **/chemin/vers/** par le chemin rÃ©el oÃ¹ se trouvent tes fichiers.

---

### ğŸ“Œ **4. VÃ©rifier et redÃ©marrer Nginx**
#### **1ï¸âƒ£ VÃ©rifier la configuration**
```bash
sudo nginx -t
```
âœ”ï¸ Si tout est correct, tu verras :  
   `nginx: configuration file /etc/nginx/nginx.conf test is successful`

#### **2ï¸âƒ£ RedÃ©marrer Nginx**
```bash
sudo systemctl restart nginx
```

---

### ğŸ“Œ **5. AccÃ©der au serveur HTTPS**
- Ouvre un navigateur et tape :
  ```
  https://localhost
  ```
- âš ï¸ Tu auras une alerte **"Connexion non sÃ©curisÃ©e"** car le certificat est **auto-signÃ©**.
- Pour Ã©viter Ã§a, ajoute ton **certificat comme autoritÃ© de confiance** dans ton navigateur.

---

## âœ… **Bonus : Ajouter le certificat Ã  Google Chrome**
1. **Ouvrir Chrome**  
   ğŸ”— Va dans `chrome://settings/security`  
2. **Cliquer sur "GÃ©rer les certificats"**
3. **Onglet "AutoritÃ©s" > Importer le certificat**
4. SÃ©lectionne ton fichier **certificate.crt**
5. âœ… Coche **"Faire confiance Ã  cette CA pour identifier des sites Web"**
6. RedÃ©marre Chrome

---

### ğŸ¯ **Conclusion**
âœ”ï¸ Maintenant, ton serveur local fonctionne avec **HTTPS** !  
âœ”ï¸ Si tu veux Ã©viter le problÃ¨me du certificat auto-signÃ©, utilise **Let's Encrypt** (nÃ©cessite un domaine public).  

**Besoin dâ€™aide ? Dis-moi oÃ¹ tu bloques ! ğŸš€**

## RÃ©fÃ©rences 

- https://arie-m-prasetyo.medium.com/local-secure-web-server-with-nginx-and-ssl-125256e7a2f5
- 
- https://medium.com/junior-dev/how-to-secure-a-private-ip-address-with-https-nginx-ubuntu-ef8374dbfa4e