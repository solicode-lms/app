/* === Realisation-état — Style sobre, sans animation === */

.realisation-etat{
  --accent: var(--etat-color, #6c757d);
  --piste: color-mix(in srgb, var(--accent) 10%, #f1f5f9);
  --stroke: #e5e7eb;

  background: #fff;
  border: 1px solid var(--stroke);
  border-radius: 10px;
  padding: .75rem .9rem;
  display: flex;
  flex-direction: column;
  gap: .5rem;
  font-family: 'Inter','Segoe UI',system-ui,-apple-system,sans-serif;
}

/* Badge état — pastille simple, lisible */
.realisation-etat .badge-etat{
  font-size: .82rem;
  font-weight: 600;
  padding: .25rem .6rem;
  border-radius: 9999px;
  display: inline-flex;
  align-items: center;
  max-width: 100%;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;

  /* atténuer le fond pour garder une touche sobre, quel que soit l'état */
  background: color-mix(in srgb, var(--accent) 12%, #ffffff) !important;
  color: #111827;
  border: 1px solid color-mix(in srgb, var(--accent) 24%, #e5e7eb);
}

/* Lignes méta — simples, sans arrière-plan décoratif */
.realisation-etat .etat-meta{
  display: flex;
  align-items: center;
  gap: .5rem;
  font-size: .83rem;
  color: #374151;
  padding: .3rem 0;
}
/* séparateur discret uniquement entre lignes successives */
.realisation-etat .etat-meta + .etat-meta{
  border-top: 1px solid #f3f4f6;
  padding-top: .45rem;
  margin-top: .15rem;
}

.realisation-etat .etat-meta i{
  font-size: .85rem;
  color: #9ca3af;
}

/* Progressbar — monochrome alignée sur la couleur d'état */
.realisation-etat .progress{
  background-color: var(--piste);
  border-radius: 8px;
  overflow: hidden;
}
.realisation-etat .progress.progress-sm{ height: .75rem; }

.realisation-etat .progress-bar.bg-success,
.realisation-etat .progress-bar.bg-warning,
.realisation-etat .progress-bar.bg-info{
  background-color: var(--accent) !important;
  background-image: none !important;
  color: #fff;
}

/* léger différentiel pour distinguer les segments sans multiplier les couleurs */
.realisation-etat .progress-bar.bg-warning{ opacity: .85; } /* retard */
.realisation-etat .progress-bar.bg-info{    opacity: .95; } /* avance */

/* Texte complémentaire */
.realisation-etat .text-muted{ color: #6b7280 !important; font-weight: 500; }
.realisation-etat strong{ color: #111827; }
.realisation-etat small{ font-size: .78rem; }

/* Fallback si color-mix non supporté */
@supports not (background: color-mix(in srgb, #000 50%, #fff 50%)){
  .realisation-etat .badge-etat{
    background: #f9fafb !important;
    border-color: #e5e7eb;
  }
  .realisation-etat .progress{ background-color: #f3f4f6; }
}
