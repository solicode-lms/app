{"version":3,"file":"admin-lYgrzkF0.js","sources":["../../../node_modules/sweetalert2/dist/sweetalert2.esm.all.js","../../../resources/js/crud/components/NotificationHandler.js","../../../resources/js/crud/components/LoadingIndicator.js","../../../resources/js/crud/components/ViewStateService.js","../../../resources/js/crud/utils/EventUtil.js","../../../resources/js/crud/treatments/form/DynamicFieldVisibilityTreatment.js","../../../node_modules/codejar/dist/codejar.js","../../../node_modules/prismjs/prism.js","../../../node_modules/prismjs/components/prism-json.js","../../../resources/js/crud/components/SessionStateService.js","../../../resources/js/crud/helpers/ConfigHelper.js","../../../resources/js/crud/helpers/ConfigCrudManagerHelper.js","../../../resources/js/crud/helpers/ConfigWithTabPanelManageHelper.js","../../../resources/js/crud/eventsHandler/ContexteStateEventHandler.js","../../../resources/js/crud/components/AjaxErrorHandler.js","../../../resources/js/crud/components/ModalUI.js","../../../resources/js/crud/actions/BaseAction.js","../../../resources/js/crud/actions/LoadListAction.js","../../../resources/js/crud/actions/Action.js","../../../resources/js/crud/actions/CrudAction.js","../../../resources/js/crud/actions/CreateAction.js","../../../node_modules/flatpickr/dist/esm/types/options.js","../../../node_modules/flatpickr/dist/esm/l10n/default.js","../../../node_modules/flatpickr/dist/esm/utils/index.js","../../../node_modules/flatpickr/dist/esm/utils/dom.js","../../../node_modules/flatpickr/dist/esm/utils/formatting.js","../../../node_modules/flatpickr/dist/esm/utils/dates.js","../../../node_modules/flatpickr/dist/esm/utils/polyfills.js","../../../node_modules/flatpickr/dist/esm/index.js","../../../node_modules/flatpickr/dist/l10n/fr.js","../../../resources/js/crud/treatments/global/DynamicDropdownTreatment.js","../../../resources/js/crud/actions/EditAction.js","../../../resources/js/crud/components/ShowUI.js","../../../resources/js/crud/actions/ShowAction.js","../../../resources/js/crud/actions/DeleteAction.js","../../../resources/js/crud/actions/EntityAction.js","../../../resources/js/crud/actions/IndexViewSwitcherAction.js","../../../resources/js/crud/actions/ShowIndexAction.js","../../../resources/js/crud/actions/BulkAction.js","../../../resources/js/crud/components/TableUI/OrdreColumn.js","../../../resources/js/crud/components/TableUI/InlineEdit.js","../../../resources/js/crud/components/TableUI.js","../../../resources/js/crud/components/BulkActionsUI.js","../../../resources/js/crud/components/FilterUI.js","../../../resources/js/crud/components/PaginationUI.js","../../../resources/js/crud/components/NotificationUI.js","../../../resources/js/crud/managers/CrudModalManager.js","../../../resources/js/crud/managers/EditWithTabPanel.js","../../../resources/js/crud/InitUIManagers.js","../../../resources/js/crud/treatments/form/DataCalculTreatment.js","../../../resources/js/crud/treatments/form/LocalStorageDefaultTreatment.js","../../../resources/js/crud/components/FormUI.js","../../../resources/js/crud/components/DashboardUI.js","../../../resources/js/AsideMenu.js","../../../resources/js/admin.js"],"sourcesContent":["/*!\n* sweetalert2 v11.15.3\n* Released under the MIT License.\n*/\nfunction _assertClassBrand(e, t, n) {\n  if (\"function\" == typeof e ? e === t : e.has(t)) return arguments.length < 3 ? t : n;\n  throw new TypeError(\"Private element is not present on this object\");\n}\nfunction _checkPrivateRedeclaration(e, t) {\n  if (t.has(e)) throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n}\nfunction _classPrivateFieldGet2(s, a) {\n  return s.get(_assertClassBrand(s, a));\n}\nfunction _classPrivateFieldInitSpec(e, t, a) {\n  _checkPrivateRedeclaration(e, t), t.set(e, a);\n}\nfunction _classPrivateFieldSet2(s, a, r) {\n  return s.set(_assertClassBrand(s, a), r), r;\n}\n\nconst RESTORE_FOCUS_TIMEOUT = 100;\n\n/** @type {GlobalState} */\nconst globalState = {};\nconst focusPreviousActiveElement = () => {\n  if (globalState.previousActiveElement instanceof HTMLElement) {\n    globalState.previousActiveElement.focus();\n    globalState.previousActiveElement = null;\n  } else if (document.body) {\n    document.body.focus();\n  }\n};\n\n/**\n * Restore previous active (focused) element\n *\n * @param {boolean} returnFocus\n * @returns {Promise<void>}\n */\nconst restoreActiveElement = returnFocus => {\n  return new Promise(resolve => {\n    if (!returnFocus) {\n      return resolve();\n    }\n    const x = window.scrollX;\n    const y = window.scrollY;\n    globalState.restoreFocusTimeout = setTimeout(() => {\n      focusPreviousActiveElement();\n      resolve();\n    }, RESTORE_FOCUS_TIMEOUT); // issues/900\n\n    window.scrollTo(x, y);\n  });\n};\n\nconst swalPrefix = 'swal2-';\n\n/**\n * @typedef {Record<SwalClass, string>} SwalClasses\n */\n\n/**\n * @typedef {'success' | 'warning' | 'info' | 'question' | 'error'} SwalIcon\n * @typedef {Record<SwalIcon, string>} SwalIcons\n */\n\n/** @type {SwalClass[]} */\nconst classNames = ['container', 'shown', 'height-auto', 'iosfix', 'popup', 'modal', 'no-backdrop', 'no-transition', 'toast', 'toast-shown', 'show', 'hide', 'close', 'title', 'html-container', 'actions', 'confirm', 'deny', 'cancel', 'default-outline', 'footer', 'icon', 'icon-content', 'image', 'input', 'file', 'range', 'select', 'radio', 'checkbox', 'label', 'textarea', 'inputerror', 'input-label', 'validation-message', 'progress-steps', 'active-progress-step', 'progress-step', 'progress-step-line', 'loader', 'loading', 'styled', 'top', 'top-start', 'top-end', 'top-left', 'top-right', 'center', 'center-start', 'center-end', 'center-left', 'center-right', 'bottom', 'bottom-start', 'bottom-end', 'bottom-left', 'bottom-right', 'grow-row', 'grow-column', 'grow-fullscreen', 'rtl', 'timer-progress-bar', 'timer-progress-bar-container', 'scrollbar-measure', 'icon-success', 'icon-warning', 'icon-info', 'icon-question', 'icon-error', 'draggable', 'dragging'];\nconst swalClasses = classNames.reduce((acc, className) => {\n  acc[className] = swalPrefix + className;\n  return acc;\n}, /** @type {SwalClasses} */{});\n\n/** @type {SwalIcon[]} */\nconst icons = ['success', 'warning', 'info', 'question', 'error'];\nconst iconTypes = icons.reduce((acc, icon) => {\n  acc[icon] = swalPrefix + icon;\n  return acc;\n}, /** @type {SwalIcons} */{});\n\nconst consolePrefix = 'SweetAlert2:';\n\n/**\n * Capitalize the first letter of a string\n *\n * @param {string} str\n * @returns {string}\n */\nconst capitalizeFirstLetter = str => str.charAt(0).toUpperCase() + str.slice(1);\n\n/**\n * Standardize console warnings\n *\n * @param {string | string[]} message\n */\nconst warn = message => {\n  console.warn(`${consolePrefix} ${typeof message === 'object' ? message.join(' ') : message}`);\n};\n\n/**\n * Standardize console errors\n *\n * @param {string} message\n */\nconst error = message => {\n  console.error(`${consolePrefix} ${message}`);\n};\n\n/**\n * Private global state for `warnOnce`\n *\n * @type {string[]}\n * @private\n */\nconst previousWarnOnceMessages = [];\n\n/**\n * Show a console warning, but only if it hasn't already been shown\n *\n * @param {string} message\n */\nconst warnOnce = message => {\n  if (!previousWarnOnceMessages.includes(message)) {\n    previousWarnOnceMessages.push(message);\n    warn(message);\n  }\n};\n\n/**\n * Show a one-time console warning about deprecated params/methods\n *\n * @param {string} deprecatedParam\n * @param {string?} useInstead\n */\nconst warnAboutDeprecation = function (deprecatedParam) {\n  let useInstead = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  warnOnce(`\"${deprecatedParam}\" is deprecated and will be removed in the next major release.${useInstead ? ` Use \"${useInstead}\" instead.` : ''}`);\n};\n\n/**\n * If `arg` is a function, call it (with no arguments or context) and return the result.\n * Otherwise, just pass the value through\n *\n * @param {Function | any} arg\n * @returns {any}\n */\nconst callIfFunction = arg => typeof arg === 'function' ? arg() : arg;\n\n/**\n * @param {any} arg\n * @returns {boolean}\n */\nconst hasToPromiseFn = arg => arg && typeof arg.toPromise === 'function';\n\n/**\n * @param {any} arg\n * @returns {Promise<any>}\n */\nconst asPromise = arg => hasToPromiseFn(arg) ? arg.toPromise() : Promise.resolve(arg);\n\n/**\n * @param {any} arg\n * @returns {boolean}\n */\nconst isPromise = arg => arg && Promise.resolve(arg) === arg;\n\n/**\n * Gets the popup container which contains the backdrop and the popup itself.\n *\n * @returns {HTMLElement | null}\n */\nconst getContainer = () => document.body.querySelector(`.${swalClasses.container}`);\n\n/**\n * @param {string} selectorString\n * @returns {HTMLElement | null}\n */\nconst elementBySelector = selectorString => {\n  const container = getContainer();\n  return container ? container.querySelector(selectorString) : null;\n};\n\n/**\n * @param {string} className\n * @returns {HTMLElement | null}\n */\nconst elementByClass = className => {\n  return elementBySelector(`.${className}`);\n};\n\n/**\n * @returns {HTMLElement | null}\n */\nconst getPopup = () => elementByClass(swalClasses.popup);\n\n/**\n * @returns {HTMLElement | null}\n */\nconst getIcon = () => elementByClass(swalClasses.icon);\n\n/**\n * @returns {HTMLElement | null}\n */\nconst getIconContent = () => elementByClass(swalClasses['icon-content']);\n\n/**\n * @returns {HTMLElement | null}\n */\nconst getTitle = () => elementByClass(swalClasses.title);\n\n/**\n * @returns {HTMLElement | null}\n */\nconst getHtmlContainer = () => elementByClass(swalClasses['html-container']);\n\n/**\n * @returns {HTMLElement | null}\n */\nconst getImage = () => elementByClass(swalClasses.image);\n\n/**\n * @returns {HTMLElement | null}\n */\nconst getProgressSteps = () => elementByClass(swalClasses['progress-steps']);\n\n/**\n * @returns {HTMLElement | null}\n */\nconst getValidationMessage = () => elementByClass(swalClasses['validation-message']);\n\n/**\n * @returns {HTMLButtonElement | null}\n */\nconst getConfirmButton = () => (/** @type {HTMLButtonElement} */elementBySelector(`.${swalClasses.actions} .${swalClasses.confirm}`));\n\n/**\n * @returns {HTMLButtonElement | null}\n */\nconst getCancelButton = () => (/** @type {HTMLButtonElement} */elementBySelector(`.${swalClasses.actions} .${swalClasses.cancel}`));\n\n/**\n * @returns {HTMLButtonElement | null}\n */\nconst getDenyButton = () => (/** @type {HTMLButtonElement} */elementBySelector(`.${swalClasses.actions} .${swalClasses.deny}`));\n\n/**\n * @returns {HTMLElement | null}\n */\nconst getInputLabel = () => elementByClass(swalClasses['input-label']);\n\n/**\n * @returns {HTMLElement | null}\n */\nconst getLoader = () => elementBySelector(`.${swalClasses.loader}`);\n\n/**\n * @returns {HTMLElement | null}\n */\nconst getActions = () => elementByClass(swalClasses.actions);\n\n/**\n * @returns {HTMLElement | null}\n */\nconst getFooter = () => elementByClass(swalClasses.footer);\n\n/**\n * @returns {HTMLElement | null}\n */\nconst getTimerProgressBar = () => elementByClass(swalClasses['timer-progress-bar']);\n\n/**\n * @returns {HTMLElement | null}\n */\nconst getCloseButton = () => elementByClass(swalClasses.close);\n\n// https://github.com/jkup/focusable/blob/master/index.js\nconst focusable = `\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex=\"0\"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n`;\n/**\n * @returns {HTMLElement[]}\n */\nconst getFocusableElements = () => {\n  const popup = getPopup();\n  if (!popup) {\n    return [];\n  }\n  /** @type {NodeListOf<HTMLElement>} */\n  const focusableElementsWithTabindex = popup.querySelectorAll('[tabindex]:not([tabindex=\"-1\"]):not([tabindex=\"0\"])');\n  const focusableElementsWithTabindexSorted = Array.from(focusableElementsWithTabindex)\n  // sort according to tabindex\n  .sort((a, b) => {\n    const tabindexA = parseInt(a.getAttribute('tabindex') || '0');\n    const tabindexB = parseInt(b.getAttribute('tabindex') || '0');\n    if (tabindexA > tabindexB) {\n      return 1;\n    } else if (tabindexA < tabindexB) {\n      return -1;\n    }\n    return 0;\n  });\n\n  /** @type {NodeListOf<HTMLElement>} */\n  const otherFocusableElements = popup.querySelectorAll(focusable);\n  const otherFocusableElementsFiltered = Array.from(otherFocusableElements).filter(el => el.getAttribute('tabindex') !== '-1');\n  return [...new Set(focusableElementsWithTabindexSorted.concat(otherFocusableElementsFiltered))].filter(el => isVisible$1(el));\n};\n\n/**\n * @returns {boolean}\n */\nconst isModal = () => {\n  return hasClass(document.body, swalClasses.shown) && !hasClass(document.body, swalClasses['toast-shown']) && !hasClass(document.body, swalClasses['no-backdrop']);\n};\n\n/**\n * @returns {boolean}\n */\nconst isToast = () => {\n  const popup = getPopup();\n  if (!popup) {\n    return false;\n  }\n  return hasClass(popup, swalClasses.toast);\n};\n\n/**\n * @returns {boolean}\n */\nconst isLoading = () => {\n  const popup = getPopup();\n  if (!popup) {\n    return false;\n  }\n  return popup.hasAttribute('data-loading');\n};\n\n/**\n * Securely set innerHTML of an element\n * https://github.com/sweetalert2/sweetalert2/issues/1926\n *\n * @param {HTMLElement} elem\n * @param {string} html\n */\nconst setInnerHtml = (elem, html) => {\n  elem.textContent = '';\n  if (html) {\n    const parser = new DOMParser();\n    const parsed = parser.parseFromString(html, `text/html`);\n    const head = parsed.querySelector('head');\n    if (head) {\n      Array.from(head.childNodes).forEach(child => {\n        elem.appendChild(child);\n      });\n    }\n    const body = parsed.querySelector('body');\n    if (body) {\n      Array.from(body.childNodes).forEach(child => {\n        if (child instanceof HTMLVideoElement || child instanceof HTMLAudioElement) {\n          elem.appendChild(child.cloneNode(true)); // https://github.com/sweetalert2/sweetalert2/issues/2507\n        } else {\n          elem.appendChild(child);\n        }\n      });\n    }\n  }\n};\n\n/**\n * @param {HTMLElement} elem\n * @param {string} className\n * @returns {boolean}\n */\nconst hasClass = (elem, className) => {\n  if (!className) {\n    return false;\n  }\n  const classList = className.split(/\\s+/);\n  for (let i = 0; i < classList.length; i++) {\n    if (!elem.classList.contains(classList[i])) {\n      return false;\n    }\n  }\n  return true;\n};\n\n/**\n * @param {HTMLElement} elem\n * @param {SweetAlertOptions} params\n */\nconst removeCustomClasses = (elem, params) => {\n  Array.from(elem.classList).forEach(className => {\n    if (!Object.values(swalClasses).includes(className) && !Object.values(iconTypes).includes(className) && !Object.values(params.showClass || {}).includes(className)) {\n      elem.classList.remove(className);\n    }\n  });\n};\n\n/**\n * @param {HTMLElement} elem\n * @param {SweetAlertOptions} params\n * @param {string} className\n */\nconst applyCustomClass = (elem, params, className) => {\n  removeCustomClasses(elem, params);\n  if (!params.customClass) {\n    return;\n  }\n  const customClass = params.customClass[(/** @type {keyof SweetAlertCustomClass} */className)];\n  if (!customClass) {\n    return;\n  }\n  if (typeof customClass !== 'string' && !customClass.forEach) {\n    warn(`Invalid type of customClass.${className}! Expected string or iterable object, got \"${typeof customClass}\"`);\n    return;\n  }\n  addClass(elem, customClass);\n};\n\n/**\n * @param {HTMLElement} popup\n * @param {import('./renderers/renderInput').InputClass | SweetAlertInput} inputClass\n * @returns {HTMLInputElement | null}\n */\nconst getInput$1 = (popup, inputClass) => {\n  if (!inputClass) {\n    return null;\n  }\n  switch (inputClass) {\n    case 'select':\n    case 'textarea':\n    case 'file':\n      return popup.querySelector(`.${swalClasses.popup} > .${swalClasses[inputClass]}`);\n    case 'checkbox':\n      return popup.querySelector(`.${swalClasses.popup} > .${swalClasses.checkbox} input`);\n    case 'radio':\n      return popup.querySelector(`.${swalClasses.popup} > .${swalClasses.radio} input:checked`) || popup.querySelector(`.${swalClasses.popup} > .${swalClasses.radio} input:first-child`);\n    case 'range':\n      return popup.querySelector(`.${swalClasses.popup} > .${swalClasses.range} input`);\n    default:\n      return popup.querySelector(`.${swalClasses.popup} > .${swalClasses.input}`);\n  }\n};\n\n/**\n * @param {HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement} input\n */\nconst focusInput = input => {\n  input.focus();\n\n  // place cursor at end of text in text input\n  if (input.type !== 'file') {\n    // http://stackoverflow.com/a/2345915\n    const val = input.value;\n    input.value = '';\n    input.value = val;\n  }\n};\n\n/**\n * @param {HTMLElement | HTMLElement[] | null} target\n * @param {string | string[] | readonly string[] | undefined} classList\n * @param {boolean} condition\n */\nconst toggleClass = (target, classList, condition) => {\n  if (!target || !classList) {\n    return;\n  }\n  if (typeof classList === 'string') {\n    classList = classList.split(/\\s+/).filter(Boolean);\n  }\n  classList.forEach(className => {\n    if (Array.isArray(target)) {\n      target.forEach(elem => {\n        if (condition) {\n          elem.classList.add(className);\n        } else {\n          elem.classList.remove(className);\n        }\n      });\n    } else {\n      if (condition) {\n        target.classList.add(className);\n      } else {\n        target.classList.remove(className);\n      }\n    }\n  });\n};\n\n/**\n * @param {HTMLElement | HTMLElement[] | null} target\n * @param {string | string[] | readonly string[] | undefined} classList\n */\nconst addClass = (target, classList) => {\n  toggleClass(target, classList, true);\n};\n\n/**\n * @param {HTMLElement | HTMLElement[] | null} target\n * @param {string | string[] | readonly string[] | undefined} classList\n */\nconst removeClass = (target, classList) => {\n  toggleClass(target, classList, false);\n};\n\n/**\n * Get direct child of an element by class name\n *\n * @param {HTMLElement} elem\n * @param {string} className\n * @returns {HTMLElement | undefined}\n */\nconst getDirectChildByClass = (elem, className) => {\n  const children = Array.from(elem.children);\n  for (let i = 0; i < children.length; i++) {\n    const child = children[i];\n    if (child instanceof HTMLElement && hasClass(child, className)) {\n      return child;\n    }\n  }\n};\n\n/**\n * @param {HTMLElement} elem\n * @param {string} property\n * @param {*} value\n */\nconst applyNumericalStyle = (elem, property, value) => {\n  if (value === `${parseInt(value)}`) {\n    value = parseInt(value);\n  }\n  if (value || parseInt(value) === 0) {\n    elem.style.setProperty(property, typeof value === 'number' ? `${value}px` : value);\n  } else {\n    elem.style.removeProperty(property);\n  }\n};\n\n/**\n * @param {HTMLElement | null} elem\n * @param {string} display\n */\nconst show = function (elem) {\n  let display = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'flex';\n  if (!elem) {\n    return;\n  }\n  elem.style.display = display;\n};\n\n/**\n * @param {HTMLElement | null} elem\n */\nconst hide = elem => {\n  if (!elem) {\n    return;\n  }\n  elem.style.display = 'none';\n};\n\n/**\n * @param {HTMLElement | null} elem\n * @param {string} display\n */\nconst showWhenInnerHtmlPresent = function (elem) {\n  let display = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'block';\n  if (!elem) {\n    return;\n  }\n  new MutationObserver(() => {\n    toggle(elem, elem.innerHTML, display);\n  }).observe(elem, {\n    childList: true,\n    subtree: true\n  });\n};\n\n/**\n * @param {HTMLElement} parent\n * @param {string} selector\n * @param {string} property\n * @param {string} value\n */\nconst setStyle = (parent, selector, property, value) => {\n  /** @type {HTMLElement | null} */\n  const el = parent.querySelector(selector);\n  if (el) {\n    el.style.setProperty(property, value);\n  }\n};\n\n/**\n * @param {HTMLElement} elem\n * @param {any} condition\n * @param {string} display\n */\nconst toggle = function (elem, condition) {\n  let display = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'flex';\n  if (condition) {\n    show(elem, display);\n  } else {\n    hide(elem);\n  }\n};\n\n/**\n * borrowed from jquery $(elem).is(':visible') implementation\n *\n * @param {HTMLElement | null} elem\n * @returns {boolean}\n */\nconst isVisible$1 = elem => !!(elem && (elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length));\n\n/**\n * @returns {boolean}\n */\nconst allButtonsAreHidden = () => !isVisible$1(getConfirmButton()) && !isVisible$1(getDenyButton()) && !isVisible$1(getCancelButton());\n\n/**\n * @param {HTMLElement} elem\n * @returns {boolean}\n */\nconst isScrollable = elem => !!(elem.scrollHeight > elem.clientHeight);\n\n/**\n * borrowed from https://stackoverflow.com/a/46352119\n *\n * @param {HTMLElement} elem\n * @returns {boolean}\n */\nconst hasCssAnimation = elem => {\n  const style = window.getComputedStyle(elem);\n  const animDuration = parseFloat(style.getPropertyValue('animation-duration') || '0');\n  const transDuration = parseFloat(style.getPropertyValue('transition-duration') || '0');\n  return animDuration > 0 || transDuration > 0;\n};\n\n/**\n * @param {number} timer\n * @param {boolean} reset\n */\nconst animateTimerProgressBar = function (timer) {\n  let reset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  const timerProgressBar = getTimerProgressBar();\n  if (!timerProgressBar) {\n    return;\n  }\n  if (isVisible$1(timerProgressBar)) {\n    if (reset) {\n      timerProgressBar.style.transition = 'none';\n      timerProgressBar.style.width = '100%';\n    }\n    setTimeout(() => {\n      timerProgressBar.style.transition = `width ${timer / 1000}s linear`;\n      timerProgressBar.style.width = '0%';\n    }, 10);\n  }\n};\nconst stopTimerProgressBar = () => {\n  const timerProgressBar = getTimerProgressBar();\n  if (!timerProgressBar) {\n    return;\n  }\n  const timerProgressBarWidth = parseInt(window.getComputedStyle(timerProgressBar).width);\n  timerProgressBar.style.removeProperty('transition');\n  timerProgressBar.style.width = '100%';\n  const timerProgressBarFullWidth = parseInt(window.getComputedStyle(timerProgressBar).width);\n  const timerProgressBarPercent = timerProgressBarWidth / timerProgressBarFullWidth * 100;\n  timerProgressBar.style.width = `${timerProgressBarPercent}%`;\n};\n\n/**\n * Detect Node env\n *\n * @returns {boolean}\n */\nconst isNodeEnv = () => typeof window === 'undefined' || typeof document === 'undefined';\n\nconst sweetHTML = `\n <div aria-labelledby=\"${swalClasses.title}\" aria-describedby=\"${swalClasses['html-container']}\" class=\"${swalClasses.popup}\" tabindex=\"-1\">\n   <button type=\"button\" class=\"${swalClasses.close}\"></button>\n   <ul class=\"${swalClasses['progress-steps']}\"></ul>\n   <div class=\"${swalClasses.icon}\"></div>\n   <img class=\"${swalClasses.image}\" />\n   <h2 class=\"${swalClasses.title}\" id=\"${swalClasses.title}\"></h2>\n   <div class=\"${swalClasses['html-container']}\" id=\"${swalClasses['html-container']}\"></div>\n   <input class=\"${swalClasses.input}\" id=\"${swalClasses.input}\" />\n   <input type=\"file\" class=\"${swalClasses.file}\" />\n   <div class=\"${swalClasses.range}\">\n     <input type=\"range\" />\n     <output></output>\n   </div>\n   <select class=\"${swalClasses.select}\" id=\"${swalClasses.select}\"></select>\n   <div class=\"${swalClasses.radio}\"></div>\n   <label class=\"${swalClasses.checkbox}\">\n     <input type=\"checkbox\" id=\"${swalClasses.checkbox}\" />\n     <span class=\"${swalClasses.label}\"></span>\n   </label>\n   <textarea class=\"${swalClasses.textarea}\" id=\"${swalClasses.textarea}\"></textarea>\n   <div class=\"${swalClasses['validation-message']}\" id=\"${swalClasses['validation-message']}\"></div>\n   <div class=\"${swalClasses.actions}\">\n     <div class=\"${swalClasses.loader}\"></div>\n     <button type=\"button\" class=\"${swalClasses.confirm}\"></button>\n     <button type=\"button\" class=\"${swalClasses.deny}\"></button>\n     <button type=\"button\" class=\"${swalClasses.cancel}\"></button>\n   </div>\n   <div class=\"${swalClasses.footer}\"></div>\n   <div class=\"${swalClasses['timer-progress-bar-container']}\">\n     <div class=\"${swalClasses['timer-progress-bar']}\"></div>\n   </div>\n </div>\n`.replace(/(^|\\n)\\s*/g, '');\n\n/**\n * @returns {boolean}\n */\nconst resetOldContainer = () => {\n  const oldContainer = getContainer();\n  if (!oldContainer) {\n    return false;\n  }\n  oldContainer.remove();\n  removeClass([document.documentElement, document.body], [swalClasses['no-backdrop'], swalClasses['toast-shown'], swalClasses['has-column']]);\n  return true;\n};\nconst resetValidationMessage$1 = () => {\n  globalState.currentInstance.resetValidationMessage();\n};\nconst addInputChangeListeners = () => {\n  const popup = getPopup();\n  const input = getDirectChildByClass(popup, swalClasses.input);\n  const file = getDirectChildByClass(popup, swalClasses.file);\n  /** @type {HTMLInputElement} */\n  const range = popup.querySelector(`.${swalClasses.range} input`);\n  /** @type {HTMLOutputElement} */\n  const rangeOutput = popup.querySelector(`.${swalClasses.range} output`);\n  const select = getDirectChildByClass(popup, swalClasses.select);\n  /** @type {HTMLInputElement} */\n  const checkbox = popup.querySelector(`.${swalClasses.checkbox} input`);\n  const textarea = getDirectChildByClass(popup, swalClasses.textarea);\n  input.oninput = resetValidationMessage$1;\n  file.onchange = resetValidationMessage$1;\n  select.onchange = resetValidationMessage$1;\n  checkbox.onchange = resetValidationMessage$1;\n  textarea.oninput = resetValidationMessage$1;\n  range.oninput = () => {\n    resetValidationMessage$1();\n    rangeOutput.value = range.value;\n  };\n  range.onchange = () => {\n    resetValidationMessage$1();\n    rangeOutput.value = range.value;\n  };\n};\n\n/**\n * @param {string | HTMLElement} target\n * @returns {HTMLElement}\n */\nconst getTarget = target => typeof target === 'string' ? document.querySelector(target) : target;\n\n/**\n * @param {SweetAlertOptions} params\n */\nconst setupAccessibility = params => {\n  const popup = getPopup();\n  popup.setAttribute('role', params.toast ? 'alert' : 'dialog');\n  popup.setAttribute('aria-live', params.toast ? 'polite' : 'assertive');\n  if (!params.toast) {\n    popup.setAttribute('aria-modal', 'true');\n  }\n};\n\n/**\n * @param {HTMLElement} targetElement\n */\nconst setupRTL = targetElement => {\n  if (window.getComputedStyle(targetElement).direction === 'rtl') {\n    addClass(getContainer(), swalClasses.rtl);\n  }\n};\n\n/**\n * Add modal + backdrop + no-war message for Russians to DOM\n *\n * @param {SweetAlertOptions} params\n */\nconst init = params => {\n  // Clean up the old popup container if it exists\n  const oldContainerExisted = resetOldContainer();\n  if (isNodeEnv()) {\n    error('SweetAlert2 requires document to initialize');\n    return;\n  }\n  const container = document.createElement('div');\n  container.className = swalClasses.container;\n  if (oldContainerExisted) {\n    addClass(container, swalClasses['no-transition']);\n  }\n  setInnerHtml(container, sweetHTML);\n  const targetElement = getTarget(params.target);\n  targetElement.appendChild(container);\n  setupAccessibility(params);\n  setupRTL(targetElement);\n  addInputChangeListeners();\n};\n\n/**\n * @param {HTMLElement | object | string} param\n * @param {HTMLElement} target\n */\nconst parseHtmlToContainer = (param, target) => {\n  // DOM element\n  if (param instanceof HTMLElement) {\n    target.appendChild(param);\n  }\n\n  // Object\n  else if (typeof param === 'object') {\n    handleObject(param, target);\n  }\n\n  // Plain string\n  else if (param) {\n    setInnerHtml(target, param);\n  }\n};\n\n/**\n * @param {any} param\n * @param {HTMLElement} target\n */\nconst handleObject = (param, target) => {\n  // JQuery element(s)\n  if (param.jquery) {\n    handleJqueryElem(target, param);\n  }\n\n  // For other objects use their string representation\n  else {\n    setInnerHtml(target, param.toString());\n  }\n};\n\n/**\n * @param {HTMLElement} target\n * @param {any} elem\n */\nconst handleJqueryElem = (target, elem) => {\n  target.textContent = '';\n  if (0 in elem) {\n    for (let i = 0; i in elem; i++) {\n      target.appendChild(elem[i].cloneNode(true));\n    }\n  } else {\n    target.appendChild(elem.cloneNode(true));\n  }\n};\n\n/**\n * @param {SweetAlert} instance\n * @param {SweetAlertOptions} params\n */\nconst renderActions = (instance, params) => {\n  const actions = getActions();\n  const loader = getLoader();\n  if (!actions || !loader) {\n    return;\n  }\n\n  // Actions (buttons) wrapper\n  if (!params.showConfirmButton && !params.showDenyButton && !params.showCancelButton) {\n    hide(actions);\n  } else {\n    show(actions);\n  }\n\n  // Custom class\n  applyCustomClass(actions, params, 'actions');\n\n  // Render all the buttons\n  renderButtons(actions, loader, params);\n\n  // Loader\n  setInnerHtml(loader, params.loaderHtml || '');\n  applyCustomClass(loader, params, 'loader');\n};\n\n/**\n * @param {HTMLElement} actions\n * @param {HTMLElement} loader\n * @param {SweetAlertOptions} params\n */\nfunction renderButtons(actions, loader, params) {\n  const confirmButton = getConfirmButton();\n  const denyButton = getDenyButton();\n  const cancelButton = getCancelButton();\n  if (!confirmButton || !denyButton || !cancelButton) {\n    return;\n  }\n\n  // Render buttons\n  renderButton(confirmButton, 'confirm', params);\n  renderButton(denyButton, 'deny', params);\n  renderButton(cancelButton, 'cancel', params);\n  handleButtonsStyling(confirmButton, denyButton, cancelButton, params);\n  if (params.reverseButtons) {\n    if (params.toast) {\n      actions.insertBefore(cancelButton, confirmButton);\n      actions.insertBefore(denyButton, confirmButton);\n    } else {\n      actions.insertBefore(cancelButton, loader);\n      actions.insertBefore(denyButton, loader);\n      actions.insertBefore(confirmButton, loader);\n    }\n  }\n}\n\n/**\n * @param {HTMLElement} confirmButton\n * @param {HTMLElement} denyButton\n * @param {HTMLElement} cancelButton\n * @param {SweetAlertOptions} params\n */\nfunction handleButtonsStyling(confirmButton, denyButton, cancelButton, params) {\n  if (!params.buttonsStyling) {\n    removeClass([confirmButton, denyButton, cancelButton], swalClasses.styled);\n    return;\n  }\n  addClass([confirmButton, denyButton, cancelButton], swalClasses.styled);\n\n  // Buttons background colors\n  if (params.confirmButtonColor) {\n    confirmButton.style.backgroundColor = params.confirmButtonColor;\n    addClass(confirmButton, swalClasses['default-outline']);\n  }\n  if (params.denyButtonColor) {\n    denyButton.style.backgroundColor = params.denyButtonColor;\n    addClass(denyButton, swalClasses['default-outline']);\n  }\n  if (params.cancelButtonColor) {\n    cancelButton.style.backgroundColor = params.cancelButtonColor;\n    addClass(cancelButton, swalClasses['default-outline']);\n  }\n}\n\n/**\n * @param {HTMLElement} button\n * @param {'confirm' | 'deny' | 'cancel'} buttonType\n * @param {SweetAlertOptions} params\n */\nfunction renderButton(button, buttonType, params) {\n  const buttonName = /** @type {'Confirm' | 'Deny' | 'Cancel'} */capitalizeFirstLetter(buttonType);\n  toggle(button, params[`show${buttonName}Button`], 'inline-block');\n  setInnerHtml(button, params[`${buttonType}ButtonText`] || ''); // Set caption text\n  button.setAttribute('aria-label', params[`${buttonType}ButtonAriaLabel`] || ''); // ARIA label\n\n  // Add buttons custom classes\n  button.className = swalClasses[buttonType];\n  applyCustomClass(button, params, `${buttonType}Button`);\n}\n\n/**\n * @param {SweetAlert} instance\n * @param {SweetAlertOptions} params\n */\nconst renderCloseButton = (instance, params) => {\n  const closeButton = getCloseButton();\n  if (!closeButton) {\n    return;\n  }\n  setInnerHtml(closeButton, params.closeButtonHtml || '');\n\n  // Custom class\n  applyCustomClass(closeButton, params, 'closeButton');\n  toggle(closeButton, params.showCloseButton);\n  closeButton.setAttribute('aria-label', params.closeButtonAriaLabel || '');\n};\n\n/**\n * @param {SweetAlert} instance\n * @param {SweetAlertOptions} params\n */\nconst renderContainer = (instance, params) => {\n  const container = getContainer();\n  if (!container) {\n    return;\n  }\n  handleBackdropParam(container, params.backdrop);\n  handlePositionParam(container, params.position);\n  handleGrowParam(container, params.grow);\n\n  // Custom class\n  applyCustomClass(container, params, 'container');\n};\n\n/**\n * @param {HTMLElement} container\n * @param {SweetAlertOptions['backdrop']} backdrop\n */\nfunction handleBackdropParam(container, backdrop) {\n  if (typeof backdrop === 'string') {\n    container.style.background = backdrop;\n  } else if (!backdrop) {\n    addClass([document.documentElement, document.body], swalClasses['no-backdrop']);\n  }\n}\n\n/**\n * @param {HTMLElement} container\n * @param {SweetAlertOptions['position']} position\n */\nfunction handlePositionParam(container, position) {\n  if (!position) {\n    return;\n  }\n  if (position in swalClasses) {\n    addClass(container, swalClasses[position]);\n  } else {\n    warn('The \"position\" parameter is not valid, defaulting to \"center\"');\n    addClass(container, swalClasses.center);\n  }\n}\n\n/**\n * @param {HTMLElement} container\n * @param {SweetAlertOptions['grow']} grow\n */\nfunction handleGrowParam(container, grow) {\n  if (!grow) {\n    return;\n  }\n  addClass(container, swalClasses[`grow-${grow}`]);\n}\n\n/**\n * This module contains `WeakMap`s for each effectively-\"private  property\" that a `Swal` has.\n * For example, to set the private property \"foo\" of `this` to \"bar\", you can `privateProps.foo.set(this, 'bar')`\n * This is the approach that Babel will probably take to implement private methods/fields\n *   https://github.com/tc39/proposal-private-methods\n *   https://github.com/babel/babel/pull/7555\n * Once we have the changes from that PR in Babel, and our core class fits reasonable in *one module*\n *   then we can use that language feature.\n */\n\nvar privateProps = {\n  innerParams: new WeakMap(),\n  domCache: new WeakMap()\n};\n\n/// <reference path=\"../../../../sweetalert2.d.ts\"/>\n\n\n/** @type {InputClass[]} */\nconst inputClasses = ['input', 'file', 'range', 'select', 'radio', 'checkbox', 'textarea'];\n\n/**\n * @param {SweetAlert} instance\n * @param {SweetAlertOptions} params\n */\nconst renderInput = (instance, params) => {\n  const popup = getPopup();\n  if (!popup) {\n    return;\n  }\n  const innerParams = privateProps.innerParams.get(instance);\n  const rerender = !innerParams || params.input !== innerParams.input;\n  inputClasses.forEach(inputClass => {\n    const inputContainer = getDirectChildByClass(popup, swalClasses[inputClass]);\n    if (!inputContainer) {\n      return;\n    }\n\n    // set attributes\n    setAttributes(inputClass, params.inputAttributes);\n\n    // set class\n    inputContainer.className = swalClasses[inputClass];\n    if (rerender) {\n      hide(inputContainer);\n    }\n  });\n  if (params.input) {\n    if (rerender) {\n      showInput(params);\n    }\n    // set custom class\n    setCustomClass(params);\n  }\n};\n\n/**\n * @param {SweetAlertOptions} params\n */\nconst showInput = params => {\n  if (!params.input) {\n    return;\n  }\n  if (!renderInputType[params.input]) {\n    error(`Unexpected type of input! Expected ${Object.keys(renderInputType).join(' | ')}, got \"${params.input}\"`);\n    return;\n  }\n  const inputContainer = getInputContainer(params.input);\n  if (!inputContainer) {\n    return;\n  }\n  const input = renderInputType[params.input](inputContainer, params);\n  show(inputContainer);\n\n  // input autofocus\n  if (params.inputAutoFocus) {\n    setTimeout(() => {\n      focusInput(input);\n    });\n  }\n};\n\n/**\n * @param {HTMLInputElement} input\n */\nconst removeAttributes = input => {\n  for (let i = 0; i < input.attributes.length; i++) {\n    const attrName = input.attributes[i].name;\n    if (!['id', 'type', 'value', 'style'].includes(attrName)) {\n      input.removeAttribute(attrName);\n    }\n  }\n};\n\n/**\n * @param {InputClass} inputClass\n * @param {SweetAlertOptions['inputAttributes']} inputAttributes\n */\nconst setAttributes = (inputClass, inputAttributes) => {\n  const popup = getPopup();\n  if (!popup) {\n    return;\n  }\n  const input = getInput$1(popup, inputClass);\n  if (!input) {\n    return;\n  }\n  removeAttributes(input);\n  for (const attr in inputAttributes) {\n    input.setAttribute(attr, inputAttributes[attr]);\n  }\n};\n\n/**\n * @param {SweetAlertOptions} params\n */\nconst setCustomClass = params => {\n  if (!params.input) {\n    return;\n  }\n  const inputContainer = getInputContainer(params.input);\n  if (inputContainer) {\n    applyCustomClass(inputContainer, params, 'input');\n  }\n};\n\n/**\n * @param {HTMLInputElement | HTMLTextAreaElement} input\n * @param {SweetAlertOptions} params\n */\nconst setInputPlaceholder = (input, params) => {\n  if (!input.placeholder && params.inputPlaceholder) {\n    input.placeholder = params.inputPlaceholder;\n  }\n};\n\n/**\n * @param {Input} input\n * @param {Input} prependTo\n * @param {SweetAlertOptions} params\n */\nconst setInputLabel = (input, prependTo, params) => {\n  if (params.inputLabel) {\n    const label = document.createElement('label');\n    const labelClass = swalClasses['input-label'];\n    label.setAttribute('for', input.id);\n    label.className = labelClass;\n    if (typeof params.customClass === 'object') {\n      addClass(label, params.customClass.inputLabel);\n    }\n    label.innerText = params.inputLabel;\n    prependTo.insertAdjacentElement('beforebegin', label);\n  }\n};\n\n/**\n * @param {SweetAlertInput} inputType\n * @returns {HTMLElement | undefined}\n */\nconst getInputContainer = inputType => {\n  const popup = getPopup();\n  if (!popup) {\n    return;\n  }\n  return getDirectChildByClass(popup, swalClasses[(/** @type {SwalClass} */inputType)] || swalClasses.input);\n};\n\n/**\n * @param {HTMLInputElement | HTMLOutputElement | HTMLTextAreaElement} input\n * @param {SweetAlertOptions['inputValue']} inputValue\n */\nconst checkAndSetInputValue = (input, inputValue) => {\n  if (['string', 'number'].includes(typeof inputValue)) {\n    input.value = `${inputValue}`;\n  } else if (!isPromise(inputValue)) {\n    warn(`Unexpected type of inputValue! Expected \"string\", \"number\" or \"Promise\", got \"${typeof inputValue}\"`);\n  }\n};\n\n/** @type {Record<SweetAlertInput, (input: Input | HTMLElement, params: SweetAlertOptions) => Input>} */\nconst renderInputType = {};\n\n/**\n * @param {HTMLInputElement} input\n * @param {SweetAlertOptions} params\n * @returns {HTMLInputElement}\n */\nrenderInputType.text = renderInputType.email = renderInputType.password = renderInputType.number = renderInputType.tel = renderInputType.url = renderInputType.search = renderInputType.date = renderInputType['datetime-local'] = renderInputType.time = renderInputType.week = renderInputType.month = /** @type {(input: Input | HTMLElement, params: SweetAlertOptions) => Input} */\n(input, params) => {\n  checkAndSetInputValue(input, params.inputValue);\n  setInputLabel(input, input, params);\n  setInputPlaceholder(input, params);\n  input.type = params.input;\n  return input;\n};\n\n/**\n * @param {HTMLInputElement} input\n * @param {SweetAlertOptions} params\n * @returns {HTMLInputElement}\n */\nrenderInputType.file = (input, params) => {\n  setInputLabel(input, input, params);\n  setInputPlaceholder(input, params);\n  return input;\n};\n\n/**\n * @param {HTMLInputElement} range\n * @param {SweetAlertOptions} params\n * @returns {HTMLInputElement}\n */\nrenderInputType.range = (range, params) => {\n  const rangeInput = range.querySelector('input');\n  const rangeOutput = range.querySelector('output');\n  checkAndSetInputValue(rangeInput, params.inputValue);\n  rangeInput.type = params.input;\n  checkAndSetInputValue(rangeOutput, params.inputValue);\n  setInputLabel(rangeInput, range, params);\n  return range;\n};\n\n/**\n * @param {HTMLSelectElement} select\n * @param {SweetAlertOptions} params\n * @returns {HTMLSelectElement}\n */\nrenderInputType.select = (select, params) => {\n  select.textContent = '';\n  if (params.inputPlaceholder) {\n    const placeholder = document.createElement('option');\n    setInnerHtml(placeholder, params.inputPlaceholder);\n    placeholder.value = '';\n    placeholder.disabled = true;\n    placeholder.selected = true;\n    select.appendChild(placeholder);\n  }\n  setInputLabel(select, select, params);\n  return select;\n};\n\n/**\n * @param {HTMLInputElement} radio\n * @returns {HTMLInputElement}\n */\nrenderInputType.radio = radio => {\n  radio.textContent = '';\n  return radio;\n};\n\n/**\n * @param {HTMLLabelElement} checkboxContainer\n * @param {SweetAlertOptions} params\n * @returns {HTMLInputElement}\n */\nrenderInputType.checkbox = (checkboxContainer, params) => {\n  const checkbox = getInput$1(getPopup(), 'checkbox');\n  checkbox.value = '1';\n  checkbox.checked = Boolean(params.inputValue);\n  const label = checkboxContainer.querySelector('span');\n  setInnerHtml(label, params.inputPlaceholder || params.inputLabel);\n  return checkbox;\n};\n\n/**\n * @param {HTMLTextAreaElement} textarea\n * @param {SweetAlertOptions} params\n * @returns {HTMLTextAreaElement}\n */\nrenderInputType.textarea = (textarea, params) => {\n  checkAndSetInputValue(textarea, params.inputValue);\n  setInputPlaceholder(textarea, params);\n  setInputLabel(textarea, textarea, params);\n\n  /**\n   * @param {HTMLElement} el\n   * @returns {number}\n   */\n  const getMargin = el => parseInt(window.getComputedStyle(el).marginLeft) + parseInt(window.getComputedStyle(el).marginRight);\n\n  // https://github.com/sweetalert2/sweetalert2/issues/2291\n  setTimeout(() => {\n    // https://github.com/sweetalert2/sweetalert2/issues/1699\n    if ('MutationObserver' in window) {\n      const initialPopupWidth = parseInt(window.getComputedStyle(getPopup()).width);\n      const textareaResizeHandler = () => {\n        // check if texarea is still in document (i.e. popup wasn't closed in the meantime)\n        if (!document.body.contains(textarea)) {\n          return;\n        }\n        const textareaWidth = textarea.offsetWidth + getMargin(textarea);\n        if (textareaWidth > initialPopupWidth) {\n          getPopup().style.width = `${textareaWidth}px`;\n        } else {\n          applyNumericalStyle(getPopup(), 'width', params.width);\n        }\n      };\n      new MutationObserver(textareaResizeHandler).observe(textarea, {\n        attributes: true,\n        attributeFilter: ['style']\n      });\n    }\n  });\n  return textarea;\n};\n\n/**\n * @param {SweetAlert} instance\n * @param {SweetAlertOptions} params\n */\nconst renderContent = (instance, params) => {\n  const htmlContainer = getHtmlContainer();\n  if (!htmlContainer) {\n    return;\n  }\n  showWhenInnerHtmlPresent(htmlContainer);\n  applyCustomClass(htmlContainer, params, 'htmlContainer');\n\n  // Content as HTML\n  if (params.html) {\n    parseHtmlToContainer(params.html, htmlContainer);\n    show(htmlContainer, 'block');\n  }\n\n  // Content as plain text\n  else if (params.text) {\n    htmlContainer.textContent = params.text;\n    show(htmlContainer, 'block');\n  }\n\n  // No content\n  else {\n    hide(htmlContainer);\n  }\n  renderInput(instance, params);\n};\n\n/**\n * @param {SweetAlert} instance\n * @param {SweetAlertOptions} params\n */\nconst renderFooter = (instance, params) => {\n  const footer = getFooter();\n  if (!footer) {\n    return;\n  }\n  showWhenInnerHtmlPresent(footer);\n  toggle(footer, params.footer, 'block');\n  if (params.footer) {\n    parseHtmlToContainer(params.footer, footer);\n  }\n\n  // Custom class\n  applyCustomClass(footer, params, 'footer');\n};\n\n/**\n * @param {SweetAlert} instance\n * @param {SweetAlertOptions} params\n */\nconst renderIcon = (instance, params) => {\n  const innerParams = privateProps.innerParams.get(instance);\n  const icon = getIcon();\n  if (!icon) {\n    return;\n  }\n\n  // if the given icon already rendered, apply the styling without re-rendering the icon\n  if (innerParams && params.icon === innerParams.icon) {\n    // Custom or default content\n    setContent(icon, params);\n    applyStyles(icon, params);\n    return;\n  }\n  if (!params.icon && !params.iconHtml) {\n    hide(icon);\n    return;\n  }\n  if (params.icon && Object.keys(iconTypes).indexOf(params.icon) === -1) {\n    error(`Unknown icon! Expected \"success\", \"error\", \"warning\", \"info\" or \"question\", got \"${params.icon}\"`);\n    hide(icon);\n    return;\n  }\n  show(icon);\n\n  // Custom or default content\n  setContent(icon, params);\n  applyStyles(icon, params);\n\n  // Animate icon\n  addClass(icon, params.showClass && params.showClass.icon);\n};\n\n/**\n * @param {HTMLElement} icon\n * @param {SweetAlertOptions} params\n */\nconst applyStyles = (icon, params) => {\n  for (const [iconType, iconClassName] of Object.entries(iconTypes)) {\n    if (params.icon !== iconType) {\n      removeClass(icon, iconClassName);\n    }\n  }\n  addClass(icon, params.icon && iconTypes[params.icon]);\n\n  // Icon color\n  setColor(icon, params);\n\n  // Success icon background color\n  adjustSuccessIconBackgroundColor();\n\n  // Custom class\n  applyCustomClass(icon, params, 'icon');\n};\n\n// Adjust success icon background color to match the popup background color\nconst adjustSuccessIconBackgroundColor = () => {\n  const popup = getPopup();\n  if (!popup) {\n    return;\n  }\n  const popupBackgroundColor = window.getComputedStyle(popup).getPropertyValue('background-color');\n  /** @type {NodeListOf<HTMLElement>} */\n  const successIconParts = popup.querySelectorAll('[class^=swal2-success-circular-line], .swal2-success-fix');\n  for (let i = 0; i < successIconParts.length; i++) {\n    successIconParts[i].style.backgroundColor = popupBackgroundColor;\n  }\n};\nconst successIconHtml = `\n  <div class=\"swal2-success-circular-line-left\"></div>\n  <span class=\"swal2-success-line-tip\"></span> <span class=\"swal2-success-line-long\"></span>\n  <div class=\"swal2-success-ring\"></div> <div class=\"swal2-success-fix\"></div>\n  <div class=\"swal2-success-circular-line-right\"></div>\n`;\nconst errorIconHtml = `\n  <span class=\"swal2-x-mark\">\n    <span class=\"swal2-x-mark-line-left\"></span>\n    <span class=\"swal2-x-mark-line-right\"></span>\n  </span>\n`;\n\n/**\n * @param {HTMLElement} icon\n * @param {SweetAlertOptions} params\n */\nconst setContent = (icon, params) => {\n  if (!params.icon && !params.iconHtml) {\n    return;\n  }\n  let oldContent = icon.innerHTML;\n  let newContent = '';\n  if (params.iconHtml) {\n    newContent = iconContent(params.iconHtml);\n  } else if (params.icon === 'success') {\n    newContent = successIconHtml;\n    oldContent = oldContent.replace(/ style=\".*?\"/g, ''); // undo adjustSuccessIconBackgroundColor()\n  } else if (params.icon === 'error') {\n    newContent = errorIconHtml;\n  } else if (params.icon) {\n    const defaultIconHtml = {\n      question: '?',\n      warning: '!',\n      info: 'i'\n    };\n    newContent = iconContent(defaultIconHtml[params.icon]);\n  }\n  if (oldContent.trim() !== newContent.trim()) {\n    setInnerHtml(icon, newContent);\n  }\n};\n\n/**\n * @param {HTMLElement} icon\n * @param {SweetAlertOptions} params\n */\nconst setColor = (icon, params) => {\n  if (!params.iconColor) {\n    return;\n  }\n  icon.style.color = params.iconColor;\n  icon.style.borderColor = params.iconColor;\n  for (const sel of ['.swal2-success-line-tip', '.swal2-success-line-long', '.swal2-x-mark-line-left', '.swal2-x-mark-line-right']) {\n    setStyle(icon, sel, 'background-color', params.iconColor);\n  }\n  setStyle(icon, '.swal2-success-ring', 'border-color', params.iconColor);\n};\n\n/**\n * @param {string} content\n * @returns {string}\n */\nconst iconContent = content => `<div class=\"${swalClasses['icon-content']}\">${content}</div>`;\n\n/**\n * @param {SweetAlert} instance\n * @param {SweetAlertOptions} params\n */\nconst renderImage = (instance, params) => {\n  const image = getImage();\n  if (!image) {\n    return;\n  }\n  if (!params.imageUrl) {\n    hide(image);\n    return;\n  }\n  show(image, '');\n\n  // Src, alt\n  image.setAttribute('src', params.imageUrl);\n  image.setAttribute('alt', params.imageAlt || '');\n\n  // Width, height\n  applyNumericalStyle(image, 'width', params.imageWidth);\n  applyNumericalStyle(image, 'height', params.imageHeight);\n\n  // Class\n  image.className = swalClasses.image;\n  applyCustomClass(image, params, 'image');\n};\n\nlet dragging = false;\nlet mousedownX = 0;\nlet mousedownY = 0;\nlet initialX = 0;\nlet initialY = 0;\n\n/**\n * @param {HTMLElement} popup\n */\nconst addDraggableListeners = popup => {\n  popup.addEventListener('mousedown', down);\n  document.body.addEventListener('mousemove', move);\n  popup.addEventListener('mouseup', up);\n  popup.addEventListener('touchstart', down);\n  document.body.addEventListener('touchmove', move);\n  popup.addEventListener('touchend', up);\n};\n\n/**\n * @param {HTMLElement} popup\n */\nconst removeDraggableListeners = popup => {\n  popup.removeEventListener('mousedown', down);\n  document.body.removeEventListener('mousemove', move);\n  popup.removeEventListener('mouseup', up);\n  popup.removeEventListener('touchstart', down);\n  document.body.removeEventListener('touchmove', move);\n  popup.removeEventListener('touchend', up);\n};\n\n/**\n * @param {MouseEvent | TouchEvent} event\n */\nconst down = event => {\n  const popup = getPopup();\n  if (event.target === popup || getIcon().contains(/** @type {HTMLElement} */event.target)) {\n    dragging = true;\n    const clientXY = getClientXY(event);\n    mousedownX = clientXY.clientX;\n    mousedownY = clientXY.clientY;\n    initialX = parseInt(popup.style.insetInlineStart) || 0;\n    initialY = parseInt(popup.style.insetBlockStart) || 0;\n    addClass(popup, 'swal2-dragging');\n  }\n};\n\n/**\n * @param {MouseEvent | TouchEvent} event\n */\nconst move = event => {\n  const popup = getPopup();\n  if (dragging) {\n    let {\n      clientX,\n      clientY\n    } = getClientXY(event);\n    popup.style.insetInlineStart = `${initialX + (clientX - mousedownX)}px`;\n    popup.style.insetBlockStart = `${initialY + (clientY - mousedownY)}px`;\n  }\n};\nconst up = () => {\n  const popup = getPopup();\n  dragging = false;\n  removeClass(popup, 'swal2-dragging');\n};\n\n/**\n * @param {MouseEvent | TouchEvent} event\n * @returns {{ clientX: number, clientY: number }}\n */\nconst getClientXY = event => {\n  let clientX = 0,\n    clientY = 0;\n  if (event.type.startsWith('mouse')) {\n    clientX = /** @type {MouseEvent} */event.clientX;\n    clientY = /** @type {MouseEvent} */event.clientY;\n  } else if (event.type.startsWith('touch')) {\n    clientX = /** @type {TouchEvent} */event.touches[0].clientX;\n    clientY = /** @type {TouchEvent} */event.touches[0].clientY;\n  }\n  return {\n    clientX,\n    clientY\n  };\n};\n\n/**\n * @param {SweetAlert} instance\n * @param {SweetAlertOptions} params\n */\nconst renderPopup = (instance, params) => {\n  const container = getContainer();\n  const popup = getPopup();\n  if (!container || !popup) {\n    return;\n  }\n\n  // Width\n  // https://github.com/sweetalert2/sweetalert2/issues/2170\n  if (params.toast) {\n    applyNumericalStyle(container, 'width', params.width);\n    popup.style.width = '100%';\n    const loader = getLoader();\n    if (loader) {\n      popup.insertBefore(loader, getIcon());\n    }\n  } else {\n    applyNumericalStyle(popup, 'width', params.width);\n  }\n\n  // Padding\n  applyNumericalStyle(popup, 'padding', params.padding);\n\n  // Color\n  if (params.color) {\n    popup.style.color = params.color;\n  }\n\n  // Background\n  if (params.background) {\n    popup.style.background = params.background;\n  }\n  hide(getValidationMessage());\n\n  // Classes\n  addClasses$1(popup, params);\n  if (params.draggable && !params.toast) {\n    addClass(popup, swalClasses.draggable);\n    addDraggableListeners(popup);\n  } else {\n    removeClass(popup, swalClasses.draggable);\n    removeDraggableListeners(popup);\n  }\n};\n\n/**\n * @param {HTMLElement} popup\n * @param {SweetAlertOptions} params\n */\nconst addClasses$1 = (popup, params) => {\n  const showClass = params.showClass || {};\n  // Default Class + showClass when updating Swal.update({})\n  popup.className = `${swalClasses.popup} ${isVisible$1(popup) ? showClass.popup : ''}`;\n  if (params.toast) {\n    addClass([document.documentElement, document.body], swalClasses['toast-shown']);\n    addClass(popup, swalClasses.toast);\n  } else {\n    addClass(popup, swalClasses.modal);\n  }\n\n  // Custom class\n  applyCustomClass(popup, params, 'popup');\n  // TODO: remove in the next major\n  if (typeof params.customClass === 'string') {\n    addClass(popup, params.customClass);\n  }\n\n  // Icon class (#1842)\n  if (params.icon) {\n    addClass(popup, swalClasses[`icon-${params.icon}`]);\n  }\n};\n\n/**\n * @param {SweetAlert} instance\n * @param {SweetAlertOptions} params\n */\nconst renderProgressSteps = (instance, params) => {\n  const progressStepsContainer = getProgressSteps();\n  if (!progressStepsContainer) {\n    return;\n  }\n  const {\n    progressSteps,\n    currentProgressStep\n  } = params;\n  if (!progressSteps || progressSteps.length === 0 || currentProgressStep === undefined) {\n    hide(progressStepsContainer);\n    return;\n  }\n  show(progressStepsContainer);\n  progressStepsContainer.textContent = '';\n  if (currentProgressStep >= progressSteps.length) {\n    warn('Invalid currentProgressStep parameter, it should be less than progressSteps.length ' + '(currentProgressStep like JS arrays starts from 0)');\n  }\n  progressSteps.forEach((step, index) => {\n    const stepEl = createStepElement(step);\n    progressStepsContainer.appendChild(stepEl);\n    if (index === currentProgressStep) {\n      addClass(stepEl, swalClasses['active-progress-step']);\n    }\n    if (index !== progressSteps.length - 1) {\n      const lineEl = createLineElement(params);\n      progressStepsContainer.appendChild(lineEl);\n    }\n  });\n};\n\n/**\n * @param {string} step\n * @returns {HTMLLIElement}\n */\nconst createStepElement = step => {\n  const stepEl = document.createElement('li');\n  addClass(stepEl, swalClasses['progress-step']);\n  setInnerHtml(stepEl, step);\n  return stepEl;\n};\n\n/**\n * @param {SweetAlertOptions} params\n * @returns {HTMLLIElement}\n */\nconst createLineElement = params => {\n  const lineEl = document.createElement('li');\n  addClass(lineEl, swalClasses['progress-step-line']);\n  if (params.progressStepsDistance) {\n    applyNumericalStyle(lineEl, 'width', params.progressStepsDistance);\n  }\n  return lineEl;\n};\n\n/**\n * @param {SweetAlert} instance\n * @param {SweetAlertOptions} params\n */\nconst renderTitle = (instance, params) => {\n  const title = getTitle();\n  if (!title) {\n    return;\n  }\n  showWhenInnerHtmlPresent(title);\n  toggle(title, params.title || params.titleText, 'block');\n  if (params.title) {\n    parseHtmlToContainer(params.title, title);\n  }\n  if (params.titleText) {\n    title.innerText = params.titleText;\n  }\n\n  // Custom class\n  applyCustomClass(title, params, 'title');\n};\n\n/**\n * @param {SweetAlert} instance\n * @param {SweetAlertOptions} params\n */\nconst render = (instance, params) => {\n  renderPopup(instance, params);\n  renderContainer(instance, params);\n  renderProgressSteps(instance, params);\n  renderIcon(instance, params);\n  renderImage(instance, params);\n  renderTitle(instance, params);\n  renderCloseButton(instance, params);\n  renderContent(instance, params);\n  renderActions(instance, params);\n  renderFooter(instance, params);\n  const popup = getPopup();\n  if (typeof params.didRender === 'function' && popup) {\n    params.didRender(popup);\n  }\n  globalState.eventEmitter.emit('didRender', popup);\n};\n\n/*\n * Global function to determine if SweetAlert2 popup is shown\n */\nconst isVisible = () => {\n  return isVisible$1(getPopup());\n};\n\n/*\n * Global function to click 'Confirm' button\n */\nconst clickConfirm = () => {\n  var _dom$getConfirmButton;\n  return (_dom$getConfirmButton = getConfirmButton()) === null || _dom$getConfirmButton === void 0 ? void 0 : _dom$getConfirmButton.click();\n};\n\n/*\n * Global function to click 'Deny' button\n */\nconst clickDeny = () => {\n  var _dom$getDenyButton;\n  return (_dom$getDenyButton = getDenyButton()) === null || _dom$getDenyButton === void 0 ? void 0 : _dom$getDenyButton.click();\n};\n\n/*\n * Global function to click 'Cancel' button\n */\nconst clickCancel = () => {\n  var _dom$getCancelButton;\n  return (_dom$getCancelButton = getCancelButton()) === null || _dom$getCancelButton === void 0 ? void 0 : _dom$getCancelButton.click();\n};\n\n/** @typedef {'cancel' | 'backdrop' | 'close' | 'esc' | 'timer'} DismissReason */\n\n/** @type {Record<DismissReason, DismissReason>} */\nconst DismissReason = Object.freeze({\n  cancel: 'cancel',\n  backdrop: 'backdrop',\n  close: 'close',\n  esc: 'esc',\n  timer: 'timer'\n});\n\n/**\n * @param {GlobalState} globalState\n */\nconst removeKeydownHandler = globalState => {\n  if (globalState.keydownTarget && globalState.keydownHandlerAdded) {\n    globalState.keydownTarget.removeEventListener('keydown', globalState.keydownHandler, {\n      capture: globalState.keydownListenerCapture\n    });\n    globalState.keydownHandlerAdded = false;\n  }\n};\n\n/**\n * @param {GlobalState} globalState\n * @param {SweetAlertOptions} innerParams\n * @param {*} dismissWith\n */\nconst addKeydownHandler = (globalState, innerParams, dismissWith) => {\n  removeKeydownHandler(globalState);\n  if (!innerParams.toast) {\n    globalState.keydownHandler = e => keydownHandler(innerParams, e, dismissWith);\n    globalState.keydownTarget = innerParams.keydownListenerCapture ? window : getPopup();\n    globalState.keydownListenerCapture = innerParams.keydownListenerCapture;\n    globalState.keydownTarget.addEventListener('keydown', globalState.keydownHandler, {\n      capture: globalState.keydownListenerCapture\n    });\n    globalState.keydownHandlerAdded = true;\n  }\n};\n\n/**\n * @param {number} index\n * @param {number} increment\n */\nconst setFocus = (index, increment) => {\n  var _dom$getPopup;\n  const focusableElements = getFocusableElements();\n  // search for visible elements and select the next possible match\n  if (focusableElements.length) {\n    index = index + increment;\n\n    // rollover to first item\n    if (index === focusableElements.length) {\n      index = 0;\n\n      // go to last item\n    } else if (index === -1) {\n      index = focusableElements.length - 1;\n    }\n    focusableElements[index].focus();\n    return;\n  }\n  // no visible focusable elements, focus the popup\n  (_dom$getPopup = getPopup()) === null || _dom$getPopup === void 0 || _dom$getPopup.focus();\n};\nconst arrowKeysNextButton = ['ArrowRight', 'ArrowDown'];\nconst arrowKeysPreviousButton = ['ArrowLeft', 'ArrowUp'];\n\n/**\n * @param {SweetAlertOptions} innerParams\n * @param {KeyboardEvent} event\n * @param {Function} dismissWith\n */\nconst keydownHandler = (innerParams, event, dismissWith) => {\n  if (!innerParams) {\n    return; // This instance has already been destroyed\n  }\n\n  // Ignore keydown during IME composition\n  // https://developer.mozilla.org/en-US/docs/Web/API/Document/keydown_event#ignoring_keydown_during_ime_composition\n  // https://github.com/sweetalert2/sweetalert2/issues/720\n  // https://github.com/sweetalert2/sweetalert2/issues/2406\n  if (event.isComposing || event.keyCode === 229) {\n    return;\n  }\n  if (innerParams.stopKeydownPropagation) {\n    event.stopPropagation();\n  }\n\n  // ENTER\n  if (event.key === 'Enter') {\n    handleEnter(event, innerParams);\n  }\n\n  // TAB\n  else if (event.key === 'Tab') {\n    handleTab(event);\n  }\n\n  // ARROWS - switch focus between buttons\n  else if ([...arrowKeysNextButton, ...arrowKeysPreviousButton].includes(event.key)) {\n    handleArrows(event.key);\n  }\n\n  // ESC\n  else if (event.key === 'Escape') {\n    handleEsc(event, innerParams, dismissWith);\n  }\n};\n\n/**\n * @param {KeyboardEvent} event\n * @param {SweetAlertOptions} innerParams\n */\nconst handleEnter = (event, innerParams) => {\n  // https://github.com/sweetalert2/sweetalert2/issues/2386\n  if (!callIfFunction(innerParams.allowEnterKey)) {\n    return;\n  }\n  const input = getInput$1(getPopup(), innerParams.input);\n  if (event.target && input && event.target instanceof HTMLElement && event.target.outerHTML === input.outerHTML) {\n    if (['textarea', 'file'].includes(innerParams.input)) {\n      return; // do not submit\n    }\n    clickConfirm();\n    event.preventDefault();\n  }\n};\n\n/**\n * @param {KeyboardEvent} event\n */\nconst handleTab = event => {\n  const targetElement = event.target;\n  const focusableElements = getFocusableElements();\n  let btnIndex = -1;\n  for (let i = 0; i < focusableElements.length; i++) {\n    if (targetElement === focusableElements[i]) {\n      btnIndex = i;\n      break;\n    }\n  }\n\n  // Cycle to the next button\n  if (!event.shiftKey) {\n    setFocus(btnIndex, 1);\n  }\n\n  // Cycle to the prev button\n  else {\n    setFocus(btnIndex, -1);\n  }\n  event.stopPropagation();\n  event.preventDefault();\n};\n\n/**\n * @param {string} key\n */\nconst handleArrows = key => {\n  const actions = getActions();\n  const confirmButton = getConfirmButton();\n  const denyButton = getDenyButton();\n  const cancelButton = getCancelButton();\n  if (!actions || !confirmButton || !denyButton || !cancelButton) {\n    return;\n  }\n  /** @type HTMLElement[] */\n  const buttons = [confirmButton, denyButton, cancelButton];\n  if (document.activeElement instanceof HTMLElement && !buttons.includes(document.activeElement)) {\n    return;\n  }\n  const sibling = arrowKeysNextButton.includes(key) ? 'nextElementSibling' : 'previousElementSibling';\n  let buttonToFocus = document.activeElement;\n  if (!buttonToFocus) {\n    return;\n  }\n  for (let i = 0; i < actions.children.length; i++) {\n    buttonToFocus = buttonToFocus[sibling];\n    if (!buttonToFocus) {\n      return;\n    }\n    if (buttonToFocus instanceof HTMLButtonElement && isVisible$1(buttonToFocus)) {\n      break;\n    }\n  }\n  if (buttonToFocus instanceof HTMLButtonElement) {\n    buttonToFocus.focus();\n  }\n};\n\n/**\n * @param {KeyboardEvent} event\n * @param {SweetAlertOptions} innerParams\n * @param {Function} dismissWith\n */\nconst handleEsc = (event, innerParams, dismissWith) => {\n  if (callIfFunction(innerParams.allowEscapeKey)) {\n    event.preventDefault();\n    dismissWith(DismissReason.esc);\n  }\n};\n\n/**\n * This module contains `WeakMap`s for each effectively-\"private  property\" that a `Swal` has.\n * For example, to set the private property \"foo\" of `this` to \"bar\", you can `privateProps.foo.set(this, 'bar')`\n * This is the approach that Babel will probably take to implement private methods/fields\n *   https://github.com/tc39/proposal-private-methods\n *   https://github.com/babel/babel/pull/7555\n * Once we have the changes from that PR in Babel, and our core class fits reasonable in *one module*\n *   then we can use that language feature.\n */\n\nvar privateMethods = {\n  swalPromiseResolve: new WeakMap(),\n  swalPromiseReject: new WeakMap()\n};\n\n// From https://developer.paciellogroup.com/blog/2018/06/the-current-state-of-modal-dialog-accessibility/\n// Adding aria-hidden=\"true\" to elements outside of the active modal dialog ensures that\n// elements not within the active modal dialog will not be surfaced if a user opens a screen\n// reader’s list of elements (headings, form controls, landmarks, etc.) in the document.\n\nconst setAriaHidden = () => {\n  const container = getContainer();\n  const bodyChildren = Array.from(document.body.children);\n  bodyChildren.forEach(el => {\n    if (el.contains(container)) {\n      return;\n    }\n    if (el.hasAttribute('aria-hidden')) {\n      el.setAttribute('data-previous-aria-hidden', el.getAttribute('aria-hidden') || '');\n    }\n    el.setAttribute('aria-hidden', 'true');\n  });\n};\nconst unsetAriaHidden = () => {\n  const bodyChildren = Array.from(document.body.children);\n  bodyChildren.forEach(el => {\n    if (el.hasAttribute('data-previous-aria-hidden')) {\n      el.setAttribute('aria-hidden', el.getAttribute('data-previous-aria-hidden') || '');\n      el.removeAttribute('data-previous-aria-hidden');\n    } else {\n      el.removeAttribute('aria-hidden');\n    }\n  });\n};\n\n// @ts-ignore\nconst isSafariOrIOS = typeof window !== 'undefined' && !!window.GestureEvent; // true for Safari desktop + all iOS browsers https://stackoverflow.com/a/70585394\n\n/**\n * Fix iOS scrolling\n * http://stackoverflow.com/q/39626302\n */\nconst iOSfix = () => {\n  if (isSafariOrIOS && !hasClass(document.body, swalClasses.iosfix)) {\n    const offset = document.body.scrollTop;\n    document.body.style.top = `${offset * -1}px`;\n    addClass(document.body, swalClasses.iosfix);\n    lockBodyScroll();\n  }\n};\n\n/**\n * https://github.com/sweetalert2/sweetalert2/issues/1246\n */\nconst lockBodyScroll = () => {\n  const container = getContainer();\n  if (!container) {\n    return;\n  }\n  /** @type {boolean} */\n  let preventTouchMove;\n  /**\n   * @param {TouchEvent} event\n   */\n  container.ontouchstart = event => {\n    preventTouchMove = shouldPreventTouchMove(event);\n  };\n  /**\n   * @param {TouchEvent} event\n   */\n  container.ontouchmove = event => {\n    if (preventTouchMove) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n  };\n};\n\n/**\n * @param {TouchEvent} event\n * @returns {boolean}\n */\nconst shouldPreventTouchMove = event => {\n  const target = event.target;\n  const container = getContainer();\n  const htmlContainer = getHtmlContainer();\n  if (!container || !htmlContainer) {\n    return false;\n  }\n  if (isStylus(event) || isZoom(event)) {\n    return false;\n  }\n  if (target === container) {\n    return true;\n  }\n  if (!isScrollable(container) && target instanceof HTMLElement && target.tagName !== 'INPUT' &&\n  // #1603\n  target.tagName !== 'TEXTAREA' &&\n  // #2266\n  !(isScrollable(htmlContainer) &&\n  // #1944\n  htmlContainer.contains(target))) {\n    return true;\n  }\n  return false;\n};\n\n/**\n * https://github.com/sweetalert2/sweetalert2/issues/1786\n *\n * @param {*} event\n * @returns {boolean}\n */\nconst isStylus = event => {\n  return event.touches && event.touches.length && event.touches[0].touchType === 'stylus';\n};\n\n/**\n * https://github.com/sweetalert2/sweetalert2/issues/1891\n *\n * @param {TouchEvent} event\n * @returns {boolean}\n */\nconst isZoom = event => {\n  return event.touches && event.touches.length > 1;\n};\nconst undoIOSfix = () => {\n  if (hasClass(document.body, swalClasses.iosfix)) {\n    const offset = parseInt(document.body.style.top, 10);\n    removeClass(document.body, swalClasses.iosfix);\n    document.body.style.top = '';\n    document.body.scrollTop = offset * -1;\n  }\n};\n\n/**\n * Measure scrollbar width for padding body during modal show/hide\n * https://github.com/twbs/bootstrap/blob/master/js/src/modal.js\n *\n * @returns {number}\n */\nconst measureScrollbar = () => {\n  const scrollDiv = document.createElement('div');\n  scrollDiv.className = swalClasses['scrollbar-measure'];\n  document.body.appendChild(scrollDiv);\n  const scrollbarWidth = scrollDiv.getBoundingClientRect().width - scrollDiv.clientWidth;\n  document.body.removeChild(scrollDiv);\n  return scrollbarWidth;\n};\n\n/**\n * Remember state in cases where opening and handling a modal will fiddle with it.\n * @type {number | null}\n */\nlet previousBodyPadding = null;\n\n/**\n * @param {string} initialBodyOverflow\n */\nconst replaceScrollbarWithPadding = initialBodyOverflow => {\n  // for queues, do not do this more than once\n  if (previousBodyPadding !== null) {\n    return;\n  }\n  // if the body has overflow\n  if (document.body.scrollHeight > window.innerHeight || initialBodyOverflow === 'scroll' // https://github.com/sweetalert2/sweetalert2/issues/2663\n  ) {\n    // add padding so the content doesn't shift after removal of scrollbar\n    previousBodyPadding = parseInt(window.getComputedStyle(document.body).getPropertyValue('padding-right'));\n    document.body.style.paddingRight = `${previousBodyPadding + measureScrollbar()}px`;\n  }\n};\nconst undoReplaceScrollbarWithPadding = () => {\n  if (previousBodyPadding !== null) {\n    document.body.style.paddingRight = `${previousBodyPadding}px`;\n    previousBodyPadding = null;\n  }\n};\n\n/**\n * @param {SweetAlert} instance\n * @param {HTMLElement} container\n * @param {boolean} returnFocus\n * @param {Function} didClose\n */\nfunction removePopupAndResetState(instance, container, returnFocus, didClose) {\n  if (isToast()) {\n    triggerDidCloseAndDispose(instance, didClose);\n  } else {\n    restoreActiveElement(returnFocus).then(() => triggerDidCloseAndDispose(instance, didClose));\n    removeKeydownHandler(globalState);\n  }\n\n  // workaround for https://github.com/sweetalert2/sweetalert2/issues/2088\n  // for some reason removing the container in Safari will scroll the document to bottom\n  if (isSafariOrIOS) {\n    container.setAttribute('style', 'display:none !important');\n    container.removeAttribute('class');\n    container.innerHTML = '';\n  } else {\n    container.remove();\n  }\n  if (isModal()) {\n    undoReplaceScrollbarWithPadding();\n    undoIOSfix();\n    unsetAriaHidden();\n  }\n  removeBodyClasses();\n}\n\n/**\n * Remove SweetAlert2 classes from body\n */\nfunction removeBodyClasses() {\n  removeClass([document.documentElement, document.body], [swalClasses.shown, swalClasses['height-auto'], swalClasses['no-backdrop'], swalClasses['toast-shown']]);\n}\n\n/**\n * Instance method to close sweetAlert\n *\n * @param {any} resolveValue\n */\nfunction close(resolveValue) {\n  resolveValue = prepareResolveValue(resolveValue);\n  const swalPromiseResolve = privateMethods.swalPromiseResolve.get(this);\n  const didClose = triggerClosePopup(this);\n  if (this.isAwaitingPromise) {\n    // A swal awaiting for a promise (after a click on Confirm or Deny) cannot be dismissed anymore #2335\n    if (!resolveValue.isDismissed) {\n      handleAwaitingPromise(this);\n      swalPromiseResolve(resolveValue);\n    }\n  } else if (didClose) {\n    // Resolve Swal promise\n    swalPromiseResolve(resolveValue);\n  }\n}\nconst triggerClosePopup = instance => {\n  const popup = getPopup();\n  if (!popup) {\n    return false;\n  }\n  const innerParams = privateProps.innerParams.get(instance);\n  if (!innerParams || hasClass(popup, innerParams.hideClass.popup)) {\n    return false;\n  }\n  removeClass(popup, innerParams.showClass.popup);\n  addClass(popup, innerParams.hideClass.popup);\n  const backdrop = getContainer();\n  removeClass(backdrop, innerParams.showClass.backdrop);\n  addClass(backdrop, innerParams.hideClass.backdrop);\n  handlePopupAnimation(instance, popup, innerParams);\n  return true;\n};\n\n/**\n * @param {any} error\n */\nfunction rejectPromise(error) {\n  const rejectPromise = privateMethods.swalPromiseReject.get(this);\n  handleAwaitingPromise(this);\n  if (rejectPromise) {\n    // Reject Swal promise\n    rejectPromise(error);\n  }\n}\n\n/**\n * @param {SweetAlert} instance\n */\nconst handleAwaitingPromise = instance => {\n  if (instance.isAwaitingPromise) {\n    delete instance.isAwaitingPromise;\n    // The instance might have been previously partly destroyed, we must resume the destroy process in this case #2335\n    if (!privateProps.innerParams.get(instance)) {\n      instance._destroy();\n    }\n  }\n};\n\n/**\n * @param {any} resolveValue\n * @returns {SweetAlertResult}\n */\nconst prepareResolveValue = resolveValue => {\n  // When user calls Swal.close()\n  if (typeof resolveValue === 'undefined') {\n    return {\n      isConfirmed: false,\n      isDenied: false,\n      isDismissed: true\n    };\n  }\n  return Object.assign({\n    isConfirmed: false,\n    isDenied: false,\n    isDismissed: false\n  }, resolveValue);\n};\n\n/**\n * @param {SweetAlert} instance\n * @param {HTMLElement} popup\n * @param {SweetAlertOptions} innerParams\n */\nconst handlePopupAnimation = (instance, popup, innerParams) => {\n  var _globalState$eventEmi;\n  const container = getContainer();\n  // If animation is supported, animate\n  const animationIsSupported = hasCssAnimation(popup);\n  if (typeof innerParams.willClose === 'function') {\n    innerParams.willClose(popup);\n  }\n  (_globalState$eventEmi = globalState.eventEmitter) === null || _globalState$eventEmi === void 0 || _globalState$eventEmi.emit('willClose', popup);\n  if (animationIsSupported) {\n    animatePopup(instance, popup, container, innerParams.returnFocus, innerParams.didClose);\n  } else {\n    // Otherwise, remove immediately\n    removePopupAndResetState(instance, container, innerParams.returnFocus, innerParams.didClose);\n  }\n};\n\n/**\n * @param {SweetAlert} instance\n * @param {HTMLElement} popup\n * @param {HTMLElement} container\n * @param {boolean} returnFocus\n * @param {Function} didClose\n */\nconst animatePopup = (instance, popup, container, returnFocus, didClose) => {\n  globalState.swalCloseEventFinishedCallback = removePopupAndResetState.bind(null, instance, container, returnFocus, didClose);\n  /**\n   * @param {AnimationEvent | TransitionEvent} e\n   */\n  const swalCloseAnimationFinished = function (e) {\n    if (e.target === popup) {\n      var _globalState$swalClos;\n      (_globalState$swalClos = globalState.swalCloseEventFinishedCallback) === null || _globalState$swalClos === void 0 || _globalState$swalClos.call(globalState);\n      delete globalState.swalCloseEventFinishedCallback;\n      popup.removeEventListener('animationend', swalCloseAnimationFinished);\n      popup.removeEventListener('transitionend', swalCloseAnimationFinished);\n    }\n  };\n  popup.addEventListener('animationend', swalCloseAnimationFinished);\n  popup.addEventListener('transitionend', swalCloseAnimationFinished);\n};\n\n/**\n * @param {SweetAlert} instance\n * @param {Function} didClose\n */\nconst triggerDidCloseAndDispose = (instance, didClose) => {\n  setTimeout(() => {\n    var _globalState$eventEmi2;\n    if (typeof didClose === 'function') {\n      didClose.bind(instance.params)();\n    }\n    (_globalState$eventEmi2 = globalState.eventEmitter) === null || _globalState$eventEmi2 === void 0 || _globalState$eventEmi2.emit('didClose');\n    // instance might have been destroyed already\n    if (instance._destroy) {\n      instance._destroy();\n    }\n  });\n};\n\n/**\n * Shows loader (spinner), this is useful with AJAX requests.\n * By default the loader be shown instead of the \"Confirm\" button.\n *\n * @param {HTMLButtonElement | null} [buttonToReplace]\n */\nconst showLoading = buttonToReplace => {\n  let popup = getPopup();\n  if (!popup) {\n    new Swal();\n  }\n  popup = getPopup();\n  if (!popup) {\n    return;\n  }\n  const loader = getLoader();\n  if (isToast()) {\n    hide(getIcon());\n  } else {\n    replaceButton(popup, buttonToReplace);\n  }\n  show(loader);\n  popup.setAttribute('data-loading', 'true');\n  popup.setAttribute('aria-busy', 'true');\n  popup.focus();\n};\n\n/**\n * @param {HTMLElement} popup\n * @param {HTMLButtonElement | null} [buttonToReplace]\n */\nconst replaceButton = (popup, buttonToReplace) => {\n  const actions = getActions();\n  const loader = getLoader();\n  if (!actions || !loader) {\n    return;\n  }\n  if (!buttonToReplace && isVisible$1(getConfirmButton())) {\n    buttonToReplace = getConfirmButton();\n  }\n  show(actions);\n  if (buttonToReplace) {\n    hide(buttonToReplace);\n    loader.setAttribute('data-button-to-replace', buttonToReplace.className);\n    actions.insertBefore(loader, buttonToReplace);\n  }\n  addClass([popup, actions], swalClasses.loading);\n};\n\n/**\n * @param {SweetAlert} instance\n * @param {SweetAlertOptions} params\n */\nconst handleInputOptionsAndValue = (instance, params) => {\n  if (params.input === 'select' || params.input === 'radio') {\n    handleInputOptions(instance, params);\n  } else if (['text', 'email', 'number', 'tel', 'textarea'].some(i => i === params.input) && (hasToPromiseFn(params.inputValue) || isPromise(params.inputValue))) {\n    showLoading(getConfirmButton());\n    handleInputValue(instance, params);\n  }\n};\n\n/**\n * @param {SweetAlert} instance\n * @param {SweetAlertOptions} innerParams\n * @returns {SweetAlertInputValue}\n */\nconst getInputValue = (instance, innerParams) => {\n  const input = instance.getInput();\n  if (!input) {\n    return null;\n  }\n  switch (innerParams.input) {\n    case 'checkbox':\n      return getCheckboxValue(input);\n    case 'radio':\n      return getRadioValue(input);\n    case 'file':\n      return getFileValue(input);\n    default:\n      return innerParams.inputAutoTrim ? input.value.trim() : input.value;\n  }\n};\n\n/**\n * @param {HTMLInputElement} input\n * @returns {number}\n */\nconst getCheckboxValue = input => input.checked ? 1 : 0;\n\n/**\n * @param {HTMLInputElement} input\n * @returns {string | null}\n */\nconst getRadioValue = input => input.checked ? input.value : null;\n\n/**\n * @param {HTMLInputElement} input\n * @returns {FileList | File | null}\n */\nconst getFileValue = input => input.files && input.files.length ? input.getAttribute('multiple') !== null ? input.files : input.files[0] : null;\n\n/**\n * @param {SweetAlert} instance\n * @param {SweetAlertOptions} params\n */\nconst handleInputOptions = (instance, params) => {\n  const popup = getPopup();\n  if (!popup) {\n    return;\n  }\n  /**\n   * @param {Record<string, any>} inputOptions\n   */\n  const processInputOptions = inputOptions => {\n    if (params.input === 'select') {\n      populateSelectOptions(popup, formatInputOptions(inputOptions), params);\n    } else if (params.input === 'radio') {\n      populateRadioOptions(popup, formatInputOptions(inputOptions), params);\n    }\n  };\n  if (hasToPromiseFn(params.inputOptions) || isPromise(params.inputOptions)) {\n    showLoading(getConfirmButton());\n    asPromise(params.inputOptions).then(inputOptions => {\n      instance.hideLoading();\n      processInputOptions(inputOptions);\n    });\n  } else if (typeof params.inputOptions === 'object') {\n    processInputOptions(params.inputOptions);\n  } else {\n    error(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof params.inputOptions}`);\n  }\n};\n\n/**\n * @param {SweetAlert} instance\n * @param {SweetAlertOptions} params\n */\nconst handleInputValue = (instance, params) => {\n  const input = instance.getInput();\n  if (!input) {\n    return;\n  }\n  hide(input);\n  asPromise(params.inputValue).then(inputValue => {\n    input.value = params.input === 'number' ? `${parseFloat(inputValue) || 0}` : `${inputValue}`;\n    show(input);\n    input.focus();\n    instance.hideLoading();\n  }).catch(err => {\n    error(`Error in inputValue promise: ${err}`);\n    input.value = '';\n    show(input);\n    input.focus();\n    instance.hideLoading();\n  });\n};\n\n/**\n * @param {HTMLElement} popup\n * @param {InputOptionFlattened[]} inputOptions\n * @param {SweetAlertOptions} params\n */\nfunction populateSelectOptions(popup, inputOptions, params) {\n  const select = getDirectChildByClass(popup, swalClasses.select);\n  if (!select) {\n    return;\n  }\n  /**\n   * @param {HTMLElement} parent\n   * @param {string} optionLabel\n   * @param {string} optionValue\n   */\n  const renderOption = (parent, optionLabel, optionValue) => {\n    const option = document.createElement('option');\n    option.value = optionValue;\n    setInnerHtml(option, optionLabel);\n    option.selected = isSelected(optionValue, params.inputValue);\n    parent.appendChild(option);\n  };\n  inputOptions.forEach(inputOption => {\n    const optionValue = inputOption[0];\n    const optionLabel = inputOption[1];\n    // <optgroup> spec:\n    // https://www.w3.org/TR/html401/interact/forms.html#h-17.6\n    // \"...all OPTGROUP elements must be specified directly within a SELECT element (i.e., groups may not be nested)...\"\n    // check whether this is a <optgroup>\n    if (Array.isArray(optionLabel)) {\n      // if it is an array, then it is an <optgroup>\n      const optgroup = document.createElement('optgroup');\n      optgroup.label = optionValue;\n      optgroup.disabled = false; // not configurable for now\n      select.appendChild(optgroup);\n      optionLabel.forEach(o => renderOption(optgroup, o[1], o[0]));\n    } else {\n      // case of <option>\n      renderOption(select, optionLabel, optionValue);\n    }\n  });\n  select.focus();\n}\n\n/**\n * @param {HTMLElement} popup\n * @param {InputOptionFlattened[]} inputOptions\n * @param {SweetAlertOptions} params\n */\nfunction populateRadioOptions(popup, inputOptions, params) {\n  const radio = getDirectChildByClass(popup, swalClasses.radio);\n  if (!radio) {\n    return;\n  }\n  inputOptions.forEach(inputOption => {\n    const radioValue = inputOption[0];\n    const radioLabel = inputOption[1];\n    const radioInput = document.createElement('input');\n    const radioLabelElement = document.createElement('label');\n    radioInput.type = 'radio';\n    radioInput.name = swalClasses.radio;\n    radioInput.value = radioValue;\n    if (isSelected(radioValue, params.inputValue)) {\n      radioInput.checked = true;\n    }\n    const label = document.createElement('span');\n    setInnerHtml(label, radioLabel);\n    label.className = swalClasses.label;\n    radioLabelElement.appendChild(radioInput);\n    radioLabelElement.appendChild(label);\n    radio.appendChild(radioLabelElement);\n  });\n  const radios = radio.querySelectorAll('input');\n  if (radios.length) {\n    radios[0].focus();\n  }\n}\n\n/**\n * Converts `inputOptions` into an array of `[value, label]`s\n *\n * @param {Record<string, any>} inputOptions\n * @typedef {string[]} InputOptionFlattened\n * @returns {InputOptionFlattened[]}\n */\nconst formatInputOptions = inputOptions => {\n  /** @type {InputOptionFlattened[]} */\n  const result = [];\n  if (inputOptions instanceof Map) {\n    inputOptions.forEach((value, key) => {\n      let valueFormatted = value;\n      if (typeof valueFormatted === 'object') {\n        // case of <optgroup>\n        valueFormatted = formatInputOptions(valueFormatted);\n      }\n      result.push([key, valueFormatted]);\n    });\n  } else {\n    Object.keys(inputOptions).forEach(key => {\n      let valueFormatted = inputOptions[key];\n      if (typeof valueFormatted === 'object') {\n        // case of <optgroup>\n        valueFormatted = formatInputOptions(valueFormatted);\n      }\n      result.push([key, valueFormatted]);\n    });\n  }\n  return result;\n};\n\n/**\n * @param {string} optionValue\n * @param {SweetAlertInputValue} inputValue\n * @returns {boolean}\n */\nconst isSelected = (optionValue, inputValue) => {\n  return !!inputValue && inputValue.toString() === optionValue.toString();\n};\n\n/**\n * @param {SweetAlert} instance\n */\nconst handleConfirmButtonClick = instance => {\n  const innerParams = privateProps.innerParams.get(instance);\n  instance.disableButtons();\n  if (innerParams.input) {\n    handleConfirmOrDenyWithInput(instance, 'confirm');\n  } else {\n    confirm(instance, true);\n  }\n};\n\n/**\n * @param {SweetAlert} instance\n */\nconst handleDenyButtonClick = instance => {\n  const innerParams = privateProps.innerParams.get(instance);\n  instance.disableButtons();\n  if (innerParams.returnInputValueOnDeny) {\n    handleConfirmOrDenyWithInput(instance, 'deny');\n  } else {\n    deny(instance, false);\n  }\n};\n\n/**\n * @param {SweetAlert} instance\n * @param {Function} dismissWith\n */\nconst handleCancelButtonClick = (instance, dismissWith) => {\n  instance.disableButtons();\n  dismissWith(DismissReason.cancel);\n};\n\n/**\n * @param {SweetAlert} instance\n * @param {'confirm' | 'deny'} type\n */\nconst handleConfirmOrDenyWithInput = (instance, type) => {\n  const innerParams = privateProps.innerParams.get(instance);\n  if (!innerParams.input) {\n    error(`The \"input\" parameter is needed to be set when using returnInputValueOn${capitalizeFirstLetter(type)}`);\n    return;\n  }\n  const input = instance.getInput();\n  const inputValue = getInputValue(instance, innerParams);\n  if (innerParams.inputValidator) {\n    handleInputValidator(instance, inputValue, type);\n  } else if (input && !input.checkValidity()) {\n    instance.enableButtons();\n    instance.showValidationMessage(innerParams.validationMessage || input.validationMessage);\n  } else if (type === 'deny') {\n    deny(instance, inputValue);\n  } else {\n    confirm(instance, inputValue);\n  }\n};\n\n/**\n * @param {SweetAlert} instance\n * @param {SweetAlertInputValue} inputValue\n * @param {'confirm' | 'deny'} type\n */\nconst handleInputValidator = (instance, inputValue, type) => {\n  const innerParams = privateProps.innerParams.get(instance);\n  instance.disableInput();\n  const validationPromise = Promise.resolve().then(() => asPromise(innerParams.inputValidator(inputValue, innerParams.validationMessage)));\n  validationPromise.then(validationMessage => {\n    instance.enableButtons();\n    instance.enableInput();\n    if (validationMessage) {\n      instance.showValidationMessage(validationMessage);\n    } else if (type === 'deny') {\n      deny(instance, inputValue);\n    } else {\n      confirm(instance, inputValue);\n    }\n  });\n};\n\n/**\n * @param {SweetAlert} instance\n * @param {any} value\n */\nconst deny = (instance, value) => {\n  const innerParams = privateProps.innerParams.get(instance || undefined);\n  if (innerParams.showLoaderOnDeny) {\n    showLoading(getDenyButton());\n  }\n  if (innerParams.preDeny) {\n    instance.isAwaitingPromise = true; // Flagging the instance as awaiting a promise so it's own promise's reject/resolve methods doesn't get destroyed until the result from this preDeny's promise is received\n    const preDenyPromise = Promise.resolve().then(() => asPromise(innerParams.preDeny(value, innerParams.validationMessage)));\n    preDenyPromise.then(preDenyValue => {\n      if (preDenyValue === false) {\n        instance.hideLoading();\n        handleAwaitingPromise(instance);\n      } else {\n        instance.close({\n          isDenied: true,\n          value: typeof preDenyValue === 'undefined' ? value : preDenyValue\n        });\n      }\n    }).catch(error => rejectWith(instance || undefined, error));\n  } else {\n    instance.close({\n      isDenied: true,\n      value\n    });\n  }\n};\n\n/**\n * @param {SweetAlert} instance\n * @param {any} value\n */\nconst succeedWith = (instance, value) => {\n  instance.close({\n    isConfirmed: true,\n    value\n  });\n};\n\n/**\n *\n * @param {SweetAlert} instance\n * @param {string} error\n */\nconst rejectWith = (instance, error) => {\n  instance.rejectPromise(error);\n};\n\n/**\n *\n * @param {SweetAlert} instance\n * @param {any} value\n */\nconst confirm = (instance, value) => {\n  const innerParams = privateProps.innerParams.get(instance || undefined);\n  if (innerParams.showLoaderOnConfirm) {\n    showLoading();\n  }\n  if (innerParams.preConfirm) {\n    instance.resetValidationMessage();\n    instance.isAwaitingPromise = true; // Flagging the instance as awaiting a promise so it's own promise's reject/resolve methods doesn't get destroyed until the result from this preConfirm's promise is received\n    const preConfirmPromise = Promise.resolve().then(() => asPromise(innerParams.preConfirm(value, innerParams.validationMessage)));\n    preConfirmPromise.then(preConfirmValue => {\n      if (isVisible$1(getValidationMessage()) || preConfirmValue === false) {\n        instance.hideLoading();\n        handleAwaitingPromise(instance);\n      } else {\n        succeedWith(instance, typeof preConfirmValue === 'undefined' ? value : preConfirmValue);\n      }\n    }).catch(error => rejectWith(instance || undefined, error));\n  } else {\n    succeedWith(instance, value);\n  }\n};\n\n/**\n * Hides loader and shows back the button which was hidden by .showLoading()\n */\nfunction hideLoading() {\n  // do nothing if popup is closed\n  const innerParams = privateProps.innerParams.get(this);\n  if (!innerParams) {\n    return;\n  }\n  const domCache = privateProps.domCache.get(this);\n  hide(domCache.loader);\n  if (isToast()) {\n    if (innerParams.icon) {\n      show(getIcon());\n    }\n  } else {\n    showRelatedButton(domCache);\n  }\n  removeClass([domCache.popup, domCache.actions], swalClasses.loading);\n  domCache.popup.removeAttribute('aria-busy');\n  domCache.popup.removeAttribute('data-loading');\n  domCache.confirmButton.disabled = false;\n  domCache.denyButton.disabled = false;\n  domCache.cancelButton.disabled = false;\n}\nconst showRelatedButton = domCache => {\n  const buttonToReplace = domCache.popup.getElementsByClassName(domCache.loader.getAttribute('data-button-to-replace'));\n  if (buttonToReplace.length) {\n    show(buttonToReplace[0], 'inline-block');\n  } else if (allButtonsAreHidden()) {\n    hide(domCache.actions);\n  }\n};\n\n/**\n * Gets the input DOM node, this method works with input parameter.\n *\n * @returns {HTMLInputElement | null}\n */\nfunction getInput() {\n  const innerParams = privateProps.innerParams.get(this);\n  const domCache = privateProps.domCache.get(this);\n  if (!domCache) {\n    return null;\n  }\n  return getInput$1(domCache.popup, innerParams.input);\n}\n\n/**\n * @param {SweetAlert} instance\n * @param {string[]} buttons\n * @param {boolean} disabled\n */\nfunction setButtonsDisabled(instance, buttons, disabled) {\n  const domCache = privateProps.domCache.get(instance);\n  buttons.forEach(button => {\n    domCache[button].disabled = disabled;\n  });\n}\n\n/**\n * @param {HTMLInputElement | null} input\n * @param {boolean} disabled\n */\nfunction setInputDisabled(input, disabled) {\n  const popup = getPopup();\n  if (!popup || !input) {\n    return;\n  }\n  if (input.type === 'radio') {\n    /** @type {NodeListOf<HTMLInputElement>} */\n    const radios = popup.querySelectorAll(`[name=\"${swalClasses.radio}\"]`);\n    for (let i = 0; i < radios.length; i++) {\n      radios[i].disabled = disabled;\n    }\n  } else {\n    input.disabled = disabled;\n  }\n}\n\n/**\n * Enable all the buttons\n * @this {SweetAlert}\n */\nfunction enableButtons() {\n  setButtonsDisabled(this, ['confirmButton', 'denyButton', 'cancelButton'], false);\n}\n\n/**\n * Disable all the buttons\n * @this {SweetAlert}\n */\nfunction disableButtons() {\n  setButtonsDisabled(this, ['confirmButton', 'denyButton', 'cancelButton'], true);\n}\n\n/**\n * Enable the input field\n * @this {SweetAlert}\n */\nfunction enableInput() {\n  setInputDisabled(this.getInput(), false);\n}\n\n/**\n * Disable the input field\n * @this {SweetAlert}\n */\nfunction disableInput() {\n  setInputDisabled(this.getInput(), true);\n}\n\n/**\n * Show block with validation message\n *\n * @param {string} error\n * @this {SweetAlert}\n */\nfunction showValidationMessage(error) {\n  const domCache = privateProps.domCache.get(this);\n  const params = privateProps.innerParams.get(this);\n  setInnerHtml(domCache.validationMessage, error);\n  domCache.validationMessage.className = swalClasses['validation-message'];\n  if (params.customClass && params.customClass.validationMessage) {\n    addClass(domCache.validationMessage, params.customClass.validationMessage);\n  }\n  show(domCache.validationMessage);\n  const input = this.getInput();\n  if (input) {\n    input.setAttribute('aria-invalid', 'true');\n    input.setAttribute('aria-describedby', swalClasses['validation-message']);\n    focusInput(input);\n    addClass(input, swalClasses.inputerror);\n  }\n}\n\n/**\n * Hide block with validation message\n *\n * @this {SweetAlert}\n */\nfunction resetValidationMessage() {\n  const domCache = privateProps.domCache.get(this);\n  if (domCache.validationMessage) {\n    hide(domCache.validationMessage);\n  }\n  const input = this.getInput();\n  if (input) {\n    input.removeAttribute('aria-invalid');\n    input.removeAttribute('aria-describedby');\n    removeClass(input, swalClasses.inputerror);\n  }\n}\n\nconst defaultParams = {\n  title: '',\n  titleText: '',\n  text: '',\n  html: '',\n  footer: '',\n  icon: undefined,\n  iconColor: undefined,\n  iconHtml: undefined,\n  template: undefined,\n  toast: false,\n  draggable: false,\n  animation: true,\n  showClass: {\n    popup: 'swal2-show',\n    backdrop: 'swal2-backdrop-show',\n    icon: 'swal2-icon-show'\n  },\n  hideClass: {\n    popup: 'swal2-hide',\n    backdrop: 'swal2-backdrop-hide',\n    icon: 'swal2-icon-hide'\n  },\n  customClass: {},\n  target: 'body',\n  color: undefined,\n  backdrop: true,\n  heightAuto: true,\n  allowOutsideClick: true,\n  allowEscapeKey: true,\n  allowEnterKey: true,\n  stopKeydownPropagation: true,\n  keydownListenerCapture: false,\n  showConfirmButton: true,\n  showDenyButton: false,\n  showCancelButton: false,\n  preConfirm: undefined,\n  preDeny: undefined,\n  confirmButtonText: 'OK',\n  confirmButtonAriaLabel: '',\n  confirmButtonColor: undefined,\n  denyButtonText: 'No',\n  denyButtonAriaLabel: '',\n  denyButtonColor: undefined,\n  cancelButtonText: 'Cancel',\n  cancelButtonAriaLabel: '',\n  cancelButtonColor: undefined,\n  buttonsStyling: true,\n  reverseButtons: false,\n  focusConfirm: true,\n  focusDeny: false,\n  focusCancel: false,\n  returnFocus: true,\n  showCloseButton: false,\n  closeButtonHtml: '&times;',\n  closeButtonAriaLabel: 'Close this dialog',\n  loaderHtml: '',\n  showLoaderOnConfirm: false,\n  showLoaderOnDeny: false,\n  imageUrl: undefined,\n  imageWidth: undefined,\n  imageHeight: undefined,\n  imageAlt: '',\n  timer: undefined,\n  timerProgressBar: false,\n  width: undefined,\n  padding: undefined,\n  background: undefined,\n  input: undefined,\n  inputPlaceholder: '',\n  inputLabel: '',\n  inputValue: '',\n  inputOptions: {},\n  inputAutoFocus: true,\n  inputAutoTrim: true,\n  inputAttributes: {},\n  inputValidator: undefined,\n  returnInputValueOnDeny: false,\n  validationMessage: undefined,\n  grow: false,\n  position: 'center',\n  progressSteps: [],\n  currentProgressStep: undefined,\n  progressStepsDistance: undefined,\n  willOpen: undefined,\n  didOpen: undefined,\n  didRender: undefined,\n  willClose: undefined,\n  didClose: undefined,\n  didDestroy: undefined,\n  scrollbarPadding: true\n};\nconst updatableParams = ['allowEscapeKey', 'allowOutsideClick', 'background', 'buttonsStyling', 'cancelButtonAriaLabel', 'cancelButtonColor', 'cancelButtonText', 'closeButtonAriaLabel', 'closeButtonHtml', 'color', 'confirmButtonAriaLabel', 'confirmButtonColor', 'confirmButtonText', 'currentProgressStep', 'customClass', 'denyButtonAriaLabel', 'denyButtonColor', 'denyButtonText', 'didClose', 'didDestroy', 'draggable', 'footer', 'hideClass', 'html', 'icon', 'iconColor', 'iconHtml', 'imageAlt', 'imageHeight', 'imageUrl', 'imageWidth', 'preConfirm', 'preDeny', 'progressSteps', 'returnFocus', 'reverseButtons', 'showCancelButton', 'showCloseButton', 'showConfirmButton', 'showDenyButton', 'text', 'title', 'titleText', 'willClose'];\n\n/** @type {Record<string, string | undefined>} */\nconst deprecatedParams = {\n  allowEnterKey: undefined\n};\nconst toastIncompatibleParams = ['allowOutsideClick', 'allowEnterKey', 'backdrop', 'draggable', 'focusConfirm', 'focusDeny', 'focusCancel', 'returnFocus', 'heightAuto', 'keydownListenerCapture'];\n\n/**\n * Is valid parameter\n *\n * @param {string} paramName\n * @returns {boolean}\n */\nconst isValidParameter = paramName => {\n  return Object.prototype.hasOwnProperty.call(defaultParams, paramName);\n};\n\n/**\n * Is valid parameter for Swal.update() method\n *\n * @param {string} paramName\n * @returns {boolean}\n */\nconst isUpdatableParameter = paramName => {\n  return updatableParams.indexOf(paramName) !== -1;\n};\n\n/**\n * Is deprecated parameter\n *\n * @param {string} paramName\n * @returns {string | undefined}\n */\nconst isDeprecatedParameter = paramName => {\n  return deprecatedParams[paramName];\n};\n\n/**\n * @param {string} param\n */\nconst checkIfParamIsValid = param => {\n  if (!isValidParameter(param)) {\n    warn(`Unknown parameter \"${param}\"`);\n  }\n};\n\n/**\n * @param {string} param\n */\nconst checkIfToastParamIsValid = param => {\n  if (toastIncompatibleParams.includes(param)) {\n    warn(`The parameter \"${param}\" is incompatible with toasts`);\n  }\n};\n\n/**\n * @param {string} param\n */\nconst checkIfParamIsDeprecated = param => {\n  const isDeprecated = isDeprecatedParameter(param);\n  if (isDeprecated) {\n    warnAboutDeprecation(param, isDeprecated);\n  }\n};\n\n/**\n * Show relevant warnings for given params\n *\n * @param {SweetAlertOptions} params\n */\nconst showWarningsForParams = params => {\n  if (params.backdrop === false && params.allowOutsideClick) {\n    warn('\"allowOutsideClick\" parameter requires `backdrop` parameter to be set to `true`');\n  }\n  for (const param in params) {\n    checkIfParamIsValid(param);\n    if (params.toast) {\n      checkIfToastParamIsValid(param);\n    }\n    checkIfParamIsDeprecated(param);\n  }\n};\n\n/**\n * Updates popup parameters.\n *\n * @param {SweetAlertOptions} params\n */\nfunction update(params) {\n  const popup = getPopup();\n  const innerParams = privateProps.innerParams.get(this);\n  if (!popup || hasClass(popup, innerParams.hideClass.popup)) {\n    warn(`You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.`);\n    return;\n  }\n  const validUpdatableParams = filterValidParams(params);\n  const updatedParams = Object.assign({}, innerParams, validUpdatableParams);\n  render(this, updatedParams);\n  privateProps.innerParams.set(this, updatedParams);\n  Object.defineProperties(this, {\n    params: {\n      value: Object.assign({}, this.params, params),\n      writable: false,\n      enumerable: true\n    }\n  });\n}\n\n/**\n * @param {SweetAlertOptions} params\n * @returns {SweetAlertOptions}\n */\nconst filterValidParams = params => {\n  const validUpdatableParams = {};\n  Object.keys(params).forEach(param => {\n    if (isUpdatableParameter(param)) {\n      validUpdatableParams[param] = params[param];\n    } else {\n      warn(`Invalid parameter to update: ${param}`);\n    }\n  });\n  return validUpdatableParams;\n};\n\n/**\n * Dispose the current SweetAlert2 instance\n */\nfunction _destroy() {\n  const domCache = privateProps.domCache.get(this);\n  const innerParams = privateProps.innerParams.get(this);\n  if (!innerParams) {\n    disposeWeakMaps(this); // The WeakMaps might have been partly destroyed, we must recall it to dispose any remaining WeakMaps #2335\n    return; // This instance has already been destroyed\n  }\n\n  // Check if there is another Swal closing\n  if (domCache.popup && globalState.swalCloseEventFinishedCallback) {\n    globalState.swalCloseEventFinishedCallback();\n    delete globalState.swalCloseEventFinishedCallback;\n  }\n  if (typeof innerParams.didDestroy === 'function') {\n    innerParams.didDestroy();\n  }\n  globalState.eventEmitter.emit('didDestroy');\n  disposeSwal(this);\n}\n\n/**\n * @param {SweetAlert} instance\n */\nconst disposeSwal = instance => {\n  disposeWeakMaps(instance);\n  // Unset this.params so GC will dispose it (#1569)\n  delete instance.params;\n  // Unset globalState props so GC will dispose globalState (#1569)\n  delete globalState.keydownHandler;\n  delete globalState.keydownTarget;\n  // Unset currentInstance\n  delete globalState.currentInstance;\n};\n\n/**\n * @param {SweetAlert} instance\n */\nconst disposeWeakMaps = instance => {\n  // If the current instance is awaiting a promise result, we keep the privateMethods to call them once the promise result is retrieved #2335\n  if (instance.isAwaitingPromise) {\n    unsetWeakMaps(privateProps, instance);\n    instance.isAwaitingPromise = true;\n  } else {\n    unsetWeakMaps(privateMethods, instance);\n    unsetWeakMaps(privateProps, instance);\n    delete instance.isAwaitingPromise;\n    // Unset instance methods\n    delete instance.disableButtons;\n    delete instance.enableButtons;\n    delete instance.getInput;\n    delete instance.disableInput;\n    delete instance.enableInput;\n    delete instance.hideLoading;\n    delete instance.disableLoading;\n    delete instance.showValidationMessage;\n    delete instance.resetValidationMessage;\n    delete instance.close;\n    delete instance.closePopup;\n    delete instance.closeModal;\n    delete instance.closeToast;\n    delete instance.rejectPromise;\n    delete instance.update;\n    delete instance._destroy;\n  }\n};\n\n/**\n * @param {object} obj\n * @param {SweetAlert} instance\n */\nconst unsetWeakMaps = (obj, instance) => {\n  for (const i in obj) {\n    obj[i].delete(instance);\n  }\n};\n\nvar instanceMethods = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  _destroy: _destroy,\n  close: close,\n  closeModal: close,\n  closePopup: close,\n  closeToast: close,\n  disableButtons: disableButtons,\n  disableInput: disableInput,\n  disableLoading: hideLoading,\n  enableButtons: enableButtons,\n  enableInput: enableInput,\n  getInput: getInput,\n  handleAwaitingPromise: handleAwaitingPromise,\n  hideLoading: hideLoading,\n  rejectPromise: rejectPromise,\n  resetValidationMessage: resetValidationMessage,\n  showValidationMessage: showValidationMessage,\n  update: update\n});\n\n/**\n * @param {SweetAlertOptions} innerParams\n * @param {DomCache} domCache\n * @param {Function} dismissWith\n */\nconst handlePopupClick = (innerParams, domCache, dismissWith) => {\n  if (innerParams.toast) {\n    handleToastClick(innerParams, domCache, dismissWith);\n  } else {\n    // Ignore click events that had mousedown on the popup but mouseup on the container\n    // This can happen when the user drags a slider\n    handleModalMousedown(domCache);\n\n    // Ignore click events that had mousedown on the container but mouseup on the popup\n    handleContainerMousedown(domCache);\n    handleModalClick(innerParams, domCache, dismissWith);\n  }\n};\n\n/**\n * @param {SweetAlertOptions} innerParams\n * @param {DomCache} domCache\n * @param {Function} dismissWith\n */\nconst handleToastClick = (innerParams, domCache, dismissWith) => {\n  // Closing toast by internal click\n  domCache.popup.onclick = () => {\n    if (innerParams && (isAnyButtonShown(innerParams) || innerParams.timer || innerParams.input)) {\n      return;\n    }\n    dismissWith(DismissReason.close);\n  };\n};\n\n/**\n * @param {SweetAlertOptions} innerParams\n * @returns {boolean}\n */\nconst isAnyButtonShown = innerParams => {\n  return !!(innerParams.showConfirmButton || innerParams.showDenyButton || innerParams.showCancelButton || innerParams.showCloseButton);\n};\nlet ignoreOutsideClick = false;\n\n/**\n * @param {DomCache} domCache\n */\nconst handleModalMousedown = domCache => {\n  domCache.popup.onmousedown = () => {\n    domCache.container.onmouseup = function (e) {\n      domCache.container.onmouseup = () => {};\n      // We only check if the mouseup target is the container because usually it doesn't\n      // have any other direct children aside of the popup\n      if (e.target === domCache.container) {\n        ignoreOutsideClick = true;\n      }\n    };\n  };\n};\n\n/**\n * @param {DomCache} domCache\n */\nconst handleContainerMousedown = domCache => {\n  domCache.container.onmousedown = e => {\n    // prevent the modal text from being selected on double click on the container (allowOutsideClick: false)\n    if (e.target === domCache.container) {\n      e.preventDefault();\n    }\n    domCache.popup.onmouseup = function (e) {\n      domCache.popup.onmouseup = () => {};\n      // We also need to check if the mouseup target is a child of the popup\n      if (e.target === domCache.popup || e.target instanceof HTMLElement && domCache.popup.contains(e.target)) {\n        ignoreOutsideClick = true;\n      }\n    };\n  };\n};\n\n/**\n * @param {SweetAlertOptions} innerParams\n * @param {DomCache} domCache\n * @param {Function} dismissWith\n */\nconst handleModalClick = (innerParams, domCache, dismissWith) => {\n  domCache.container.onclick = e => {\n    if (ignoreOutsideClick) {\n      ignoreOutsideClick = false;\n      return;\n    }\n    if (e.target === domCache.container && callIfFunction(innerParams.allowOutsideClick)) {\n      dismissWith(DismissReason.backdrop);\n    }\n  };\n};\n\nconst isJqueryElement = elem => typeof elem === 'object' && elem.jquery;\nconst isElement = elem => elem instanceof Element || isJqueryElement(elem);\nconst argsToParams = args => {\n  const params = {};\n  if (typeof args[0] === 'object' && !isElement(args[0])) {\n    Object.assign(params, args[0]);\n  } else {\n    ['title', 'html', 'icon'].forEach((name, index) => {\n      const arg = args[index];\n      if (typeof arg === 'string' || isElement(arg)) {\n        params[name] = arg;\n      } else if (arg !== undefined) {\n        error(`Unexpected type of ${name}! Expected \"string\" or \"Element\", got ${typeof arg}`);\n      }\n    });\n  }\n  return params;\n};\n\n/**\n * Main method to create a new SweetAlert2 popup\n *\n * @param  {...SweetAlertOptions} args\n * @returns {Promise<SweetAlertResult>}\n */\nfunction fire() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n  return new this(...args);\n}\n\n/**\n * Returns an extended version of `Swal` containing `params` as defaults.\n * Useful for reusing Swal configuration.\n *\n * For example:\n *\n * Before:\n * const textPromptOptions = { input: 'text', showCancelButton: true }\n * const {value: firstName} = await Swal.fire({ ...textPromptOptions, title: 'What is your first name?' })\n * const {value: lastName} = await Swal.fire({ ...textPromptOptions, title: 'What is your last name?' })\n *\n * After:\n * const TextPrompt = Swal.mixin({ input: 'text', showCancelButton: true })\n * const {value: firstName} = await TextPrompt('What is your first name?')\n * const {value: lastName} = await TextPrompt('What is your last name?')\n *\n * @param {SweetAlertOptions} mixinParams\n * @returns {SweetAlert}\n */\nfunction mixin(mixinParams) {\n  class MixinSwal extends this {\n    _main(params, priorityMixinParams) {\n      return super._main(params, Object.assign({}, mixinParams, priorityMixinParams));\n    }\n  }\n  // @ts-ignore\n  return MixinSwal;\n}\n\n/**\n * If `timer` parameter is set, returns number of milliseconds of timer remained.\n * Otherwise, returns undefined.\n *\n * @returns {number | undefined}\n */\nconst getTimerLeft = () => {\n  return globalState.timeout && globalState.timeout.getTimerLeft();\n};\n\n/**\n * Stop timer. Returns number of milliseconds of timer remained.\n * If `timer` parameter isn't set, returns undefined.\n *\n * @returns {number | undefined}\n */\nconst stopTimer = () => {\n  if (globalState.timeout) {\n    stopTimerProgressBar();\n    return globalState.timeout.stop();\n  }\n};\n\n/**\n * Resume timer. Returns number of milliseconds of timer remained.\n * If `timer` parameter isn't set, returns undefined.\n *\n * @returns {number | undefined}\n */\nconst resumeTimer = () => {\n  if (globalState.timeout) {\n    const remaining = globalState.timeout.start();\n    animateTimerProgressBar(remaining);\n    return remaining;\n  }\n};\n\n/**\n * Resume timer. Returns number of milliseconds of timer remained.\n * If `timer` parameter isn't set, returns undefined.\n *\n * @returns {number | undefined}\n */\nconst toggleTimer = () => {\n  const timer = globalState.timeout;\n  return timer && (timer.running ? stopTimer() : resumeTimer());\n};\n\n/**\n * Increase timer. Returns number of milliseconds of an updated timer.\n * If `timer` parameter isn't set, returns undefined.\n *\n * @param {number} ms\n * @returns {number | undefined}\n */\nconst increaseTimer = ms => {\n  if (globalState.timeout) {\n    const remaining = globalState.timeout.increase(ms);\n    animateTimerProgressBar(remaining, true);\n    return remaining;\n  }\n};\n\n/**\n * Check if timer is running. Returns true if timer is running\n * or false if timer is paused or stopped.\n * If `timer` parameter isn't set, returns undefined\n *\n * @returns {boolean}\n */\nconst isTimerRunning = () => {\n  return !!(globalState.timeout && globalState.timeout.isRunning());\n};\n\nlet bodyClickListenerAdded = false;\nconst clickHandlers = {};\n\n/**\n * @param {string} attr\n */\nfunction bindClickHandler() {\n  let attr = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'data-swal-template';\n  clickHandlers[attr] = this;\n  if (!bodyClickListenerAdded) {\n    document.body.addEventListener('click', bodyClickListener);\n    bodyClickListenerAdded = true;\n  }\n}\nconst bodyClickListener = event => {\n  for (let el = event.target; el && el !== document; el = el.parentNode) {\n    for (const attr in clickHandlers) {\n      const template = el.getAttribute(attr);\n      if (template) {\n        clickHandlers[attr].fire({\n          template\n        });\n        return;\n      }\n    }\n  }\n};\n\n// Source: https://gist.github.com/mudge/5830382?permalink_comment_id=2691957#gistcomment-2691957\n\nclass EventEmitter {\n  constructor() {\n    /** @type {Events} */\n    this.events = {};\n  }\n\n  /**\n   * @param {string} eventName\n   * @returns {EventHandlers}\n   */\n  _getHandlersByEventName(eventName) {\n    if (typeof this.events[eventName] === 'undefined') {\n      // not Set because we need to keep the FIFO order\n      // https://github.com/sweetalert2/sweetalert2/pull/2763#discussion_r1748990334\n      this.events[eventName] = [];\n    }\n    return this.events[eventName];\n  }\n\n  /**\n   * @param {string} eventName\n   * @param {EventHandler} eventHandler\n   */\n  on(eventName, eventHandler) {\n    const currentHandlers = this._getHandlersByEventName(eventName);\n    if (!currentHandlers.includes(eventHandler)) {\n      currentHandlers.push(eventHandler);\n    }\n  }\n\n  /**\n   * @param {string} eventName\n   * @param {EventHandler} eventHandler\n   */\n  once(eventName, eventHandler) {\n    var _this = this;\n    /**\n     * @param {Array} args\n     */\n    const onceFn = function () {\n      _this.removeListener(eventName, onceFn);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      eventHandler.apply(_this, args);\n    };\n    this.on(eventName, onceFn);\n  }\n\n  /**\n   * @param {string} eventName\n   * @param {Array} args\n   */\n  emit(eventName) {\n    for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      args[_key2 - 1] = arguments[_key2];\n    }\n    this._getHandlersByEventName(eventName).forEach(\n    /**\n     * @param {EventHandler} eventHandler\n     */\n    eventHandler => {\n      try {\n        eventHandler.apply(this, args);\n      } catch (error) {\n        console.error(error);\n      }\n    });\n  }\n\n  /**\n   * @param {string} eventName\n   * @param {EventHandler} eventHandler\n   */\n  removeListener(eventName, eventHandler) {\n    const currentHandlers = this._getHandlersByEventName(eventName);\n    const index = currentHandlers.indexOf(eventHandler);\n    if (index > -1) {\n      currentHandlers.splice(index, 1);\n    }\n  }\n\n  /**\n   * @param {string} eventName\n   */\n  removeAllListeners(eventName) {\n    if (this.events[eventName] !== undefined) {\n      // https://github.com/sweetalert2/sweetalert2/pull/2763#discussion_r1749239222\n      this.events[eventName].length = 0;\n    }\n  }\n  reset() {\n    this.events = {};\n  }\n}\n\nglobalState.eventEmitter = new EventEmitter();\n\n/**\n * @param {string} eventName\n * @param {EventHandler} eventHandler\n */\nconst on = (eventName, eventHandler) => {\n  globalState.eventEmitter.on(eventName, eventHandler);\n};\n\n/**\n * @param {string} eventName\n * @param {EventHandler} eventHandler\n */\nconst once = (eventName, eventHandler) => {\n  globalState.eventEmitter.once(eventName, eventHandler);\n};\n\n/**\n * @param {string} [eventName]\n * @param {EventHandler} [eventHandler]\n */\nconst off = (eventName, eventHandler) => {\n  // Remove all handlers for all events\n  if (!eventName) {\n    globalState.eventEmitter.reset();\n    return;\n  }\n  if (eventHandler) {\n    // Remove a specific handler\n    globalState.eventEmitter.removeListener(eventName, eventHandler);\n  } else {\n    // Remove all handlers for a specific event\n    globalState.eventEmitter.removeAllListeners(eventName);\n  }\n};\n\nvar staticMethods = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  argsToParams: argsToParams,\n  bindClickHandler: bindClickHandler,\n  clickCancel: clickCancel,\n  clickConfirm: clickConfirm,\n  clickDeny: clickDeny,\n  enableLoading: showLoading,\n  fire: fire,\n  getActions: getActions,\n  getCancelButton: getCancelButton,\n  getCloseButton: getCloseButton,\n  getConfirmButton: getConfirmButton,\n  getContainer: getContainer,\n  getDenyButton: getDenyButton,\n  getFocusableElements: getFocusableElements,\n  getFooter: getFooter,\n  getHtmlContainer: getHtmlContainer,\n  getIcon: getIcon,\n  getIconContent: getIconContent,\n  getImage: getImage,\n  getInputLabel: getInputLabel,\n  getLoader: getLoader,\n  getPopup: getPopup,\n  getProgressSteps: getProgressSteps,\n  getTimerLeft: getTimerLeft,\n  getTimerProgressBar: getTimerProgressBar,\n  getTitle: getTitle,\n  getValidationMessage: getValidationMessage,\n  increaseTimer: increaseTimer,\n  isDeprecatedParameter: isDeprecatedParameter,\n  isLoading: isLoading,\n  isTimerRunning: isTimerRunning,\n  isUpdatableParameter: isUpdatableParameter,\n  isValidParameter: isValidParameter,\n  isVisible: isVisible,\n  mixin: mixin,\n  off: off,\n  on: on,\n  once: once,\n  resumeTimer: resumeTimer,\n  showLoading: showLoading,\n  stopTimer: stopTimer,\n  toggleTimer: toggleTimer\n});\n\nclass Timer {\n  /**\n   * @param {Function} callback\n   * @param {number} delay\n   */\n  constructor(callback, delay) {\n    this.callback = callback;\n    this.remaining = delay;\n    this.running = false;\n    this.start();\n  }\n\n  /**\n   * @returns {number}\n   */\n  start() {\n    if (!this.running) {\n      this.running = true;\n      this.started = new Date();\n      this.id = setTimeout(this.callback, this.remaining);\n    }\n    return this.remaining;\n  }\n\n  /**\n   * @returns {number}\n   */\n  stop() {\n    if (this.started && this.running) {\n      this.running = false;\n      clearTimeout(this.id);\n      this.remaining -= new Date().getTime() - this.started.getTime();\n    }\n    return this.remaining;\n  }\n\n  /**\n   * @param {number} n\n   * @returns {number}\n   */\n  increase(n) {\n    const running = this.running;\n    if (running) {\n      this.stop();\n    }\n    this.remaining += n;\n    if (running) {\n      this.start();\n    }\n    return this.remaining;\n  }\n\n  /**\n   * @returns {number}\n   */\n  getTimerLeft() {\n    if (this.running) {\n      this.stop();\n      this.start();\n    }\n    return this.remaining;\n  }\n\n  /**\n   * @returns {boolean}\n   */\n  isRunning() {\n    return this.running;\n  }\n}\n\nconst swalStringParams = ['swal-title', 'swal-html', 'swal-footer'];\n\n/**\n * @param {SweetAlertOptions} params\n * @returns {SweetAlertOptions}\n */\nconst getTemplateParams = params => {\n  const template = typeof params.template === 'string' ? (/** @type {HTMLTemplateElement} */document.querySelector(params.template)) : params.template;\n  if (!template) {\n    return {};\n  }\n  /** @type {DocumentFragment} */\n  const templateContent = template.content;\n  showWarningsForElements(templateContent);\n  const result = Object.assign(getSwalParams(templateContent), getSwalFunctionParams(templateContent), getSwalButtons(templateContent), getSwalImage(templateContent), getSwalIcon(templateContent), getSwalInput(templateContent), getSwalStringParams(templateContent, swalStringParams));\n  return result;\n};\n\n/**\n * @param {DocumentFragment} templateContent\n * @returns {Record<string, any>}\n */\nconst getSwalParams = templateContent => {\n  /** @type {Record<string, any>} */\n  const result = {};\n  /** @type {HTMLElement[]} */\n  const swalParams = Array.from(templateContent.querySelectorAll('swal-param'));\n  swalParams.forEach(param => {\n    showWarningsForAttributes(param, ['name', 'value']);\n    const paramName = /** @type {keyof SweetAlertOptions} */param.getAttribute('name');\n    const value = param.getAttribute('value');\n    if (!paramName || !value) {\n      return;\n    }\n    if (typeof defaultParams[paramName] === 'boolean') {\n      result[paramName] = value !== 'false';\n    } else if (typeof defaultParams[paramName] === 'object') {\n      result[paramName] = JSON.parse(value);\n    } else {\n      result[paramName] = value;\n    }\n  });\n  return result;\n};\n\n/**\n * @param {DocumentFragment} templateContent\n * @returns {Record<string, any>}\n */\nconst getSwalFunctionParams = templateContent => {\n  /** @type {Record<string, any>} */\n  const result = {};\n  /** @type {HTMLElement[]} */\n  const swalFunctions = Array.from(templateContent.querySelectorAll('swal-function-param'));\n  swalFunctions.forEach(param => {\n    const paramName = /** @type {keyof SweetAlertOptions} */param.getAttribute('name');\n    const value = param.getAttribute('value');\n    if (!paramName || !value) {\n      return;\n    }\n    result[paramName] = new Function(`return ${value}`)();\n  });\n  return result;\n};\n\n/**\n * @param {DocumentFragment} templateContent\n * @returns {Record<string, any>}\n */\nconst getSwalButtons = templateContent => {\n  /** @type {Record<string, any>} */\n  const result = {};\n  /** @type {HTMLElement[]} */\n  const swalButtons = Array.from(templateContent.querySelectorAll('swal-button'));\n  swalButtons.forEach(button => {\n    showWarningsForAttributes(button, ['type', 'color', 'aria-label']);\n    const type = button.getAttribute('type');\n    if (!type || !['confirm', 'cancel', 'deny'].includes(type)) {\n      return;\n    }\n    result[`${type}ButtonText`] = button.innerHTML;\n    result[`show${capitalizeFirstLetter(type)}Button`] = true;\n    if (button.hasAttribute('color')) {\n      result[`${type}ButtonColor`] = button.getAttribute('color');\n    }\n    if (button.hasAttribute('aria-label')) {\n      result[`${type}ButtonAriaLabel`] = button.getAttribute('aria-label');\n    }\n  });\n  return result;\n};\n\n/**\n * @param {DocumentFragment} templateContent\n * @returns {Pick<SweetAlertOptions, 'imageUrl' | 'imageWidth' | 'imageHeight' | 'imageAlt'>}\n */\nconst getSwalImage = templateContent => {\n  const result = {};\n  /** @type {HTMLElement | null} */\n  const image = templateContent.querySelector('swal-image');\n  if (image) {\n    showWarningsForAttributes(image, ['src', 'width', 'height', 'alt']);\n    if (image.hasAttribute('src')) {\n      result.imageUrl = image.getAttribute('src') || undefined;\n    }\n    if (image.hasAttribute('width')) {\n      result.imageWidth = image.getAttribute('width') || undefined;\n    }\n    if (image.hasAttribute('height')) {\n      result.imageHeight = image.getAttribute('height') || undefined;\n    }\n    if (image.hasAttribute('alt')) {\n      result.imageAlt = image.getAttribute('alt') || undefined;\n    }\n  }\n  return result;\n};\n\n/**\n * @param {DocumentFragment} templateContent\n * @returns {Record<string, any>}\n */\nconst getSwalIcon = templateContent => {\n  const result = {};\n  /** @type {HTMLElement | null} */\n  const icon = templateContent.querySelector('swal-icon');\n  if (icon) {\n    showWarningsForAttributes(icon, ['type', 'color']);\n    if (icon.hasAttribute('type')) {\n      result.icon = icon.getAttribute('type');\n    }\n    if (icon.hasAttribute('color')) {\n      result.iconColor = icon.getAttribute('color');\n    }\n    result.iconHtml = icon.innerHTML;\n  }\n  return result;\n};\n\n/**\n * @param {DocumentFragment} templateContent\n * @returns {Record<string, any>}\n */\nconst getSwalInput = templateContent => {\n  /** @type {Record<string, any>} */\n  const result = {};\n  /** @type {HTMLElement | null} */\n  const input = templateContent.querySelector('swal-input');\n  if (input) {\n    showWarningsForAttributes(input, ['type', 'label', 'placeholder', 'value']);\n    result.input = input.getAttribute('type') || 'text';\n    if (input.hasAttribute('label')) {\n      result.inputLabel = input.getAttribute('label');\n    }\n    if (input.hasAttribute('placeholder')) {\n      result.inputPlaceholder = input.getAttribute('placeholder');\n    }\n    if (input.hasAttribute('value')) {\n      result.inputValue = input.getAttribute('value');\n    }\n  }\n  /** @type {HTMLElement[]} */\n  const inputOptions = Array.from(templateContent.querySelectorAll('swal-input-option'));\n  if (inputOptions.length) {\n    result.inputOptions = {};\n    inputOptions.forEach(option => {\n      showWarningsForAttributes(option, ['value']);\n      const optionValue = option.getAttribute('value');\n      if (!optionValue) {\n        return;\n      }\n      const optionName = option.innerHTML;\n      result.inputOptions[optionValue] = optionName;\n    });\n  }\n  return result;\n};\n\n/**\n * @param {DocumentFragment} templateContent\n * @param {string[]} paramNames\n * @returns {Record<string, any>}\n */\nconst getSwalStringParams = (templateContent, paramNames) => {\n  /** @type {Record<string, any>} */\n  const result = {};\n  for (const i in paramNames) {\n    const paramName = paramNames[i];\n    /** @type {HTMLElement | null} */\n    const tag = templateContent.querySelector(paramName);\n    if (tag) {\n      showWarningsForAttributes(tag, []);\n      result[paramName.replace(/^swal-/, '')] = tag.innerHTML.trim();\n    }\n  }\n  return result;\n};\n\n/**\n * @param {DocumentFragment} templateContent\n */\nconst showWarningsForElements = templateContent => {\n  const allowedElements = swalStringParams.concat(['swal-param', 'swal-function-param', 'swal-button', 'swal-image', 'swal-icon', 'swal-input', 'swal-input-option']);\n  Array.from(templateContent.children).forEach(el => {\n    const tagName = el.tagName.toLowerCase();\n    if (!allowedElements.includes(tagName)) {\n      warn(`Unrecognized element <${tagName}>`);\n    }\n  });\n};\n\n/**\n * @param {HTMLElement} el\n * @param {string[]} allowedAttributes\n */\nconst showWarningsForAttributes = (el, allowedAttributes) => {\n  Array.from(el.attributes).forEach(attribute => {\n    if (allowedAttributes.indexOf(attribute.name) === -1) {\n      warn([`Unrecognized attribute \"${attribute.name}\" on <${el.tagName.toLowerCase()}>.`, `${allowedAttributes.length ? `Allowed attributes are: ${allowedAttributes.join(', ')}` : 'To set the value, use HTML within the element.'}`]);\n    }\n  });\n};\n\nconst SHOW_CLASS_TIMEOUT = 10;\n\n/**\n * Open popup, add necessary classes and styles, fix scrollbar\n *\n * @param {SweetAlertOptions} params\n */\nconst openPopup = params => {\n  const container = getContainer();\n  const popup = getPopup();\n  if (typeof params.willOpen === 'function') {\n    params.willOpen(popup);\n  }\n  globalState.eventEmitter.emit('willOpen', popup);\n  const bodyStyles = window.getComputedStyle(document.body);\n  const initialBodyOverflow = bodyStyles.overflowY;\n  addClasses(container, popup, params);\n\n  // scrolling is 'hidden' until animation is done, after that 'auto'\n  setTimeout(() => {\n    setScrollingVisibility(container, popup);\n  }, SHOW_CLASS_TIMEOUT);\n  if (isModal()) {\n    fixScrollContainer(container, params.scrollbarPadding, initialBodyOverflow);\n    setAriaHidden();\n  }\n  if (!isToast() && !globalState.previousActiveElement) {\n    globalState.previousActiveElement = document.activeElement;\n  }\n  if (typeof params.didOpen === 'function') {\n    setTimeout(() => params.didOpen(popup));\n  }\n  globalState.eventEmitter.emit('didOpen', popup);\n  removeClass(container, swalClasses['no-transition']);\n};\n\n/**\n * @param {AnimationEvent} event\n */\nconst swalOpenAnimationFinished = event => {\n  const popup = getPopup();\n  if (event.target !== popup) {\n    return;\n  }\n  const container = getContainer();\n  popup.removeEventListener('animationend', swalOpenAnimationFinished);\n  popup.removeEventListener('transitionend', swalOpenAnimationFinished);\n  container.style.overflowY = 'auto';\n};\n\n/**\n * @param {HTMLElement} container\n * @param {HTMLElement} popup\n */\nconst setScrollingVisibility = (container, popup) => {\n  if (hasCssAnimation(popup)) {\n    container.style.overflowY = 'hidden';\n    popup.addEventListener('animationend', swalOpenAnimationFinished);\n    popup.addEventListener('transitionend', swalOpenAnimationFinished);\n  } else {\n    container.style.overflowY = 'auto';\n  }\n};\n\n/**\n * @param {HTMLElement} container\n * @param {boolean} scrollbarPadding\n * @param {string} initialBodyOverflow\n */\nconst fixScrollContainer = (container, scrollbarPadding, initialBodyOverflow) => {\n  iOSfix();\n  if (scrollbarPadding && initialBodyOverflow !== 'hidden') {\n    replaceScrollbarWithPadding(initialBodyOverflow);\n  }\n\n  // sweetalert2/issues/1247\n  setTimeout(() => {\n    container.scrollTop = 0;\n  });\n};\n\n/**\n * @param {HTMLElement} container\n * @param {HTMLElement} popup\n * @param {SweetAlertOptions} params\n */\nconst addClasses = (container, popup, params) => {\n  addClass(container, params.showClass.backdrop);\n  if (params.animation) {\n    // this workaround with opacity is needed for https://github.com/sweetalert2/sweetalert2/issues/2059\n    popup.style.setProperty('opacity', '0', 'important');\n    show(popup, 'grid');\n    setTimeout(() => {\n      // Animate popup right after showing it\n      addClass(popup, params.showClass.popup);\n      // and remove the opacity workaround\n      popup.style.removeProperty('opacity');\n    }, SHOW_CLASS_TIMEOUT); // 10ms in order to fix #2062\n  } else {\n    show(popup, 'grid');\n  }\n  addClass([document.documentElement, document.body], swalClasses.shown);\n  if (params.heightAuto && params.backdrop && !params.toast) {\n    addClass([document.documentElement, document.body], swalClasses['height-auto']);\n  }\n};\n\nvar defaultInputValidators = {\n  /**\n   * @param {string} string\n   * @param {string} [validationMessage]\n   * @returns {Promise<string | void>}\n   */\n  email: (string, validationMessage) => {\n    return /^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z0-9-]+$/.test(string) ? Promise.resolve() : Promise.resolve(validationMessage || 'Invalid email address');\n  },\n  /**\n   * @param {string} string\n   * @param {string} [validationMessage]\n   * @returns {Promise<string | void>}\n   */\n  url: (string, validationMessage) => {\n    // taken from https://stackoverflow.com/a/3809435 with a small change from #1306 and #2013\n    return /^https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-z]{2,63}\\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(string) ? Promise.resolve() : Promise.resolve(validationMessage || 'Invalid URL');\n  }\n};\n\n/**\n * @param {SweetAlertOptions} params\n */\nfunction setDefaultInputValidators(params) {\n  // Use default `inputValidator` for supported input types if not provided\n  if (params.inputValidator) {\n    return;\n  }\n  if (params.input === 'email') {\n    params.inputValidator = defaultInputValidators['email'];\n  }\n  if (params.input === 'url') {\n    params.inputValidator = defaultInputValidators['url'];\n  }\n}\n\n/**\n * @param {SweetAlertOptions} params\n */\nfunction validateCustomTargetElement(params) {\n  // Determine if the custom target element is valid\n  if (!params.target || typeof params.target === 'string' && !document.querySelector(params.target) || typeof params.target !== 'string' && !params.target.appendChild) {\n    warn('Target parameter is not valid, defaulting to \"body\"');\n    params.target = 'body';\n  }\n}\n\n/**\n * Set type, text and actions on popup\n *\n * @param {SweetAlertOptions} params\n */\nfunction setParameters(params) {\n  setDefaultInputValidators(params);\n\n  // showLoaderOnConfirm && preConfirm\n  if (params.showLoaderOnConfirm && !params.preConfirm) {\n    warn('showLoaderOnConfirm is set to true, but preConfirm is not defined.\\n' + 'showLoaderOnConfirm should be used together with preConfirm, see usage example:\\n' + 'https://sweetalert2.github.io/#ajax-request');\n  }\n  validateCustomTargetElement(params);\n\n  // Replace newlines with <br> in title\n  if (typeof params.title === 'string') {\n    params.title = params.title.split('\\n').join('<br />');\n  }\n  init(params);\n}\n\n/** @type {SweetAlert} */\nlet currentInstance;\nvar _promise = /*#__PURE__*/new WeakMap();\nclass SweetAlert {\n  /**\n   * @param {...any} args\n   * @this {SweetAlert}\n   */\n  constructor() {\n    /**\n     * @type {Promise<SweetAlertResult>}\n     */\n    _classPrivateFieldInitSpec(this, _promise, void 0);\n    // Prevent run in Node env\n    if (typeof window === 'undefined') {\n      return;\n    }\n    currentInstance = this;\n\n    // @ts-ignore\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    const outerParams = Object.freeze(this.constructor.argsToParams(args));\n\n    /** @type {Readonly<SweetAlertOptions>} */\n    this.params = outerParams;\n\n    /** @type {boolean} */\n    this.isAwaitingPromise = false;\n    _classPrivateFieldSet2(_promise, this, this._main(currentInstance.params));\n  }\n  _main(userParams) {\n    let mixinParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    showWarningsForParams(Object.assign({}, mixinParams, userParams));\n    if (globalState.currentInstance) {\n      const swalPromiseResolve = privateMethods.swalPromiseResolve.get(globalState.currentInstance);\n      const {\n        isAwaitingPromise\n      } = globalState.currentInstance;\n      globalState.currentInstance._destroy();\n      if (!isAwaitingPromise) {\n        swalPromiseResolve({\n          isDismissed: true\n        });\n      }\n      if (isModal()) {\n        unsetAriaHidden();\n      }\n    }\n    globalState.currentInstance = currentInstance;\n    const innerParams = prepareParams(userParams, mixinParams);\n    setParameters(innerParams);\n    Object.freeze(innerParams);\n\n    // clear the previous timer\n    if (globalState.timeout) {\n      globalState.timeout.stop();\n      delete globalState.timeout;\n    }\n\n    // clear the restore focus timeout\n    clearTimeout(globalState.restoreFocusTimeout);\n    const domCache = populateDomCache(currentInstance);\n    render(currentInstance, innerParams);\n    privateProps.innerParams.set(currentInstance, innerParams);\n    return swalPromise(currentInstance, domCache, innerParams);\n  }\n\n  // `catch` cannot be the name of a module export, so we define our thenable methods here instead\n  then(onFulfilled) {\n    return _classPrivateFieldGet2(_promise, this).then(onFulfilled);\n  }\n  finally(onFinally) {\n    return _classPrivateFieldGet2(_promise, this).finally(onFinally);\n  }\n}\n\n/**\n * @param {SweetAlert} instance\n * @param {DomCache} domCache\n * @param {SweetAlertOptions} innerParams\n * @returns {Promise}\n */\nconst swalPromise = (instance, domCache, innerParams) => {\n  return new Promise((resolve, reject) => {\n    // functions to handle all closings/dismissals\n    /**\n     * @param {DismissReason} dismiss\n     */\n    const dismissWith = dismiss => {\n      instance.close({\n        isDismissed: true,\n        dismiss\n      });\n    };\n    privateMethods.swalPromiseResolve.set(instance, resolve);\n    privateMethods.swalPromiseReject.set(instance, reject);\n    domCache.confirmButton.onclick = () => {\n      handleConfirmButtonClick(instance);\n    };\n    domCache.denyButton.onclick = () => {\n      handleDenyButtonClick(instance);\n    };\n    domCache.cancelButton.onclick = () => {\n      handleCancelButtonClick(instance, dismissWith);\n    };\n    domCache.closeButton.onclick = () => {\n      dismissWith(DismissReason.close);\n    };\n    handlePopupClick(innerParams, domCache, dismissWith);\n    addKeydownHandler(globalState, innerParams, dismissWith);\n    handleInputOptionsAndValue(instance, innerParams);\n    openPopup(innerParams);\n    setupTimer(globalState, innerParams, dismissWith);\n    initFocus(domCache, innerParams);\n\n    // Scroll container to top on open (#1247, #1946)\n    setTimeout(() => {\n      domCache.container.scrollTop = 0;\n    });\n  });\n};\n\n/**\n * @param {SweetAlertOptions} userParams\n * @param {SweetAlertOptions} mixinParams\n * @returns {SweetAlertOptions}\n */\nconst prepareParams = (userParams, mixinParams) => {\n  const templateParams = getTemplateParams(userParams);\n  const params = Object.assign({}, defaultParams, mixinParams, templateParams, userParams); // precedence is described in #2131\n  params.showClass = Object.assign({}, defaultParams.showClass, params.showClass);\n  params.hideClass = Object.assign({}, defaultParams.hideClass, params.hideClass);\n  if (params.animation === false) {\n    params.showClass = {\n      backdrop: 'swal2-noanimation'\n    };\n    params.hideClass = {};\n  }\n  return params;\n};\n\n/**\n * @param {SweetAlert} instance\n * @returns {DomCache}\n */\nconst populateDomCache = instance => {\n  const domCache = {\n    popup: getPopup(),\n    container: getContainer(),\n    actions: getActions(),\n    confirmButton: getConfirmButton(),\n    denyButton: getDenyButton(),\n    cancelButton: getCancelButton(),\n    loader: getLoader(),\n    closeButton: getCloseButton(),\n    validationMessage: getValidationMessage(),\n    progressSteps: getProgressSteps()\n  };\n  privateProps.domCache.set(instance, domCache);\n  return domCache;\n};\n\n/**\n * @param {GlobalState} globalState\n * @param {SweetAlertOptions} innerParams\n * @param {Function} dismissWith\n */\nconst setupTimer = (globalState, innerParams, dismissWith) => {\n  const timerProgressBar = getTimerProgressBar();\n  hide(timerProgressBar);\n  if (innerParams.timer) {\n    globalState.timeout = new Timer(() => {\n      dismissWith('timer');\n      delete globalState.timeout;\n    }, innerParams.timer);\n    if (innerParams.timerProgressBar) {\n      show(timerProgressBar);\n      applyCustomClass(timerProgressBar, innerParams, 'timerProgressBar');\n      setTimeout(() => {\n        if (globalState.timeout && globalState.timeout.running) {\n          // timer can be already stopped or unset at this point\n          animateTimerProgressBar(innerParams.timer);\n        }\n      });\n    }\n  }\n};\n\n/**\n * Initialize focus in the popup:\n *\n * 1. If `toast` is `true`, don't steal focus from the document.\n * 2. Else if there is an [autofocus] element, focus it.\n * 3. Else if `focusConfirm` is `true` and confirm button is visible, focus it.\n * 4. Else if `focusDeny` is `true` and deny button is visible, focus it.\n * 5. Else if `focusCancel` is `true` and cancel button is visible, focus it.\n * 6. Else focus the first focusable element in a popup (if any).\n *\n * @param {DomCache} domCache\n * @param {SweetAlertOptions} innerParams\n */\nconst initFocus = (domCache, innerParams) => {\n  if (innerParams.toast) {\n    return;\n  }\n  // TODO: this is dumb, remove `allowEnterKey` param in the next major version\n  if (!callIfFunction(innerParams.allowEnterKey)) {\n    warnAboutDeprecation('allowEnterKey');\n    blurActiveElement();\n    return;\n  }\n  if (focusAutofocus(domCache)) {\n    return;\n  }\n  if (focusButton(domCache, innerParams)) {\n    return;\n  }\n  setFocus(-1, 1);\n};\n\n/**\n * @param {DomCache} domCache\n * @returns {boolean}\n */\nconst focusAutofocus = domCache => {\n  const autofocusElements = Array.from(domCache.popup.querySelectorAll('[autofocus]'));\n  for (const autofocusElement of autofocusElements) {\n    if (autofocusElement instanceof HTMLElement && isVisible$1(autofocusElement)) {\n      autofocusElement.focus();\n      return true;\n    }\n  }\n  return false;\n};\n\n/**\n * @param {DomCache} domCache\n * @param {SweetAlertOptions} innerParams\n * @returns {boolean}\n */\nconst focusButton = (domCache, innerParams) => {\n  if (innerParams.focusDeny && isVisible$1(domCache.denyButton)) {\n    domCache.denyButton.focus();\n    return true;\n  }\n  if (innerParams.focusCancel && isVisible$1(domCache.cancelButton)) {\n    domCache.cancelButton.focus();\n    return true;\n  }\n  if (innerParams.focusConfirm && isVisible$1(domCache.confirmButton)) {\n    domCache.confirmButton.focus();\n    return true;\n  }\n  return false;\n};\nconst blurActiveElement = () => {\n  if (document.activeElement instanceof HTMLElement && typeof document.activeElement.blur === 'function') {\n    document.activeElement.blur();\n  }\n};\n\n// Dear russian users visiting russian sites. Let's have fun.\nif (typeof window !== 'undefined' && /^ru\\b/.test(navigator.language) && location.host.match(/\\.(ru|su|by|xn--p1ai)$/)) {\n  const now = new Date();\n  const initiationDate = localStorage.getItem('swal-initiation');\n  if (!initiationDate) {\n    localStorage.setItem('swal-initiation', `${now}`);\n  } else if ((now.getTime() - Date.parse(initiationDate)) / (1000 * 60 * 60 * 24) > 3) {\n    setTimeout(() => {\n      document.body.style.pointerEvents = 'none';\n      const ukrainianAnthem = document.createElement('audio');\n      ukrainianAnthem.src = 'https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3';\n      ukrainianAnthem.loop = true;\n      document.body.appendChild(ukrainianAnthem);\n      setTimeout(() => {\n        ukrainianAnthem.play().catch(() => {\n          // ignore\n        });\n      }, 2500);\n    }, 500);\n  }\n}\n\n// Assign instance methods from src/instanceMethods/*.js to prototype\nSweetAlert.prototype.disableButtons = disableButtons;\nSweetAlert.prototype.enableButtons = enableButtons;\nSweetAlert.prototype.getInput = getInput;\nSweetAlert.prototype.disableInput = disableInput;\nSweetAlert.prototype.enableInput = enableInput;\nSweetAlert.prototype.hideLoading = hideLoading;\nSweetAlert.prototype.disableLoading = hideLoading;\nSweetAlert.prototype.showValidationMessage = showValidationMessage;\nSweetAlert.prototype.resetValidationMessage = resetValidationMessage;\nSweetAlert.prototype.close = close;\nSweetAlert.prototype.closePopup = close;\nSweetAlert.prototype.closeModal = close;\nSweetAlert.prototype.closeToast = close;\nSweetAlert.prototype.rejectPromise = rejectPromise;\nSweetAlert.prototype.update = update;\nSweetAlert.prototype._destroy = _destroy;\n\n// Assign static methods from src/staticMethods/*.js to constructor\nObject.assign(SweetAlert, staticMethods);\n\n// Proxy to instance methods to constructor, for now, for backwards compatibility\nObject.keys(instanceMethods).forEach(key => {\n  /**\n   * @param {...any} args\n   * @returns {any | undefined}\n   */\n  SweetAlert[key] = function () {\n    if (currentInstance && currentInstance[key]) {\n      return currentInstance[key](...arguments);\n    }\n    return null;\n  };\n});\nSweetAlert.DismissReason = DismissReason;\nSweetAlert.version = '11.15.3';\n\nconst Swal = SweetAlert;\n// @ts-ignore\nSwal.default = Swal;\n\nexport { Swal as default };\n\"undefined\"!=typeof document&&function(e,t){var n=e.createElement(\"style\");if(e.getElementsByTagName(\"head\")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch(e){n.innerText=t}}(document,\".swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:\\\"top-start     top            top-end\\\" \\\"center-start  center         center-end\\\" \\\"bottom-start  bottom-center  bottom-end\\\";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:hsl(0,0%,33%);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid hsl(0,0%,85%);border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:hsl(0,0%,94%);color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:\\\"!\\\";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:rgb(249.95234375,205.965625,167.74765625);color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:rgb(156.7033492823,224.2822966507,246.2966507177);color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:rgb(200.8064516129,217.9677419355,225.1935483871);color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}\");","import Swal from 'sweetalert2';\n\nexport class NotificationHandler {\n\n\n    constructor ({title,type,message}){\n        this.title = title,\n        this.type = type;\n        this.message = message;\n    }\n\n    show(){\n        switch (this.type) {\n            case \"info\": NotificationHandler.showInfo(this.title , this.message);break;\n            case \"success\": NotificationHandler.showSuccess(this.message);break;\n            case \"warning\": NotificationHandler.showWarning(this.title ,this.message);break;\n            case \"error\": NotificationHandler.showError(this.message);break;\n            default: NotificationHandler.showInfo(this.message);break;\n        }\n    }\n\n\n    static show(type, title, message){\n        switch (type) {\n            case \"info\": NotificationHandler.showInfo(title,message);break;\n            case \"success\": NotificationHandler.showSuccess(message);break;\n            case \"error\": NotificationHandler.showError(message);break;\n            case \"warning\": NotificationHandler.showWarning(title, message);break;\n            default: NotificationHandler.showInfo(this.message);break;\n        }\n    }\n\n\n    /**\n     * Affiche une notification toast.\n     * @param {string} type - Type de message (success, error, warning, info).\n     * @param {string} message - Message à afficher.\n     */\n    static showToast(type, message) {\n        Swal.fire({\n            toast: true,\n            position: 'top-end',\n            icon: type,\n            title: message,\n            showConfirmButton: false,\n            timer: 3000,\n            timerProgressBar: true,\n        });\n    }\n\n    /**\n     * Affiche une alerte de confirmation.\n     * @param {string} title - Titre de l'alerte.\n     * @param {string} text - Texte explicatif.\n     * @param {Function} onConfirm - Callback si l'utilisateur confirme.\n     */\n    static confirmAction(title, text, onConfirm) {\n        Swal.fire({\n            title: title,\n            text: text,\n            icon: 'warning',\n            showCancelButton: true,\n            confirmButtonText: 'Oui, confirmer',\n            cancelButtonText: 'Annuler',\n        }).then((result) => {\n            if (result.isConfirmed && typeof onConfirm === 'function') {\n                onConfirm();\n            }\n        });\n    }\n\n\n      /**\n     * Affiche une boîte de confirmation pour une action critique.\n     * @param {string} title - Titre de la boîte de confirmation.\n     * @param {string} text - Texte décrivant les conséquences de l'action.\n     * @param {Function} onConfirm - Fonction à exécuter si l'utilisateur confirme l'action.\n     */\n    //   static showConfirmation(title, text, onConfirm) {\n    //     Swal.fire({\n    //         title: title,\n    //         text: text,\n    //         icon: 'warning',\n    //         showCancelButton: true,\n    //         confirmButtonText: 'Oui, confirmer',\n    //         cancelButtonText: 'Annuler',\n    //         reverseButtons: true,\n    //     }).then((result) => {\n    //         if (result.isConfirmed) {\n    //             // Exécute la fonction de confirmation\n    //             onConfirm();\n    //         }\n    //     });\n    // }\n\n    \n\n    /**\n     * Affiche une alerte avec un message personnalisé.\n     * @param {string} type - Type de message (success, error, warning, info).\n     * @param {string} title - Titre du message.\n     * @param {string} text - Texte détaillé du message.\n     */\n    static showAlert(type, title, text) {\n        \n        Swal.fire({\n            icon: type,\n            title: title,\n            html: text,\n            confirmButtonText: 'OK',\n            width: \"auto\", \n        });\n    }\n\n    /**\n     * Affiche un message d'erreur générique.\n     * @param {string} [message='Une erreur s\\'est produite.'] - Message d'erreur à afficher.\n     */\n    static showError(message = 'Une erreur s\\'est produite.') {\n        NotificationHandler.showAlert('error', 'Une erreur s\\'est produite', message);\n    }\n\n    /**\n     * Affiche un message de succès générique.\n     * @param {string} [message='Opération réalisée avec succès.'] - Message de succès à afficher.\n     */\n    static showSuccess(message = 'Opération réalisée avec succès.') {\n        NotificationHandler.showToast('success', message);\n    }\n\n    /**\n     * Affiche un message d'information générique.\n     * @param {string} [message='Action en cours...'] - Message d'information à afficher.\n     */\n    static showInfo(title = \"Information\", message) {\n        NotificationHandler.showAlert('info',title, message);\n    }\n\n    static showWarning(title = \"Avertissement\", message) {\n        NotificationHandler.showAlert('warning',title, message);\n    }\n}\n","export class LoadingIndicator {\n    /**\n     * Constructeur de la classe LoadingIndicator.\n     * @param {string} containerSelector - Sélecteur CSS pour l'élément contenant le chargement (ex: une carte ou une table).\n     */\n    constructor(containerSelector = '#card_crud') {\n      \n        this.loadingElementId = containerSelector +  '-gapp-loading';\n        this.containerSelector = containerSelector;\n    }\n   \n    init (){\n\n    }\n    \n\n    /**\n     * Affiche l'indicateur de chargement.\n     * @returns {boolean} - Retourne `true` si le conteneur existe et le chargement est affiché.\n     */\n    show() {\n\n\n     \n        const container  = document.querySelector(this.containerSelector);\n\n        if (!container) {\n            console.error('Conteneur de chargement introuvable.');\n            return false;\n        }\n    \n        // Vérifier si le chargement est déjà affiché\n        if (!this.isLoadingVisible()) {\n            const loadingDiv = document.createElement('div');\n            loadingDiv.id = this.loadingElementId;\n            loadingDiv.className = 'd-flex justify-content-center align-items-center';\n    \n            // Appliquer le style pour s'assurer que l'élément reste sous le modal\n            loadingDiv.style.position = 'fixed';\n            loadingDiv.style.top = '0';\n            loadingDiv.style.left = '0';\n            loadingDiv.style.width = '100%';\n            loadingDiv.style.height = '100%';\n            loadingDiv.style.background = 'rgba(255, 255, 255, 0.5)'; // Optionnel pour effet de transparence\n            loadingDiv.style.zIndex = '1060'; // Inférieur à celui du modal (1050)\n    \n            loadingDiv.innerHTML = '<div class=\"spinner-border text-primary\" role=\"status\"></div>';\n            container.appendChild(loadingDiv);\n        }\n\n        return true;\n    }\n\n\n    /**\n     * Affiche un indicateur de chargement non bloquant sous forme de rectangle en haut à droite du formulaire.\n     * À utiliser pendant le calcul des champs de formulaire.\n     */\nshowNomBloquante(message) {\n    const container = document.querySelector(this.containerSelector);\n    const msg = message || \"Chargement\";\n\n    if (!container) {\n        console.error('Conteneur de chargement introuvable.');\n        return false;\n    }\n\n    // Chercher si un message existe déjà pour CE loadingElementId\n    let existingDiv = document.getElementById(this.loadingElementId);\n\n    if (existingDiv) {\n        // 🔄 Mettre à jour le texte si même instance\n        const messageSpan = existingDiv.querySelector('.loading-message');\n        if (messageSpan) {\n            messageSpan.textContent = `${msg} ...`;\n        }\n    } else {\n        // 📌 Sinon créer un nouveau bloc\n        const allMessages = document.querySelectorAll('.loading-non-bloquant');\n        const messageIndex = allMessages.length;\n\n        const spacing = 10; // marge entre messages\n        const messageHeight = 40; // hauteur approximative d’un bloc\n        const topPosition = 10 + (messageIndex * (messageHeight + spacing));\n\n        const loadingDiv = document.createElement('div');\n        loadingDiv.id = this.loadingElementId;\n        loadingDiv.className = 'loading-non-bloquant d-flex align-items-center p-2 shadow-sm';\n\n        loadingDiv.style.position = 'fixed';\n        loadingDiv.style.top = `${topPosition}px`;\n        loadingDiv.style.left = '50%';\n        loadingDiv.style.transform = 'translateX(-50%)';\n        loadingDiv.style.background = '#f8d7da';\n        loadingDiv.style.color = '#721c24';\n        loadingDiv.style.border = '1px solid #f5c6cb';\n        loadingDiv.style.borderRadius = '5px';\n        loadingDiv.style.zIndex = '999999';\n        loadingDiv.style.fontSize = '14px';\n        loadingDiv.style.fontWeight = 'bold';\n        loadingDiv.style.minWidth = '120px';\n        loadingDiv.style.textAlign = 'center';\n\n        loadingDiv.innerHTML = `\n            <span class=\"spinner-border spinner-border-sm text-danger me-2\"></span>\n            <span style=\"padding:2px\" class=\"loading-message\">${msg} ...</span>\n        `;\n\n        container.appendChild(loadingDiv);\n    }\n\n    return true;\n}\n\n\n\n    /**\n     * Masque l'indicateur de chargement.\n     */\n    hide() {\n\n        const container  = document.querySelector(this.containerSelector);\n\n        if (!container) {\n            console.error('Conteneur de chargement introuvable.');\n            return;\n        }\n\n        const loadingDiv = document.getElementById(this.loadingElementId);\n        if (loadingDiv) {\n            container.removeChild(loadingDiv);\n        } else {\n            // console.warn('Indicateur de chargement introuvable  : ' + this.loadingElementId);\n        }\n\n         // 📌 Repositionner les messages restants\n        const allMessages = document.querySelectorAll('.loading-non-bloquant');\n        allMessages.forEach((msgDiv, index) => {\n            const spacing = 10;\n            const messageHeight = 40;\n            const topPosition = 10 + (index * (messageHeight + spacing));\n            msgDiv.style.top = `${topPosition}px`;\n        });\n    }\n\n    /**\n     * Vérifie si l'indicateur de chargement est visible.\n     * @returns {boolean} - `true` si le chargement est affiché, `false` sinon.\n     */\n    isLoadingVisible() {\n        const v =  document.getElementById(this.loadingElementId) !== null;\n        return v;\n    }\n}\n","\n/**\n * `ViewStateService` gère l'état des vues dans Gapp UI en permettant \n * la persistance temporaire des contextes de gestion CRUD. \n * Il facilite la gestion des relations (`hasMany`), l'optimisation des requêtes AJAX \n * et assure la transmission dynamique des variables de contexte (`contextKey`) \n * entre le frontend et le backend.\n *\n * Règles de gestion :\n * - **ContextKey Unique** : `ViewState` est une structure `array of array`, une page Gapp UI \n *   peut contenir plusieurs `contextKey`.\n * - **Persistance Temporaire** : Les données sont stockées dans le navigateur et non sur le serveur.\n *   À chaque requête HTTP, Gapp UI transmet `viewState[]` avec `contextKey` au serveur, \n *   qui renvoie les valeurs mises à jour.\n * - **Gestion Dynamique des Contextes** :\n *   - Gapp UI peut générer plusieurs `contextKey`.\n *   - Une requête HTTP peut ajouter un nouveau `contextKey`, qui sera transmis à Gapp UI.\n *   - Les données de `viewState[contextKey]` sont partagées entre toutes les requêtes HTTP dans une page.\n *   - Si plusieurs requêtes utilisent le même `contextKey`, la dernière mise à jour prévaut.\n * - **Mise à Jour des Données** : \n *   - À chaque requête, Gapp UI met à jour `viewState` avec les valeurs provenant du serveur.\n *   - Un `contextKey` peut être réutilisé pour synchroniser les vues `editHasMany`, `create`, `edit`, `index`.\n * - **Gestion des Conflits** :\n *   - Si plusieurs contextes sont actifs, Gapp UI doit définir `currentContextKey` avant toute interaction.\n *   - Une gestion explicite est requise pour éviter les collisions entre différentes requêtes simultanées.\n * - **Transmission des Données** :\n *   - Toute requête AJAX envoie le `contextKey` en paramètre.\n *   - `viewState` contient des sous-catégories (`scope`, `form`, `table`, `filter`) \n *     pour organiser les variables en fonction des modèles (`this.modelName`).\n */\n\nexport class ViewStateService {\n    static viewState = window.viewState || {}; // Stocke tous les viewStates par contextKey\n\n    constructor(contextKey, modelName) {\n        this.contextKey = contextKey;\n        this.modelName = modelName;\n        ViewStateService.init();\n\n        if (!ViewStateService.viewState[this.contextKey]) {\n            ViewStateService.viewState[this.contextKey] = {};\n        }\n    }\n\n    /**\n     * Initialise le ViewState en mettant à jour les contextes existants\n     * et en insérant les nouveaux contextes ajoutés par contextKey.\n     */\n    static init() {\n\n        const newViewState = window.viewState || {};\n        Object.entries(newViewState).forEach(([contextKey, contextData]) => {\n\n            ViewStateService.viewState[contextKey] = contextData;\n\n            // if (!ViewStateService.viewState[contextKey]) {\n              \n            // } else {\n            //     Object.assign(ViewStateService.viewState[contextKey], contextData);\n            // }\n        });\n    }\n\n    getContext() {\n        return ViewStateService.viewState[this.contextKey];\n    }\n\n    getVariable(key) {\n        return this.getContext()[key] ?? null;\n    }\n\n    setVariable(key, value) {\n        this.getContext()[key] = value;\n    }\n\n    removeVariable(key) {\n        delete this.getContext()[key];\n    }\n\n    /**\n     * Récupérer les variables par type et modèle.\n     * @param {Array|string} types - Liste des types (ex: ['scope', 'form'])\n     * @param {string} this.modelName - Nom du modèle concerné (ex: 'projet')\n     * @returns {Object} Variables filtrées\n     */\n    getVariablesByType(types) {\n        \n        if (!Array.isArray(types)) {\n            types = [types];\n        }\n        \n        return Object.entries(this.getContext())\n            .filter(([key]) => \n                types.some(type => key.startsWith(`${type}.${this.modelName}.`)) || \n                types.some(type => key.startsWith(`${type}.global.`))\n            )\n            .reduce((acc, [key, value]) => {\n                types.forEach(type => {\n                    if (key.startsWith(`${type}.${this.modelName}.`)) {\n                        acc[key.replace(`${type}.${this.modelName}.`, '')] = value;\n                    } else if (key.startsWith(`${type}.global.`)) {\n                        acc[key.replace(`${type}.global.`, '')] = value;\n                    }\n                });\n                return acc;\n            }, {});\n    }\n\n    getStateVariablesByType(types) {\n        \n        if (!Array.isArray(types)) {\n            types = [types];\n        }\n        \n        return Object.entries(this.getContext())\n            .filter(([key]) => \n                types.some(type => key.startsWith(`${type}.${this.modelName}.`)) || \n                types.some(type => key.startsWith(`${type}.global.`))\n            )\n            .reduce((acc, [key, value]) => {\n                types.forEach(type => {\n                    if (key.startsWith(`${type}.${this.modelName}.`)) {\n                        acc[key] = value;\n                    } else if (key.startsWith(`${type}.global.`)) {\n                        acc[key] = value;\n                    }\n                });\n                return acc;\n            }, {});\n    }\n\n    getScopeVariables() {\n        return this.getVariablesByType(['scope']);\n    }\n    getScopeFormVariables() {\n        return this.getVariablesByType(['scope','scope_form']);\n    }\n    \n    getFormVariables() {\n        return this.getVariablesByType(['scope','scope_form', 'form']);\n    }\n\n    getTableVariables() {\n        return this.getVariablesByType(['scope', 'table']);\n    }\n\n    getFilterVariables() {\n        return this.getVariablesByType(['scope', 'filter']);\n    }\n    getStatsVariables() {\n        return this.getVariablesByType(['stats']);\n    }\n    getSortVariables() {\n        return this.getVariablesByType(['sort']);\n    }\n    updatFilterVariables(filterData) {\n        if (!ViewStateService.viewState[this.contextKey]) {\n            ViewStateService.viewState[this.contextKey] = {};\n        }\n    \n        Object.entries(filterData).forEach(([key, value]) => {\n            const filterKey = `filter.${this.modelName}.${key}`;\n    \n            if (value === \"\" || value === null || value === undefined) {\n                delete ViewStateService.viewState[this.contextKey][filterKey];\n            } else {\n                ViewStateService.viewState[this.contextKey][filterKey] = value;\n            }\n        });\n\n        // Informer le viewState de resetFilter if formData isEmpty\n        const hasActiveFilters = Object.values(filterData).some(value => value !== '' && value !== null && value !== undefined);\n        // 🧠 Définir le flag reset pour le backend Laravel\n        this.setVariable(`param.${this.modelName}.reset_filter`,  hasActiveFilters ? 0 : 1);\n    \n\n    }\n\n    updatSortVariables(sortData) {\n        if (!ViewStateService.viewState[this.contextKey]) {\n            ViewStateService.viewState[this.contextKey] = {};\n        }\n    \n        Object.entries(sortData).forEach(([key, value]) => {\n            const filterKey = `sort.${this.modelName}.${key}`;\n    \n            if (value === \"\" || value === null || value === undefined) {\n                delete ViewStateService.viewState[this.contextKey][filterKey];\n            } else {\n                ViewStateService.viewState[this.contextKey][filterKey] = value;\n            }\n        });\n    }\n    \n\n    updateContext(newState) {\n        Object.assign(this.getContext(), newState);\n    }\n\n    getContextParams() {\n        const params = new URLSearchParams();\n        const contextData = { \n            viewState: this.getContext(), \n            contextKey: this.contextKey \n        };\n        params.append('viewState', JSON.stringify(contextData));\n        return params.toString();\n    }\n\n    addContextToConfig(config) {\n        const updatedConfig = { ...config };\n        const contextParams = this.getContextParams();\n\n        Object.keys(updatedConfig).forEach((key) => {\n            if (key.toLowerCase().endsWith('url') && typeof updatedConfig[key] === 'string') {\n                const url = new URL(updatedConfig[key], window.location.origin);\n                const separator = url.search ? '&' : '?';\n                updatedConfig[key] = `${url.toString()}${separator}${contextParams}`;\n            }\n        });\n        return updatedConfig;\n    }\n\n    toString() {\n        return JSON.stringify(ViewStateService.viewState);\n    }\n}\n","export default class EventUtil {\n    /**\n     * Supprime l'événement existant avant de l'ajouter pour éviter les doublons.\n     * @param {string} eventType - Type d'événement (ex: 'click', 'input', 'submit').\n     * @param {string} selector - Sélecteur jQuery cible.\n     * @param {Function} callback - Fonction callback exécutée lors de l'événement.\n     */\n    static bindEvent(eventType, selector, callback) {\n        $(document).off(eventType, selector).on(eventType, selector, callback);\n    }\n}\n","import EventUtil from './../../utils/EventUtil';\n\nexport default class DynamicFieldVisibilityTreatment {\n    constructor(entitiesArray) {\n        // entitiesArray : liste des traitements pour chaque entité\n        this.entitiesArray = entitiesArray || [];\n    }\n\n    initialize() {\n        if (!Array.isArray(this.entitiesArray) || this.entitiesArray.length === 0) {\n            console.warn('Aucune configuration valide trouvée pour DynamicFieldVisibilityTreatment.');\n            return;\n        }\n    \n        // Parcourir toutes les configurations\n        this.entitiesArray.forEach(entity => {\n            const { targetDropdownId, dataDefinitions, fieldMappings, typeField } = entity;\n    \n            if (!dataDefinitions || !targetDropdownId || !fieldMappings || !typeField) {\n                console.warn('Configuration incomplète pour DynamicFieldVisibilityTreatment:', entity);\n                return;\n            }\n    \n            // Trouver le dropdown correspondant\n            const dropdownElement = document.getElementById(targetDropdownId);\n            if (!dropdownElement) {\n                console.warn(`Dropdown avec l'ID \"${targetDropdownId}\" introuvable.`);\n                return;\n            }\n    \n            // Initialiser la visibilité avec une valeur vide\n            this.handleVisibility(dataDefinitions, fieldMappings, typeField, \"\");\n    \n           \n            EventUtil.bindEvent('change', `#${targetDropdownId}`, (e) => {\n                e.preventDefault();\n                this.handleVisibility(dataDefinitions, fieldMappings, typeField, e.target.value);\n            });\n\n\n           // dropdownElement.dispatchEvent(new Event(\"change\"));\n           // console.log(dropdownElement);\n\n\n            // Initialiser les champs avec la valeur actuelle du dropdown (si elle existe)\n            const initialValue =  $(`#${targetDropdownId}`).select2(\"val\");\n            if (initialValue) {\n                this.handleVisibility(dataDefinitions, fieldMappings, typeField, initialValue);\n            }\n        });\n    }\n    \n    listEventListeners(element) {\n        const events = Object.keys(element)\n            .filter(key => key.startsWith(\"on\"))\n            .map(key => key.slice(2));\n    \n        console.log(`Événements supportés par`, element, `:`, events);\n    }\n    \n\n    handleVisibility(dataDefinitions, fieldMappings, typeField, selectedValue) {\n        // Réinitialiser tous les champs à \"masqué\"\n        fieldMappings.forEach(({ fieldId }) => {\n            const $fieldElement = $(`#${fieldId}`);\n            if ($fieldElement.length > 0) {\n                $fieldElement.closest('.form-group').hide();\n            }\n        });\n\n        // Trouver la définition correspondante\n        const dataDefinition = dataDefinitions.find(def => def.id == selectedValue);\n\n        if (dataDefinition) {\n            // Afficher les champs dynamiquement selon les valeurs définies\n            fieldMappings.forEach(({ type, fieldId }) => {\n                if (dataDefinition[typeField] === type) {\n                    this.toggleFieldVisibility(fieldId, true);\n                }\n            });\n        }\n    }\n\n    toggleFieldVisibility(fieldId, show) {\n        const $fieldElement = $(`#${fieldId}`);\n        if ($fieldElement.length > 0) {\n            $fieldElement.closest('.form-group').toggle(show);\n        }\n    }\n}\n","const globalWindow = window;\nexport function CodeJar(editor, highlight, opt = {}) {\n    const options = {\n        tab: '\\t',\n        indentOn: /[({\\[]$/,\n        moveToNewLine: /^[)}\\]]/,\n        spellcheck: false,\n        catchTab: true,\n        preserveIdent: true,\n        addClosing: true,\n        history: true,\n        window: globalWindow,\n        ...opt,\n    };\n    const window = options.window;\n    const document = window.document;\n    const listeners = [];\n    const history = [];\n    let at = -1;\n    let focus = false;\n    let onUpdate = () => void 0;\n    let prev; // code content prior keydown event\n    editor.setAttribute('contenteditable', 'plaintext-only');\n    editor.setAttribute('spellcheck', options.spellcheck ? 'true' : 'false');\n    editor.style.outline = 'none';\n    editor.style.overflowWrap = 'break-word';\n    editor.style.overflowY = 'auto';\n    editor.style.whiteSpace = 'pre-wrap';\n    const doHighlight = (editor, pos) => {\n        highlight(editor, pos);\n    };\n    let isLegacy = false; // true if plaintext-only is not supported\n    if (editor.contentEditable !== 'plaintext-only')\n        isLegacy = true;\n    if (isLegacy)\n        editor.setAttribute('contenteditable', 'true');\n    const debounceHighlight = debounce(() => {\n        const pos = save();\n        doHighlight(editor, pos);\n        restore(pos);\n    }, 30);\n    let recording = false;\n    const shouldRecord = (event) => {\n        return !isUndo(event) && !isRedo(event)\n            && event.key !== 'Meta'\n            && event.key !== 'Control'\n            && event.key !== 'Alt'\n            && !event.key.startsWith('Arrow');\n    };\n    const debounceRecordHistory = debounce((event) => {\n        if (shouldRecord(event)) {\n            recordHistory();\n            recording = false;\n        }\n    }, 300);\n    const on = (type, fn) => {\n        listeners.push([type, fn]);\n        editor.addEventListener(type, fn);\n    };\n    on('keydown', event => {\n        if (event.defaultPrevented)\n            return;\n        prev = toString();\n        if (options.preserveIdent)\n            handleNewLine(event);\n        else\n            legacyNewLineFix(event);\n        if (options.catchTab)\n            handleTabCharacters(event);\n        if (options.addClosing)\n            handleSelfClosingCharacters(event);\n        if (options.history) {\n            handleUndoRedo(event);\n            if (shouldRecord(event) && !recording) {\n                recordHistory();\n                recording = true;\n            }\n        }\n        if (isLegacy && !isCopy(event))\n            restore(save());\n    });\n    on('keyup', event => {\n        if (event.defaultPrevented)\n            return;\n        if (event.isComposing)\n            return;\n        if (prev !== toString())\n            debounceHighlight();\n        debounceRecordHistory(event);\n        onUpdate(toString());\n    });\n    on('focus', _event => {\n        focus = true;\n    });\n    on('blur', _event => {\n        focus = false;\n    });\n    on('paste', event => {\n        recordHistory();\n        handlePaste(event);\n        recordHistory();\n        onUpdate(toString());\n    });\n    on('cut', event => {\n        recordHistory();\n        handleCut(event);\n        recordHistory();\n        onUpdate(toString());\n    });\n    function save() {\n        const s = getSelection();\n        const pos = { start: 0, end: 0, dir: undefined };\n        let { anchorNode, anchorOffset, focusNode, focusOffset } = s;\n        if (!anchorNode || !focusNode)\n            throw 'error1';\n        // If the anchor and focus are the editor element, return either a full\n        // highlight or a start/end cursor position depending on the selection\n        if (anchorNode === editor && focusNode === editor) {\n            pos.start = (anchorOffset > 0 && editor.textContent) ? editor.textContent.length : 0;\n            pos.end = (focusOffset > 0 && editor.textContent) ? editor.textContent.length : 0;\n            pos.dir = (focusOffset >= anchorOffset) ? '->' : '<-';\n            return pos;\n        }\n        // Selection anchor and focus are expected to be text nodes,\n        // so normalize them.\n        if (anchorNode.nodeType === Node.ELEMENT_NODE) {\n            const node = document.createTextNode('');\n            anchorNode.insertBefore(node, anchorNode.childNodes[anchorOffset]);\n            anchorNode = node;\n            anchorOffset = 0;\n        }\n        if (focusNode.nodeType === Node.ELEMENT_NODE) {\n            const node = document.createTextNode('');\n            focusNode.insertBefore(node, focusNode.childNodes[focusOffset]);\n            focusNode = node;\n            focusOffset = 0;\n        }\n        visit(editor, el => {\n            if (el === anchorNode && el === focusNode) {\n                pos.start += anchorOffset;\n                pos.end += focusOffset;\n                pos.dir = anchorOffset <= focusOffset ? '->' : '<-';\n                return 'stop';\n            }\n            if (el === anchorNode) {\n                pos.start += anchorOffset;\n                if (!pos.dir) {\n                    pos.dir = '->';\n                }\n                else {\n                    return 'stop';\n                }\n            }\n            else if (el === focusNode) {\n                pos.end += focusOffset;\n                if (!pos.dir) {\n                    pos.dir = '<-';\n                }\n                else {\n                    return 'stop';\n                }\n            }\n            if (el.nodeType === Node.TEXT_NODE) {\n                if (pos.dir != '->')\n                    pos.start += el.nodeValue.length;\n                if (pos.dir != '<-')\n                    pos.end += el.nodeValue.length;\n            }\n        });\n        editor.normalize(); // collapse empty text nodes\n        return pos;\n    }\n    function restore(pos) {\n        const s = getSelection();\n        let startNode, startOffset = 0;\n        let endNode, endOffset = 0;\n        if (!pos.dir)\n            pos.dir = '->';\n        if (pos.start < 0)\n            pos.start = 0;\n        if (pos.end < 0)\n            pos.end = 0;\n        // Flip start and end if the direction reversed\n        if (pos.dir == '<-') {\n            const { start, end } = pos;\n            pos.start = end;\n            pos.end = start;\n        }\n        let current = 0;\n        visit(editor, el => {\n            if (el.nodeType !== Node.TEXT_NODE)\n                return;\n            const len = (el.nodeValue || '').length;\n            if (current + len > pos.start) {\n                if (!startNode) {\n                    startNode = el;\n                    startOffset = pos.start - current;\n                }\n                if (current + len > pos.end) {\n                    endNode = el;\n                    endOffset = pos.end - current;\n                    return 'stop';\n                }\n            }\n            current += len;\n        });\n        if (!startNode)\n            startNode = editor, startOffset = editor.childNodes.length;\n        if (!endNode)\n            endNode = editor, endOffset = editor.childNodes.length;\n        // Flip back the selection\n        if (pos.dir == '<-') {\n            [startNode, startOffset, endNode, endOffset] = [endNode, endOffset, startNode, startOffset];\n        }\n        {\n            // If nodes not editable, create a text node.\n            const startEl = uneditable(startNode);\n            if (startEl) {\n                const node = document.createTextNode('');\n                startEl.parentNode?.insertBefore(node, startEl);\n                startNode = node;\n                startOffset = 0;\n            }\n            const endEl = uneditable(endNode);\n            if (endEl) {\n                const node = document.createTextNode('');\n                endEl.parentNode?.insertBefore(node, endEl);\n                endNode = node;\n                endOffset = 0;\n            }\n        }\n        s.setBaseAndExtent(startNode, startOffset, endNode, endOffset);\n        editor.normalize(); // collapse empty text nodes\n    }\n    function uneditable(node) {\n        while (node && node !== editor) {\n            if (node.nodeType === Node.ELEMENT_NODE) {\n                const el = node;\n                if (el.getAttribute('contenteditable') == 'false') {\n                    return el;\n                }\n            }\n            node = node.parentNode;\n        }\n    }\n    function beforeCursor() {\n        const s = getSelection();\n        const r0 = s.getRangeAt(0);\n        const r = document.createRange();\n        r.selectNodeContents(editor);\n        r.setEnd(r0.startContainer, r0.startOffset);\n        return r.toString();\n    }\n    function afterCursor() {\n        const s = getSelection();\n        const r0 = s.getRangeAt(0);\n        const r = document.createRange();\n        r.selectNodeContents(editor);\n        r.setStart(r0.endContainer, r0.endOffset);\n        return r.toString();\n    }\n    function handleNewLine(event) {\n        if (event.key === 'Enter') {\n            const before = beforeCursor();\n            const after = afterCursor();\n            let [padding] = findPadding(before);\n            let newLinePadding = padding;\n            // If last symbol is \"{\" ident new line\n            if (options.indentOn.test(before)) {\n                newLinePadding += options.tab;\n            }\n            // Preserve padding\n            if (newLinePadding.length > 0) {\n                preventDefault(event);\n                event.stopPropagation();\n                insert('\\n' + newLinePadding);\n            }\n            else {\n                legacyNewLineFix(event);\n            }\n            // Place adjacent \"}\" on next line\n            if (newLinePadding !== padding && options.moveToNewLine.test(after)) {\n                const pos = save();\n                insert('\\n' + padding);\n                restore(pos);\n            }\n        }\n    }\n    function legacyNewLineFix(event) {\n        // Firefox does not support plaintext-only mode\n        // and puts <div><br></div> on Enter. Let's help.\n        if (isLegacy && event.key === 'Enter') {\n            preventDefault(event);\n            event.stopPropagation();\n            if (afterCursor() == '') {\n                insert('\\n ');\n                const pos = save();\n                pos.start = --pos.end;\n                restore(pos);\n            }\n            else {\n                insert('\\n');\n            }\n        }\n    }\n    function handleSelfClosingCharacters(event) {\n        const open = `([{'\"`;\n        const close = `)]}'\"`;\n        if (open.includes(event.key)) {\n            preventDefault(event);\n            const pos = save();\n            const wrapText = pos.start == pos.end ? '' : getSelection().toString();\n            const text = event.key + wrapText + close[open.indexOf(event.key)];\n            insert(text);\n            pos.start++;\n            pos.end++;\n            restore(pos);\n        }\n    }\n    function handleTabCharacters(event) {\n        if (event.key === 'Tab') {\n            preventDefault(event);\n            if (event.shiftKey) {\n                const before = beforeCursor();\n                let [padding, start] = findPadding(before);\n                if (padding.length > 0) {\n                    const pos = save();\n                    // Remove full length tab or just remaining padding\n                    const len = Math.min(options.tab.length, padding.length);\n                    restore({ start, end: start + len });\n                    document.execCommand('delete');\n                    pos.start -= len;\n                    pos.end -= len;\n                    restore(pos);\n                }\n            }\n            else {\n                insert(options.tab);\n            }\n        }\n    }\n    function handleUndoRedo(event) {\n        if (isUndo(event)) {\n            preventDefault(event);\n            at--;\n            const record = history[at];\n            if (record) {\n                editor.innerHTML = record.html;\n                restore(record.pos);\n            }\n            if (at < 0)\n                at = 0;\n        }\n        if (isRedo(event)) {\n            preventDefault(event);\n            at++;\n            const record = history[at];\n            if (record) {\n                editor.innerHTML = record.html;\n                restore(record.pos);\n            }\n            if (at >= history.length)\n                at--;\n        }\n    }\n    function recordHistory() {\n        if (!focus)\n            return;\n        const html = editor.innerHTML;\n        const pos = save();\n        const lastRecord = history[at];\n        if (lastRecord) {\n            if (lastRecord.html === html\n                && lastRecord.pos.start === pos.start\n                && lastRecord.pos.end === pos.end)\n                return;\n        }\n        at++;\n        history[at] = { html, pos };\n        history.splice(at + 1);\n        const maxHistory = 300;\n        if (at > maxHistory) {\n            at = maxHistory;\n            history.splice(0, 1);\n        }\n    }\n    function handlePaste(event) {\n        if (event.defaultPrevented)\n            return;\n        preventDefault(event);\n        const originalEvent = event.originalEvent ?? event;\n        const text = originalEvent.clipboardData.getData('text/plain').replace(/\\r\\n?/g, '\\n');\n        const pos = save();\n        insert(text);\n        doHighlight(editor);\n        restore({\n            start: Math.min(pos.start, pos.end) + text.length,\n            end: Math.min(pos.start, pos.end) + text.length,\n            dir: '<-',\n        });\n    }\n    function handleCut(event) {\n        const pos = save();\n        const selection = getSelection();\n        const originalEvent = event.originalEvent ?? event;\n        originalEvent.clipboardData.setData('text/plain', selection.toString());\n        document.execCommand('delete');\n        doHighlight(editor);\n        restore({\n            start: Math.min(pos.start, pos.end),\n            end: Math.min(pos.start, pos.end),\n            dir: '<-',\n        });\n        preventDefault(event);\n    }\n    function visit(editor, visitor) {\n        const queue = [];\n        if (editor.firstChild)\n            queue.push(editor.firstChild);\n        let el = queue.pop();\n        while (el) {\n            if (visitor(el) === 'stop')\n                break;\n            if (el.nextSibling)\n                queue.push(el.nextSibling);\n            if (el.firstChild)\n                queue.push(el.firstChild);\n            el = queue.pop();\n        }\n    }\n    function isCtrl(event) {\n        return event.metaKey || event.ctrlKey;\n    }\n    function isUndo(event) {\n        return isCtrl(event) && !event.shiftKey && getKeyCode(event) === 'Z';\n    }\n    function isRedo(event) {\n        return isCtrl(event) && event.shiftKey && getKeyCode(event) === 'Z';\n    }\n    function isCopy(event) {\n        return isCtrl(event) && getKeyCode(event) === 'C';\n    }\n    function getKeyCode(event) {\n        let key = event.key || event.keyCode || event.which;\n        if (!key)\n            return undefined;\n        return (typeof key === 'string' ? key : String.fromCharCode(key)).toUpperCase();\n    }\n    function insert(text) {\n        text = text\n            .replace(/&/g, '&amp;')\n            .replace(/</g, '&lt;')\n            .replace(/>/g, '&gt;')\n            .replace(/\"/g, '&quot;')\n            .replace(/'/g, '&#039;');\n        document.execCommand('insertHTML', false, text);\n    }\n    function debounce(cb, wait) {\n        let timeout = 0;\n        return (...args) => {\n            clearTimeout(timeout);\n            timeout = window.setTimeout(() => cb(...args), wait);\n        };\n    }\n    function findPadding(text) {\n        // Find beginning of previous line.\n        let i = text.length - 1;\n        while (i >= 0 && text[i] !== '\\n')\n            i--;\n        i++;\n        // Find padding of the line.\n        let j = i;\n        while (j < text.length && /[ \\t]/.test(text[j]))\n            j++;\n        return [text.substring(i, j) || '', i, j];\n    }\n    function toString() {\n        return editor.textContent || '';\n    }\n    function preventDefault(event) {\n        event.preventDefault();\n    }\n    function getSelection() {\n        if (editor.parentNode?.nodeType == Node.DOCUMENT_FRAGMENT_NODE) {\n            return editor.parentNode.getSelection();\n        }\n        return window.getSelection();\n    }\n    return {\n        updateOptions(newOptions) {\n            Object.assign(options, newOptions);\n        },\n        updateCode(code) {\n            editor.textContent = code;\n            doHighlight(editor);\n            onUpdate(code);\n        },\n        onUpdate(callback) {\n            onUpdate = callback;\n        },\n        toString,\n        save,\n        restore,\n        recordHistory,\n        destroy() {\n            for (let [type, fn] of listeners) {\n                editor.removeEventListener(type, fn);\n            }\n        },\n    };\n}\n","\n/* **********************************************\n     Begin prism-core.js\n********************************************** */\n\n/// <reference lib=\"WebWorker\"/>\n\nvar _self = (typeof window !== 'undefined')\n\t? window   // if in browser\n\t: (\n\t\t(typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope)\n\t\t\t? self // if in worker\n\t\t\t: {}   // if in node js\n\t);\n\n/**\n * Prism: Lightweight, robust, elegant syntax highlighting\n *\n * @license MIT <https://opensource.org/licenses/MIT>\n * @author Lea Verou <https://lea.verou.me>\n * @namespace\n * @public\n */\nvar Prism = (function (_self) {\n\n\t// Private helper vars\n\tvar lang = /(?:^|\\s)lang(?:uage)?-([\\w-]+)(?=\\s|$)/i;\n\tvar uniqueId = 0;\n\n\t// The grammar object for plaintext\n\tvar plainTextGrammar = {};\n\n\n\tvar _ = {\n\t\t/**\n\t\t * By default, Prism will attempt to highlight all code elements (by calling {@link Prism.highlightAll}) on the\n\t\t * current page after the page finished loading. This might be a problem if e.g. you wanted to asynchronously load\n\t\t * additional languages or plugins yourself.\n\t\t *\n\t\t * By setting this value to `true`, Prism will not automatically highlight all code elements on the page.\n\t\t *\n\t\t * You obviously have to change this value before the automatic highlighting started. To do this, you can add an\n\t\t * empty Prism object into the global scope before loading the Prism script like this:\n\t\t *\n\t\t * ```js\n\t\t * window.Prism = window.Prism || {};\n\t\t * Prism.manual = true;\n\t\t * // add a new <script> to load Prism's script\n\t\t * ```\n\t\t *\n\t\t * @default false\n\t\t * @type {boolean}\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\tmanual: _self.Prism && _self.Prism.manual,\n\t\t/**\n\t\t * By default, if Prism is in a web worker, it assumes that it is in a worker it created itself, so it uses\n\t\t * `addEventListener` to communicate with its parent instance. However, if you're using Prism manually in your\n\t\t * own worker, you don't want it to do this.\n\t\t *\n\t\t * By setting this value to `true`, Prism will not add its own listeners to the worker.\n\t\t *\n\t\t * You obviously have to change this value before Prism executes. To do this, you can add an\n\t\t * empty Prism object into the global scope before loading the Prism script like this:\n\t\t *\n\t\t * ```js\n\t\t * window.Prism = window.Prism || {};\n\t\t * Prism.disableWorkerMessageHandler = true;\n\t\t * // Load Prism's script\n\t\t * ```\n\t\t *\n\t\t * @default false\n\t\t * @type {boolean}\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\tdisableWorkerMessageHandler: _self.Prism && _self.Prism.disableWorkerMessageHandler,\n\n\t\t/**\n\t\t * A namespace for utility methods.\n\t\t *\n\t\t * All function in this namespace that are not explicitly marked as _public_ are for __internal use only__ and may\n\t\t * change or disappear at any time.\n\t\t *\n\t\t * @namespace\n\t\t * @memberof Prism\n\t\t */\n\t\tutil: {\n\t\t\tencode: function encode(tokens) {\n\t\t\t\tif (tokens instanceof Token) {\n\t\t\t\t\treturn new Token(tokens.type, encode(tokens.content), tokens.alias);\n\t\t\t\t} else if (Array.isArray(tokens)) {\n\t\t\t\t\treturn tokens.map(encode);\n\t\t\t\t} else {\n\t\t\t\t\treturn tokens.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/\\u00a0/g, ' ');\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns the name of the type of the given value.\n\t\t\t *\n\t\t\t * @param {any} o\n\t\t\t * @returns {string}\n\t\t\t * @example\n\t\t\t * type(null)      === 'Null'\n\t\t\t * type(undefined) === 'Undefined'\n\t\t\t * type(123)       === 'Number'\n\t\t\t * type('foo')     === 'String'\n\t\t\t * type(true)      === 'Boolean'\n\t\t\t * type([1, 2])    === 'Array'\n\t\t\t * type({})        === 'Object'\n\t\t\t * type(String)    === 'Function'\n\t\t\t * type(/abc+/)    === 'RegExp'\n\t\t\t */\n\t\t\ttype: function (o) {\n\t\t\t\treturn Object.prototype.toString.call(o).slice(8, -1);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns a unique number for the given object. Later calls will still return the same number.\n\t\t\t *\n\t\t\t * @param {Object} obj\n\t\t\t * @returns {number}\n\t\t\t */\n\t\t\tobjId: function (obj) {\n\t\t\t\tif (!obj['__id']) {\n\t\t\t\t\tObject.defineProperty(obj, '__id', { value: ++uniqueId });\n\t\t\t\t}\n\t\t\t\treturn obj['__id'];\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Creates a deep clone of the given object.\n\t\t\t *\n\t\t\t * The main intended use of this function is to clone language definitions.\n\t\t\t *\n\t\t\t * @param {T} o\n\t\t\t * @param {Record<number, any>} [visited]\n\t\t\t * @returns {T}\n\t\t\t * @template T\n\t\t\t */\n\t\t\tclone: function deepClone(o, visited) {\n\t\t\t\tvisited = visited || {};\n\n\t\t\t\tvar clone; var id;\n\t\t\t\tswitch (_.util.type(o)) {\n\t\t\t\t\tcase 'Object':\n\t\t\t\t\t\tid = _.util.objId(o);\n\t\t\t\t\t\tif (visited[id]) {\n\t\t\t\t\t\t\treturn visited[id];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclone = /** @type {Record<string, any>} */ ({});\n\t\t\t\t\t\tvisited[id] = clone;\n\n\t\t\t\t\t\tfor (var key in o) {\n\t\t\t\t\t\t\tif (o.hasOwnProperty(key)) {\n\t\t\t\t\t\t\t\tclone[key] = deepClone(o[key], visited);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn /** @type {any} */ (clone);\n\n\t\t\t\t\tcase 'Array':\n\t\t\t\t\t\tid = _.util.objId(o);\n\t\t\t\t\t\tif (visited[id]) {\n\t\t\t\t\t\t\treturn visited[id];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclone = [];\n\t\t\t\t\t\tvisited[id] = clone;\n\n\t\t\t\t\t\t(/** @type {Array} */(/** @type {any} */(o))).forEach(function (v, i) {\n\t\t\t\t\t\t\tclone[i] = deepClone(v, visited);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn /** @type {any} */ (clone);\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn o;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns the Prism language of the given element set by a `language-xxxx` or `lang-xxxx` class.\n\t\t\t *\n\t\t\t * If no language is set for the element or the element is `null` or `undefined`, `none` will be returned.\n\t\t\t *\n\t\t\t * @param {Element} element\n\t\t\t * @returns {string}\n\t\t\t */\n\t\t\tgetLanguage: function (element) {\n\t\t\t\twhile (element) {\n\t\t\t\t\tvar m = lang.exec(element.className);\n\t\t\t\t\tif (m) {\n\t\t\t\t\t\treturn m[1].toLowerCase();\n\t\t\t\t\t}\n\t\t\t\t\telement = element.parentElement;\n\t\t\t\t}\n\t\t\t\treturn 'none';\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Sets the Prism `language-xxxx` class of the given element.\n\t\t\t *\n\t\t\t * @param {Element} element\n\t\t\t * @param {string} language\n\t\t\t * @returns {void}\n\t\t\t */\n\t\t\tsetLanguage: function (element, language) {\n\t\t\t\t// remove all `language-xxxx` classes\n\t\t\t\t// (this might leave behind a leading space)\n\t\t\t\telement.className = element.className.replace(RegExp(lang, 'gi'), '');\n\n\t\t\t\t// add the new `language-xxxx` class\n\t\t\t\t// (using `classList` will automatically clean up spaces for us)\n\t\t\t\telement.classList.add('language-' + language);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns the script element that is currently executing.\n\t\t\t *\n\t\t\t * This does __not__ work for line script element.\n\t\t\t *\n\t\t\t * @returns {HTMLScriptElement | null}\n\t\t\t */\n\t\t\tcurrentScript: function () {\n\t\t\t\tif (typeof document === 'undefined') {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t\tif ('currentScript' in document && 1 < 2 /* hack to trip TS' flow analysis */) {\n\t\t\t\t\treturn /** @type {any} */ (document.currentScript);\n\t\t\t\t}\n\n\t\t\t\t// IE11 workaround\n\t\t\t\t// we'll get the src of the current script by parsing IE11's error stack trace\n\t\t\t\t// this will not work for inline scripts\n\n\t\t\t\ttry {\n\t\t\t\t\tthrow new Error();\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// Get file src url from stack. Specifically works with the format of stack traces in IE.\n\t\t\t\t\t// A stack will look like this:\n\t\t\t\t\t//\n\t\t\t\t\t// Error\n\t\t\t\t\t//    at _.util.currentScript (http://localhost/components/prism-core.js:119:5)\n\t\t\t\t\t//    at Global code (http://localhost/components/prism-core.js:606:1)\n\n\t\t\t\t\tvar src = (/at [^(\\r\\n]*\\((.*):[^:]+:[^:]+\\)$/i.exec(err.stack) || [])[1];\n\t\t\t\t\tif (src) {\n\t\t\t\t\t\tvar scripts = document.getElementsByTagName('script');\n\t\t\t\t\t\tfor (var i in scripts) {\n\t\t\t\t\t\t\tif (scripts[i].src == src) {\n\t\t\t\t\t\t\t\treturn scripts[i];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Returns whether a given class is active for `element`.\n\t\t\t *\n\t\t\t * The class can be activated if `element` or one of its ancestors has the given class and it can be deactivated\n\t\t\t * if `element` or one of its ancestors has the negated version of the given class. The _negated version_ of the\n\t\t\t * given class is just the given class with a `no-` prefix.\n\t\t\t *\n\t\t\t * Whether the class is active is determined by the closest ancestor of `element` (where `element` itself is\n\t\t\t * closest ancestor) that has the given class or the negated version of it. If neither `element` nor any of its\n\t\t\t * ancestors have the given class or the negated version of it, then the default activation will be returned.\n\t\t\t *\n\t\t\t * In the paradoxical situation where the closest ancestor contains __both__ the given class and the negated\n\t\t\t * version of it, the class is considered active.\n\t\t\t *\n\t\t\t * @param {Element} element\n\t\t\t * @param {string} className\n\t\t\t * @param {boolean} [defaultActivation=false]\n\t\t\t * @returns {boolean}\n\t\t\t */\n\t\t\tisActive: function (element, className, defaultActivation) {\n\t\t\t\tvar no = 'no-' + className;\n\n\t\t\t\twhile (element) {\n\t\t\t\t\tvar classList = element.classList;\n\t\t\t\t\tif (classList.contains(className)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tif (classList.contains(no)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\telement = element.parentElement;\n\t\t\t\t}\n\t\t\t\treturn !!defaultActivation;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * This namespace contains all currently loaded languages and the some helper functions to create and modify languages.\n\t\t *\n\t\t * @namespace\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\tlanguages: {\n\t\t\t/**\n\t\t\t * The grammar for plain, unformatted text.\n\t\t\t */\n\t\t\tplain: plainTextGrammar,\n\t\t\tplaintext: plainTextGrammar,\n\t\t\ttext: plainTextGrammar,\n\t\t\ttxt: plainTextGrammar,\n\n\t\t\t/**\n\t\t\t * Creates a deep copy of the language with the given id and appends the given tokens.\n\t\t\t *\n\t\t\t * If a token in `redef` also appears in the copied language, then the existing token in the copied language\n\t\t\t * will be overwritten at its original position.\n\t\t\t *\n\t\t\t * ## Best practices\n\t\t\t *\n\t\t\t * Since the position of overwriting tokens (token in `redef` that overwrite tokens in the copied language)\n\t\t\t * doesn't matter, they can technically be in any order. However, this can be confusing to others that trying to\n\t\t\t * understand the language definition because, normally, the order of tokens matters in Prism grammars.\n\t\t\t *\n\t\t\t * Therefore, it is encouraged to order overwriting tokens according to the positions of the overwritten tokens.\n\t\t\t * Furthermore, all non-overwriting tokens should be placed after the overwriting ones.\n\t\t\t *\n\t\t\t * @param {string} id The id of the language to extend. This has to be a key in `Prism.languages`.\n\t\t\t * @param {Grammar} redef The new tokens to append.\n\t\t\t * @returns {Grammar} The new language created.\n\t\t\t * @public\n\t\t\t * @example\n\t\t\t * Prism.languages['css-with-colors'] = Prism.languages.extend('css', {\n\t\t\t *     // Prism.languages.css already has a 'comment' token, so this token will overwrite CSS' 'comment' token\n\t\t\t *     // at its original position\n\t\t\t *     'comment': { ... },\n\t\t\t *     // CSS doesn't have a 'color' token, so this token will be appended\n\t\t\t *     'color': /\\b(?:red|green|blue)\\b/\n\t\t\t * });\n\t\t\t */\n\t\t\textend: function (id, redef) {\n\t\t\t\tvar lang = _.util.clone(_.languages[id]);\n\n\t\t\t\tfor (var key in redef) {\n\t\t\t\t\tlang[key] = redef[key];\n\t\t\t\t}\n\n\t\t\t\treturn lang;\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Inserts tokens _before_ another token in a language definition or any other grammar.\n\t\t\t *\n\t\t\t * ## Usage\n\t\t\t *\n\t\t\t * This helper method makes it easy to modify existing languages. For example, the CSS language definition\n\t\t\t * not only defines CSS highlighting for CSS documents, but also needs to define highlighting for CSS embedded\n\t\t\t * in HTML through `<style>` elements. To do this, it needs to modify `Prism.languages.markup` and add the\n\t\t\t * appropriate tokens. However, `Prism.languages.markup` is a regular JavaScript object literal, so if you do\n\t\t\t * this:\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * Prism.languages.markup.style = {\n\t\t\t *     // token\n\t\t\t * };\n\t\t\t * ```\n\t\t\t *\n\t\t\t * then the `style` token will be added (and processed) at the end. `insertBefore` allows you to insert tokens\n\t\t\t * before existing tokens. For the CSS example above, you would use it like this:\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * Prism.languages.insertBefore('markup', 'cdata', {\n\t\t\t *     'style': {\n\t\t\t *         // token\n\t\t\t *     }\n\t\t\t * });\n\t\t\t * ```\n\t\t\t *\n\t\t\t * ## Special cases\n\t\t\t *\n\t\t\t * If the grammars of `inside` and `insert` have tokens with the same name, the tokens in `inside`'s grammar\n\t\t\t * will be ignored.\n\t\t\t *\n\t\t\t * This behavior can be used to insert tokens after `before`:\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * Prism.languages.insertBefore('markup', 'comment', {\n\t\t\t *     'comment': Prism.languages.markup.comment,\n\t\t\t *     // tokens after 'comment'\n\t\t\t * });\n\t\t\t * ```\n\t\t\t *\n\t\t\t * ## Limitations\n\t\t\t *\n\t\t\t * The main problem `insertBefore` has to solve is iteration order. Since ES2015, the iteration order for object\n\t\t\t * properties is guaranteed to be the insertion order (except for integer keys) but some browsers behave\n\t\t\t * differently when keys are deleted and re-inserted. So `insertBefore` can't be implemented by temporarily\n\t\t\t * deleting properties which is necessary to insert at arbitrary positions.\n\t\t\t *\n\t\t\t * To solve this problem, `insertBefore` doesn't actually insert the given tokens into the target object.\n\t\t\t * Instead, it will create a new object and replace all references to the target object with the new one. This\n\t\t\t * can be done without temporarily deleting properties, so the iteration order is well-defined.\n\t\t\t *\n\t\t\t * However, only references that can be reached from `Prism.languages` or `insert` will be replaced. I.e. if\n\t\t\t * you hold the target object in a variable, then the value of the variable will not change.\n\t\t\t *\n\t\t\t * ```js\n\t\t\t * var oldMarkup = Prism.languages.markup;\n\t\t\t * var newMarkup = Prism.languages.insertBefore('markup', 'comment', { ... });\n\t\t\t *\n\t\t\t * assert(oldMarkup !== Prism.languages.markup);\n\t\t\t * assert(newMarkup === Prism.languages.markup);\n\t\t\t * ```\n\t\t\t *\n\t\t\t * @param {string} inside The property of `root` (e.g. a language id in `Prism.languages`) that contains the\n\t\t\t * object to be modified.\n\t\t\t * @param {string} before The key to insert before.\n\t\t\t * @param {Grammar} insert An object containing the key-value pairs to be inserted.\n\t\t\t * @param {Object<string, any>} [root] The object containing `inside`, i.e. the object that contains the\n\t\t\t * object to be modified.\n\t\t\t *\n\t\t\t * Defaults to `Prism.languages`.\n\t\t\t * @returns {Grammar} The new grammar object.\n\t\t\t * @public\n\t\t\t */\n\t\t\tinsertBefore: function (inside, before, insert, root) {\n\t\t\t\troot = root || /** @type {any} */ (_.languages);\n\t\t\t\tvar grammar = root[inside];\n\t\t\t\t/** @type {Grammar} */\n\t\t\t\tvar ret = {};\n\n\t\t\t\tfor (var token in grammar) {\n\t\t\t\t\tif (grammar.hasOwnProperty(token)) {\n\n\t\t\t\t\t\tif (token == before) {\n\t\t\t\t\t\t\tfor (var newToken in insert) {\n\t\t\t\t\t\t\t\tif (insert.hasOwnProperty(newToken)) {\n\t\t\t\t\t\t\t\t\tret[newToken] = insert[newToken];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Do not insert token which also occur in insert. See #1525\n\t\t\t\t\t\tif (!insert.hasOwnProperty(token)) {\n\t\t\t\t\t\t\tret[token] = grammar[token];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar old = root[inside];\n\t\t\t\troot[inside] = ret;\n\n\t\t\t\t// Update references in other language definitions\n\t\t\t\t_.languages.DFS(_.languages, function (key, value) {\n\t\t\t\t\tif (value === old && key != inside) {\n\t\t\t\t\t\tthis[key] = ret;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn ret;\n\t\t\t},\n\n\t\t\t// Traverse a language definition with Depth First Search\n\t\t\tDFS: function DFS(o, callback, type, visited) {\n\t\t\t\tvisited = visited || {};\n\n\t\t\t\tvar objId = _.util.objId;\n\n\t\t\t\tfor (var i in o) {\n\t\t\t\t\tif (o.hasOwnProperty(i)) {\n\t\t\t\t\t\tcallback.call(o, i, o[i], type || i);\n\n\t\t\t\t\t\tvar property = o[i];\n\t\t\t\t\t\tvar propertyType = _.util.type(property);\n\n\t\t\t\t\t\tif (propertyType === 'Object' && !visited[objId(property)]) {\n\t\t\t\t\t\t\tvisited[objId(property)] = true;\n\t\t\t\t\t\t\tDFS(property, callback, null, visited);\n\t\t\t\t\t\t} else if (propertyType === 'Array' && !visited[objId(property)]) {\n\t\t\t\t\t\t\tvisited[objId(property)] = true;\n\t\t\t\t\t\t\tDFS(property, callback, i, visited);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tplugins: {},\n\n\t\t/**\n\t\t * This is the most high-level function in Prism’s API.\n\t\t * It fetches all the elements that have a `.language-xxxx` class and then calls {@link Prism.highlightElement} on\n\t\t * each one of them.\n\t\t *\n\t\t * This is equivalent to `Prism.highlightAllUnder(document, async, callback)`.\n\t\t *\n\t\t * @param {boolean} [async=false] Same as in {@link Prism.highlightAllUnder}.\n\t\t * @param {HighlightCallback} [callback] Same as in {@link Prism.highlightAllUnder}.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thighlightAll: function (async, callback) {\n\t\t\t_.highlightAllUnder(document, async, callback);\n\t\t},\n\n\t\t/**\n\t\t * Fetches all the descendants of `container` that have a `.language-xxxx` class and then calls\n\t\t * {@link Prism.highlightElement} on each one of them.\n\t\t *\n\t\t * The following hooks will be run:\n\t\t * 1. `before-highlightall`\n\t\t * 2. `before-all-elements-highlight`\n\t\t * 3. All hooks of {@link Prism.highlightElement} for each element.\n\t\t *\n\t\t * @param {ParentNode} container The root element, whose descendants that have a `.language-xxxx` class will be highlighted.\n\t\t * @param {boolean} [async=false] Whether each element is to be highlighted asynchronously using Web Workers.\n\t\t * @param {HighlightCallback} [callback] An optional callback to be invoked on each element after its highlighting is done.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thighlightAllUnder: function (container, async, callback) {\n\t\t\tvar env = {\n\t\t\t\tcallback: callback,\n\t\t\t\tcontainer: container,\n\t\t\t\tselector: 'code[class*=\"language-\"], [class*=\"language-\"] code, code[class*=\"lang-\"], [class*=\"lang-\"] code'\n\t\t\t};\n\n\t\t\t_.hooks.run('before-highlightall', env);\n\n\t\t\tenv.elements = Array.prototype.slice.apply(env.container.querySelectorAll(env.selector));\n\n\t\t\t_.hooks.run('before-all-elements-highlight', env);\n\n\t\t\tfor (var i = 0, element; (element = env.elements[i++]);) {\n\t\t\t\t_.highlightElement(element, async === true, env.callback);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Highlights the code inside a single element.\n\t\t *\n\t\t * The following hooks will be run:\n\t\t * 1. `before-sanity-check`\n\t\t * 2. `before-highlight`\n\t\t * 3. All hooks of {@link Prism.highlight}. These hooks will be run by an asynchronous worker if `async` is `true`.\n\t\t * 4. `before-insert`\n\t\t * 5. `after-highlight`\n\t\t * 6. `complete`\n\t\t *\n\t\t * Some the above hooks will be skipped if the element doesn't contain any text or there is no grammar loaded for\n\t\t * the element's language.\n\t\t *\n\t\t * @param {Element} element The element containing the code.\n\t\t * It must have a class of `language-xxxx` to be processed, where `xxxx` is a valid language identifier.\n\t\t * @param {boolean} [async=false] Whether the element is to be highlighted asynchronously using Web Workers\n\t\t * to improve performance and avoid blocking the UI when highlighting very large chunks of code. This option is\n\t\t * [disabled by default](https://prismjs.com/faq.html#why-is-asynchronous-highlighting-disabled-by-default).\n\t\t *\n\t\t * Note: All language definitions required to highlight the code must be included in the main `prism.js` file for\n\t\t * asynchronous highlighting to work. You can build your own bundle on the\n\t\t * [Download page](https://prismjs.com/download.html).\n\t\t * @param {HighlightCallback} [callback] An optional callback to be invoked after the highlighting is done.\n\t\t * Mostly useful when `async` is `true`, since in that case, the highlighting is done asynchronously.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thighlightElement: function (element, async, callback) {\n\t\t\t// Find language\n\t\t\tvar language = _.util.getLanguage(element);\n\t\t\tvar grammar = _.languages[language];\n\n\t\t\t// Set language on the element, if not present\n\t\t\t_.util.setLanguage(element, language);\n\n\t\t\t// Set language on the parent, for styling\n\t\t\tvar parent = element.parentElement;\n\t\t\tif (parent && parent.nodeName.toLowerCase() === 'pre') {\n\t\t\t\t_.util.setLanguage(parent, language);\n\t\t\t}\n\n\t\t\tvar code = element.textContent;\n\n\t\t\tvar env = {\n\t\t\t\telement: element,\n\t\t\t\tlanguage: language,\n\t\t\t\tgrammar: grammar,\n\t\t\t\tcode: code\n\t\t\t};\n\n\t\t\tfunction insertHighlightedCode(highlightedCode) {\n\t\t\t\tenv.highlightedCode = highlightedCode;\n\n\t\t\t\t_.hooks.run('before-insert', env);\n\n\t\t\t\tenv.element.innerHTML = env.highlightedCode;\n\n\t\t\t\t_.hooks.run('after-highlight', env);\n\t\t\t\t_.hooks.run('complete', env);\n\t\t\t\tcallback && callback.call(env.element);\n\t\t\t}\n\n\t\t\t_.hooks.run('before-sanity-check', env);\n\n\t\t\t// plugins may change/add the parent/element\n\t\t\tparent = env.element.parentElement;\n\t\t\tif (parent && parent.nodeName.toLowerCase() === 'pre' && !parent.hasAttribute('tabindex')) {\n\t\t\t\tparent.setAttribute('tabindex', '0');\n\t\t\t}\n\n\t\t\tif (!env.code) {\n\t\t\t\t_.hooks.run('complete', env);\n\t\t\t\tcallback && callback.call(env.element);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_.hooks.run('before-highlight', env);\n\n\t\t\tif (!env.grammar) {\n\t\t\t\tinsertHighlightedCode(_.util.encode(env.code));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (async && _self.Worker) {\n\t\t\t\tvar worker = new Worker(_.filename);\n\n\t\t\t\tworker.onmessage = function (evt) {\n\t\t\t\t\tinsertHighlightedCode(evt.data);\n\t\t\t\t};\n\n\t\t\t\tworker.postMessage(JSON.stringify({\n\t\t\t\t\tlanguage: env.language,\n\t\t\t\t\tcode: env.code,\n\t\t\t\t\timmediateClose: true\n\t\t\t\t}));\n\t\t\t} else {\n\t\t\t\tinsertHighlightedCode(_.highlight(env.code, env.grammar, env.language));\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Low-level function, only use if you know what you’re doing. It accepts a string of text as input\n\t\t * and the language definitions to use, and returns a string with the HTML produced.\n\t\t *\n\t\t * The following hooks will be run:\n\t\t * 1. `before-tokenize`\n\t\t * 2. `after-tokenize`\n\t\t * 3. `wrap`: On each {@link Token}.\n\t\t *\n\t\t * @param {string} text A string with the code to be highlighted.\n\t\t * @param {Grammar} grammar An object containing the tokens to use.\n\t\t *\n\t\t * Usually a language definition like `Prism.languages.markup`.\n\t\t * @param {string} language The name of the language definition passed to `grammar`.\n\t\t * @returns {string} The highlighted HTML.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t * @example\n\t\t * Prism.highlight('var foo = true;', Prism.languages.javascript, 'javascript');\n\t\t */\n\t\thighlight: function (text, grammar, language) {\n\t\t\tvar env = {\n\t\t\t\tcode: text,\n\t\t\t\tgrammar: grammar,\n\t\t\t\tlanguage: language\n\t\t\t};\n\t\t\t_.hooks.run('before-tokenize', env);\n\t\t\tif (!env.grammar) {\n\t\t\t\tthrow new Error('The language \"' + env.language + '\" has no grammar.');\n\t\t\t}\n\t\t\tenv.tokens = _.tokenize(env.code, env.grammar);\n\t\t\t_.hooks.run('after-tokenize', env);\n\t\t\treturn Token.stringify(_.util.encode(env.tokens), env.language);\n\t\t},\n\n\t\t/**\n\t\t * This is the heart of Prism, and the most low-level function you can use. It accepts a string of text as input\n\t\t * and the language definitions to use, and returns an array with the tokenized code.\n\t\t *\n\t\t * When the language definition includes nested tokens, the function is called recursively on each of these tokens.\n\t\t *\n\t\t * This method could be useful in other contexts as well, as a very crude parser.\n\t\t *\n\t\t * @param {string} text A string with the code to be highlighted.\n\t\t * @param {Grammar} grammar An object containing the tokens to use.\n\t\t *\n\t\t * Usually a language definition like `Prism.languages.markup`.\n\t\t * @returns {TokenStream} An array of strings and tokens, a token stream.\n\t\t * @memberof Prism\n\t\t * @public\n\t\t * @example\n\t\t * let code = `var foo = 0;`;\n\t\t * let tokens = Prism.tokenize(code, Prism.languages.javascript);\n\t\t * tokens.forEach(token => {\n\t\t *     if (token instanceof Prism.Token && token.type === 'number') {\n\t\t *         console.log(`Found numeric literal: ${token.content}`);\n\t\t *     }\n\t\t * });\n\t\t */\n\t\ttokenize: function (text, grammar) {\n\t\t\tvar rest = grammar.rest;\n\t\t\tif (rest) {\n\t\t\t\tfor (var token in rest) {\n\t\t\t\t\tgrammar[token] = rest[token];\n\t\t\t\t}\n\n\t\t\t\tdelete grammar.rest;\n\t\t\t}\n\n\t\t\tvar tokenList = new LinkedList();\n\t\t\taddAfter(tokenList, tokenList.head, text);\n\n\t\t\tmatchGrammar(text, tokenList, grammar, tokenList.head, 0);\n\n\t\t\treturn toArray(tokenList);\n\t\t},\n\n\t\t/**\n\t\t * @namespace\n\t\t * @memberof Prism\n\t\t * @public\n\t\t */\n\t\thooks: {\n\t\t\tall: {},\n\n\t\t\t/**\n\t\t\t * Adds the given callback to the list of callbacks for the given hook.\n\t\t\t *\n\t\t\t * The callback will be invoked when the hook it is registered for is run.\n\t\t\t * Hooks are usually directly run by a highlight function but you can also run hooks yourself.\n\t\t\t *\n\t\t\t * One callback function can be registered to multiple hooks and the same hook multiple times.\n\t\t\t *\n\t\t\t * @param {string} name The name of the hook.\n\t\t\t * @param {HookCallback} callback The callback function which is given environment variables.\n\t\t\t * @public\n\t\t\t */\n\t\t\tadd: function (name, callback) {\n\t\t\t\tvar hooks = _.hooks.all;\n\n\t\t\t\thooks[name] = hooks[name] || [];\n\n\t\t\t\thooks[name].push(callback);\n\t\t\t},\n\n\t\t\t/**\n\t\t\t * Runs a hook invoking all registered callbacks with the given environment variables.\n\t\t\t *\n\t\t\t * Callbacks will be invoked synchronously and in the order in which they were registered.\n\t\t\t *\n\t\t\t * @param {string} name The name of the hook.\n\t\t\t * @param {Object<string, any>} env The environment variables of the hook passed to all callbacks registered.\n\t\t\t * @public\n\t\t\t */\n\t\t\trun: function (name, env) {\n\t\t\t\tvar callbacks = _.hooks.all[name];\n\n\t\t\t\tif (!callbacks || !callbacks.length) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tfor (var i = 0, callback; (callback = callbacks[i++]);) {\n\t\t\t\t\tcallback(env);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tToken: Token\n\t};\n\t_self.Prism = _;\n\n\n\t// Typescript note:\n\t// The following can be used to import the Token type in JSDoc:\n\t//\n\t//   @typedef {InstanceType<import(\"./prism-core\")[\"Token\"]>} Token\n\n\t/**\n\t * Creates a new token.\n\t *\n\t * @param {string} type See {@link Token#type type}\n\t * @param {string | TokenStream} content See {@link Token#content content}\n\t * @param {string|string[]} [alias] The alias(es) of the token.\n\t * @param {string} [matchedStr=\"\"] A copy of the full string this token was created from.\n\t * @class\n\t * @global\n\t * @public\n\t */\n\tfunction Token(type, content, alias, matchedStr) {\n\t\t/**\n\t\t * The type of the token.\n\t\t *\n\t\t * This is usually the key of a pattern in a {@link Grammar}.\n\t\t *\n\t\t * @type {string}\n\t\t * @see GrammarToken\n\t\t * @public\n\t\t */\n\t\tthis.type = type;\n\t\t/**\n\t\t * The strings or tokens contained by this token.\n\t\t *\n\t\t * This will be a token stream if the pattern matched also defined an `inside` grammar.\n\t\t *\n\t\t * @type {string | TokenStream}\n\t\t * @public\n\t\t */\n\t\tthis.content = content;\n\t\t/**\n\t\t * The alias(es) of the token.\n\t\t *\n\t\t * @type {string|string[]}\n\t\t * @see GrammarToken\n\t\t * @public\n\t\t */\n\t\tthis.alias = alias;\n\t\t// Copy of the full string this token was created from\n\t\tthis.length = (matchedStr || '').length | 0;\n\t}\n\n\t/**\n\t * A token stream is an array of strings and {@link Token Token} objects.\n\t *\n\t * Token streams have to fulfill a few properties that are assumed by most functions (mostly internal ones) that process\n\t * them.\n\t *\n\t * 1. No adjacent strings.\n\t * 2. No empty strings.\n\t *\n\t *    The only exception here is the token stream that only contains the empty string and nothing else.\n\t *\n\t * @typedef {Array<string | Token>} TokenStream\n\t * @global\n\t * @public\n\t */\n\n\t/**\n\t * Converts the given token or token stream to an HTML representation.\n\t *\n\t * The following hooks will be run:\n\t * 1. `wrap`: On each {@link Token}.\n\t *\n\t * @param {string | Token | TokenStream} o The token or token stream to be converted.\n\t * @param {string} language The name of current language.\n\t * @returns {string} The HTML representation of the token or token stream.\n\t * @memberof Token\n\t * @static\n\t */\n\tToken.stringify = function stringify(o, language) {\n\t\tif (typeof o == 'string') {\n\t\t\treturn o;\n\t\t}\n\t\tif (Array.isArray(o)) {\n\t\t\tvar s = '';\n\t\t\to.forEach(function (e) {\n\t\t\t\ts += stringify(e, language);\n\t\t\t});\n\t\t\treturn s;\n\t\t}\n\n\t\tvar env = {\n\t\t\ttype: o.type,\n\t\t\tcontent: stringify(o.content, language),\n\t\t\ttag: 'span',\n\t\t\tclasses: ['token', o.type],\n\t\t\tattributes: {},\n\t\t\tlanguage: language\n\t\t};\n\n\t\tvar aliases = o.alias;\n\t\tif (aliases) {\n\t\t\tif (Array.isArray(aliases)) {\n\t\t\t\tArray.prototype.push.apply(env.classes, aliases);\n\t\t\t} else {\n\t\t\t\tenv.classes.push(aliases);\n\t\t\t}\n\t\t}\n\n\t\t_.hooks.run('wrap', env);\n\n\t\tvar attributes = '';\n\t\tfor (var name in env.attributes) {\n\t\t\tattributes += ' ' + name + '=\"' + (env.attributes[name] || '').replace(/\"/g, '&quot;') + '\"';\n\t\t}\n\n\t\treturn '<' + env.tag + ' class=\"' + env.classes.join(' ') + '\"' + attributes + '>' + env.content + '</' + env.tag + '>';\n\t};\n\n\t/**\n\t * @param {RegExp} pattern\n\t * @param {number} pos\n\t * @param {string} text\n\t * @param {boolean} lookbehind\n\t * @returns {RegExpExecArray | null}\n\t */\n\tfunction matchPattern(pattern, pos, text, lookbehind) {\n\t\tpattern.lastIndex = pos;\n\t\tvar match = pattern.exec(text);\n\t\tif (match && lookbehind && match[1]) {\n\t\t\t// change the match to remove the text matched by the Prism lookbehind group\n\t\t\tvar lookbehindLength = match[1].length;\n\t\t\tmatch.index += lookbehindLength;\n\t\t\tmatch[0] = match[0].slice(lookbehindLength);\n\t\t}\n\t\treturn match;\n\t}\n\n\t/**\n\t * @param {string} text\n\t * @param {LinkedList<string | Token>} tokenList\n\t * @param {any} grammar\n\t * @param {LinkedListNode<string | Token>} startNode\n\t * @param {number} startPos\n\t * @param {RematchOptions} [rematch]\n\t * @returns {void}\n\t * @private\n\t *\n\t * @typedef RematchOptions\n\t * @property {string} cause\n\t * @property {number} reach\n\t */\n\tfunction matchGrammar(text, tokenList, grammar, startNode, startPos, rematch) {\n\t\tfor (var token in grammar) {\n\t\t\tif (!grammar.hasOwnProperty(token) || !grammar[token]) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar patterns = grammar[token];\n\t\t\tpatterns = Array.isArray(patterns) ? patterns : [patterns];\n\n\t\t\tfor (var j = 0; j < patterns.length; ++j) {\n\t\t\t\tif (rematch && rematch.cause == token + ',' + j) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar patternObj = patterns[j];\n\t\t\t\tvar inside = patternObj.inside;\n\t\t\t\tvar lookbehind = !!patternObj.lookbehind;\n\t\t\t\tvar greedy = !!patternObj.greedy;\n\t\t\t\tvar alias = patternObj.alias;\n\n\t\t\t\tif (greedy && !patternObj.pattern.global) {\n\t\t\t\t\t// Without the global flag, lastIndex won't work\n\t\t\t\t\tvar flags = patternObj.pattern.toString().match(/[imsuy]*$/)[0];\n\t\t\t\t\tpatternObj.pattern = RegExp(patternObj.pattern.source, flags + 'g');\n\t\t\t\t}\n\n\t\t\t\t/** @type {RegExp} */\n\t\t\t\tvar pattern = patternObj.pattern || patternObj;\n\n\t\t\t\tfor ( // iterate the token list and keep track of the current token/string position\n\t\t\t\t\tvar currentNode = startNode.next, pos = startPos;\n\t\t\t\t\tcurrentNode !== tokenList.tail;\n\t\t\t\t\tpos += currentNode.value.length, currentNode = currentNode.next\n\t\t\t\t) {\n\n\t\t\t\t\tif (rematch && pos >= rematch.reach) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar str = currentNode.value;\n\n\t\t\t\t\tif (tokenList.length > text.length) {\n\t\t\t\t\t\t// Something went terribly wrong, ABORT, ABORT!\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (str instanceof Token) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar removeCount = 1; // this is the to parameter of removeBetween\n\t\t\t\t\tvar match;\n\n\t\t\t\t\tif (greedy) {\n\t\t\t\t\t\tmatch = matchPattern(pattern, pos, text, lookbehind);\n\t\t\t\t\t\tif (!match || match.index >= text.length) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar from = match.index;\n\t\t\t\t\t\tvar to = match.index + match[0].length;\n\t\t\t\t\t\tvar p = pos;\n\n\t\t\t\t\t\t// find the node that contains the match\n\t\t\t\t\t\tp += currentNode.value.length;\n\t\t\t\t\t\twhile (from >= p) {\n\t\t\t\t\t\t\tcurrentNode = currentNode.next;\n\t\t\t\t\t\t\tp += currentNode.value.length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// adjust pos (and p)\n\t\t\t\t\t\tp -= currentNode.value.length;\n\t\t\t\t\t\tpos = p;\n\n\t\t\t\t\t\t// the current node is a Token, then the match starts inside another Token, which is invalid\n\t\t\t\t\t\tif (currentNode.value instanceof Token) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// find the last node which is affected by this match\n\t\t\t\t\t\tfor (\n\t\t\t\t\t\t\tvar k = currentNode;\n\t\t\t\t\t\t\tk !== tokenList.tail && (p < to || typeof k.value === 'string');\n\t\t\t\t\t\t\tk = k.next\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tremoveCount++;\n\t\t\t\t\t\t\tp += k.value.length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tremoveCount--;\n\n\t\t\t\t\t\t// replace with the new match\n\t\t\t\t\t\tstr = text.slice(pos, p);\n\t\t\t\t\t\tmatch.index -= pos;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmatch = matchPattern(pattern, 0, str, lookbehind);\n\t\t\t\t\t\tif (!match) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// eslint-disable-next-line no-redeclare\n\t\t\t\t\tvar from = match.index;\n\t\t\t\t\tvar matchStr = match[0];\n\t\t\t\t\tvar before = str.slice(0, from);\n\t\t\t\t\tvar after = str.slice(from + matchStr.length);\n\n\t\t\t\t\tvar reach = pos + str.length;\n\t\t\t\t\tif (rematch && reach > rematch.reach) {\n\t\t\t\t\t\trematch.reach = reach;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar removeFrom = currentNode.prev;\n\n\t\t\t\t\tif (before) {\n\t\t\t\t\t\tremoveFrom = addAfter(tokenList, removeFrom, before);\n\t\t\t\t\t\tpos += before.length;\n\t\t\t\t\t}\n\n\t\t\t\t\tremoveRange(tokenList, removeFrom, removeCount);\n\n\t\t\t\t\tvar wrapped = new Token(token, inside ? _.tokenize(matchStr, inside) : matchStr, alias, matchStr);\n\t\t\t\t\tcurrentNode = addAfter(tokenList, removeFrom, wrapped);\n\n\t\t\t\t\tif (after) {\n\t\t\t\t\t\taddAfter(tokenList, currentNode, after);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (removeCount > 1) {\n\t\t\t\t\t\t// at least one Token object was removed, so we have to do some rematching\n\t\t\t\t\t\t// this can only happen if the current pattern is greedy\n\n\t\t\t\t\t\t/** @type {RematchOptions} */\n\t\t\t\t\t\tvar nestedRematch = {\n\t\t\t\t\t\t\tcause: token + ',' + j,\n\t\t\t\t\t\t\treach: reach\n\t\t\t\t\t\t};\n\t\t\t\t\t\tmatchGrammar(text, tokenList, grammar, currentNode.prev, pos, nestedRematch);\n\n\t\t\t\t\t\t// the reach might have been extended because of the rematching\n\t\t\t\t\t\tif (rematch && nestedRematch.reach > rematch.reach) {\n\t\t\t\t\t\t\trematch.reach = nestedRematch.reach;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @typedef LinkedListNode\n\t * @property {T} value\n\t * @property {LinkedListNode<T> | null} prev The previous node.\n\t * @property {LinkedListNode<T> | null} next The next node.\n\t * @template T\n\t * @private\n\t */\n\n\t/**\n\t * @template T\n\t * @private\n\t */\n\tfunction LinkedList() {\n\t\t/** @type {LinkedListNode<T>} */\n\t\tvar head = { value: null, prev: null, next: null };\n\t\t/** @type {LinkedListNode<T>} */\n\t\tvar tail = { value: null, prev: head, next: null };\n\t\thead.next = tail;\n\n\t\t/** @type {LinkedListNode<T>} */\n\t\tthis.head = head;\n\t\t/** @type {LinkedListNode<T>} */\n\t\tthis.tail = tail;\n\t\tthis.length = 0;\n\t}\n\n\t/**\n\t * Adds a new node with the given value to the list.\n\t *\n\t * @param {LinkedList<T>} list\n\t * @param {LinkedListNode<T>} node\n\t * @param {T} value\n\t * @returns {LinkedListNode<T>} The added node.\n\t * @template T\n\t */\n\tfunction addAfter(list, node, value) {\n\t\t// assumes that node != list.tail && values.length >= 0\n\t\tvar next = node.next;\n\n\t\tvar newNode = { value: value, prev: node, next: next };\n\t\tnode.next = newNode;\n\t\tnext.prev = newNode;\n\t\tlist.length++;\n\n\t\treturn newNode;\n\t}\n\t/**\n\t * Removes `count` nodes after the given node. The given node will not be removed.\n\t *\n\t * @param {LinkedList<T>} list\n\t * @param {LinkedListNode<T>} node\n\t * @param {number} count\n\t * @template T\n\t */\n\tfunction removeRange(list, node, count) {\n\t\tvar next = node.next;\n\t\tfor (var i = 0; i < count && next !== list.tail; i++) {\n\t\t\tnext = next.next;\n\t\t}\n\t\tnode.next = next;\n\t\tnext.prev = node;\n\t\tlist.length -= i;\n\t}\n\t/**\n\t * @param {LinkedList<T>} list\n\t * @returns {T[]}\n\t * @template T\n\t */\n\tfunction toArray(list) {\n\t\tvar array = [];\n\t\tvar node = list.head.next;\n\t\twhile (node !== list.tail) {\n\t\t\tarray.push(node.value);\n\t\t\tnode = node.next;\n\t\t}\n\t\treturn array;\n\t}\n\n\n\tif (!_self.document) {\n\t\tif (!_self.addEventListener) {\n\t\t\t// in Node.js\n\t\t\treturn _;\n\t\t}\n\n\t\tif (!_.disableWorkerMessageHandler) {\n\t\t\t// In worker\n\t\t\t_self.addEventListener('message', function (evt) {\n\t\t\t\tvar message = JSON.parse(evt.data);\n\t\t\t\tvar lang = message.language;\n\t\t\t\tvar code = message.code;\n\t\t\t\tvar immediateClose = message.immediateClose;\n\n\t\t\t\t_self.postMessage(_.highlight(code, _.languages[lang], lang));\n\t\t\t\tif (immediateClose) {\n\t\t\t\t\t_self.close();\n\t\t\t\t}\n\t\t\t}, false);\n\t\t}\n\n\t\treturn _;\n\t}\n\n\t// Get current script and highlight\n\tvar script = _.util.currentScript();\n\n\tif (script) {\n\t\t_.filename = script.src;\n\n\t\tif (script.hasAttribute('data-manual')) {\n\t\t\t_.manual = true;\n\t\t}\n\t}\n\n\tfunction highlightAutomaticallyCallback() {\n\t\tif (!_.manual) {\n\t\t\t_.highlightAll();\n\t\t}\n\t}\n\n\tif (!_.manual) {\n\t\t// If the document state is \"loading\", then we'll use DOMContentLoaded.\n\t\t// If the document state is \"interactive\" and the prism.js script is deferred, then we'll also use the\n\t\t// DOMContentLoaded event because there might be some plugins or languages which have also been deferred and they\n\t\t// might take longer one animation frame to execute which can create a race condition where only some plugins have\n\t\t// been loaded when Prism.highlightAll() is executed, depending on how fast resources are loaded.\n\t\t// See https://github.com/PrismJS/prism/issues/2102\n\t\tvar readyState = document.readyState;\n\t\tif (readyState === 'loading' || readyState === 'interactive' && script && script.defer) {\n\t\t\tdocument.addEventListener('DOMContentLoaded', highlightAutomaticallyCallback);\n\t\t} else {\n\t\t\tif (window.requestAnimationFrame) {\n\t\t\t\twindow.requestAnimationFrame(highlightAutomaticallyCallback);\n\t\t\t} else {\n\t\t\t\twindow.setTimeout(highlightAutomaticallyCallback, 16);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn _;\n\n}(_self));\n\nif (typeof module !== 'undefined' && module.exports) {\n\tmodule.exports = Prism;\n}\n\n// hack for components to work correctly in node.js\nif (typeof global !== 'undefined') {\n\tglobal.Prism = Prism;\n}\n\n// some additional documentation/types\n\n/**\n * The expansion of a simple `RegExp` literal to support additional properties.\n *\n * @typedef GrammarToken\n * @property {RegExp} pattern The regular expression of the token.\n * @property {boolean} [lookbehind=false] If `true`, then the first capturing group of `pattern` will (effectively)\n * behave as a lookbehind group meaning that the captured text will not be part of the matched text of the new token.\n * @property {boolean} [greedy=false] Whether the token is greedy.\n * @property {string|string[]} [alias] An optional alias or list of aliases.\n * @property {Grammar} [inside] The nested grammar of this token.\n *\n * The `inside` grammar will be used to tokenize the text value of each token of this kind.\n *\n * This can be used to make nested and even recursive language definitions.\n *\n * Note: This can cause infinite recursion. Be careful when you embed different languages or even the same language into\n * each another.\n * @global\n * @public\n */\n\n/**\n * @typedef Grammar\n * @type {Object<string, RegExp | GrammarToken | Array<RegExp | GrammarToken>>}\n * @property {Grammar} [rest] An optional grammar object that will be appended to this grammar.\n * @global\n * @public\n */\n\n/**\n * A function which will invoked after an element was successfully highlighted.\n *\n * @callback HighlightCallback\n * @param {Element} element The element successfully highlighted.\n * @returns {void}\n * @global\n * @public\n */\n\n/**\n * @callback HookCallback\n * @param {Object<string, any>} env The environment variables of the hook.\n * @returns {void}\n * @global\n * @public\n */\n\n\n/* **********************************************\n     Begin prism-markup.js\n********************************************** */\n\nPrism.languages.markup = {\n\t'comment': {\n\t\tpattern: /<!--(?:(?!<!--)[\\s\\S])*?-->/,\n\t\tgreedy: true\n\t},\n\t'prolog': {\n\t\tpattern: /<\\?[\\s\\S]+?\\?>/,\n\t\tgreedy: true\n\t},\n\t'doctype': {\n\t\t// https://www.w3.org/TR/xml/#NT-doctypedecl\n\t\tpattern: /<!DOCTYPE(?:[^>\"'[\\]]|\"[^\"]*\"|'[^']*')+(?:\\[(?:[^<\"'\\]]|\"[^\"]*\"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\\]\\s*)?>/i,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'internal-subset': {\n\t\t\t\tpattern: /(^[^\\[]*\\[)[\\s\\S]+(?=\\]>$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: null // see below\n\t\t\t},\n\t\t\t'string': {\n\t\t\t\tpattern: /\"[^\"]*\"|'[^']*'/,\n\t\t\t\tgreedy: true\n\t\t\t},\n\t\t\t'punctuation': /^<!|>$|[[\\]]/,\n\t\t\t'doctype-tag': /^DOCTYPE/i,\n\t\t\t'name': /[^\\s<>'\"]+/\n\t\t}\n\t},\n\t'cdata': {\n\t\tpattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n\t\tgreedy: true\n\t},\n\t'tag': {\n\t\tpattern: /<\\/?(?!\\d)[^\\s>\\/=$<%]+(?:\\s(?:\\s*[^\\s>\\/=]+(?:\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))|(?=[\\s/>])))+)?\\s*\\/?>/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'tag': {\n\t\t\t\tpattern: /^<\\/?[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /^<\\/?/,\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t},\n\t\t\t'special-attr': [],\n\t\t\t'attr-value': {\n\t\t\t\tpattern: /=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+)/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /^=/,\n\t\t\t\t\t\t\talias: 'attr-equals'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /^(\\s*)[\"']|[\"']$/,\n\t\t\t\t\t\t\tlookbehind: true\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t},\n\t\t\t'punctuation': /\\/?>/,\n\t\t\t'attr-name': {\n\t\t\t\tpattern: /[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t},\n\t'entity': [\n\t\t{\n\t\t\tpattern: /&[\\da-z]{1,8};/i,\n\t\t\talias: 'named-entity'\n\t\t},\n\t\t/&#x?[\\da-f]{1,8};/i\n\t]\n};\n\nPrism.languages.markup['tag'].inside['attr-value'].inside['entity'] =\n\tPrism.languages.markup['entity'];\nPrism.languages.markup['doctype'].inside['internal-subset'].inside = Prism.languages.markup;\n\n// Plugin to make entity title show the real entity, idea by Roman Komarov\nPrism.hooks.add('wrap', function (env) {\n\n\tif (env.type === 'entity') {\n\t\tenv.attributes['title'] = env.content.replace(/&amp;/, '&');\n\t}\n});\n\nObject.defineProperty(Prism.languages.markup.tag, 'addInlined', {\n\t/**\n\t * Adds an inlined language to markup.\n\t *\n\t * An example of an inlined language is CSS with `<style>` tags.\n\t *\n\t * @param {string} tagName The name of the tag that contains the inlined language. This name will be treated as\n\t * case insensitive.\n\t * @param {string} lang The language key.\n\t * @example\n\t * addInlined('style', 'css');\n\t */\n\tvalue: function addInlined(tagName, lang) {\n\t\tvar includedCdataInside = {};\n\t\tincludedCdataInside['language-' + lang] = {\n\t\t\tpattern: /(^<!\\[CDATA\\[)[\\s\\S]+?(?=\\]\\]>$)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\t\tincludedCdataInside['cdata'] = /^<!\\[CDATA\\[|\\]\\]>$/i;\n\n\t\tvar inside = {\n\t\t\t'included-cdata': {\n\t\t\t\tpattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n\t\t\t\tinside: includedCdataInside\n\t\t\t}\n\t\t};\n\t\tinside['language-' + lang] = {\n\t\t\tpattern: /[\\s\\S]+/,\n\t\t\tinside: Prism.languages[lang]\n\t\t};\n\n\t\tvar def = {};\n\t\tdef[tagName] = {\n\t\t\tpattern: RegExp(/(<__[^>]*>)(?:<!\\[CDATA\\[(?:[^\\]]|\\](?!\\]>))*\\]\\]>|(?!<!\\[CDATA\\[)[\\s\\S])*?(?=<\\/__>)/.source.replace(/__/g, function () { return tagName; }), 'i'),\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: inside\n\t\t};\n\n\t\tPrism.languages.insertBefore('markup', 'cdata', def);\n\t}\n});\nObject.defineProperty(Prism.languages.markup.tag, 'addAttribute', {\n\t/**\n\t * Adds an pattern to highlight languages embedded in HTML attributes.\n\t *\n\t * An example of an inlined language is CSS with `style` attributes.\n\t *\n\t * @param {string} attrName The name of the tag that contains the inlined language. This name will be treated as\n\t * case insensitive.\n\t * @param {string} lang The language key.\n\t * @example\n\t * addAttribute('style', 'css');\n\t */\n\tvalue: function (attrName, lang) {\n\t\tPrism.languages.markup.tag.inside['special-attr'].push({\n\t\t\tpattern: RegExp(\n\t\t\t\t/(^|[\"'\\s])/.source + '(?:' + attrName + ')' + /\\s*=\\s*(?:\"[^\"]*\"|'[^']*'|[^\\s'\">=]+(?=[\\s>]))/.source,\n\t\t\t\t'i'\n\t\t\t),\n\t\t\tlookbehind: true,\n\t\t\tinside: {\n\t\t\t\t'attr-name': /^[^\\s=]+/,\n\t\t\t\t'attr-value': {\n\t\t\t\t\tpattern: /=[\\s\\S]+/,\n\t\t\t\t\tinside: {\n\t\t\t\t\t\t'value': {\n\t\t\t\t\t\t\tpattern: /(^=\\s*([\"']|(?![\"'])))\\S[\\s\\S]*(?=\\2$)/,\n\t\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\t\talias: [lang, 'language-' + lang],\n\t\t\t\t\t\t\tinside: Prism.languages[lang]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'punctuation': [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tpattern: /^=/,\n\t\t\t\t\t\t\t\talias: 'attr-equals'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t/\"|'/\n\t\t\t\t\t\t]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n});\n\nPrism.languages.html = Prism.languages.markup;\nPrism.languages.mathml = Prism.languages.markup;\nPrism.languages.svg = Prism.languages.markup;\n\nPrism.languages.xml = Prism.languages.extend('markup', {});\nPrism.languages.ssml = Prism.languages.xml;\nPrism.languages.atom = Prism.languages.xml;\nPrism.languages.rss = Prism.languages.xml;\n\n\n/* **********************************************\n     Begin prism-css.js\n********************************************** */\n\n(function (Prism) {\n\n\tvar string = /(?:\"(?:\\\\(?:\\r\\n|[\\s\\S])|[^\"\\\\\\r\\n])*\"|'(?:\\\\(?:\\r\\n|[\\s\\S])|[^'\\\\\\r\\n])*')/;\n\n\tPrism.languages.css = {\n\t\t'comment': /\\/\\*[\\s\\S]*?\\*\\//,\n\t\t'atrule': {\n\t\t\tpattern: RegExp('@[\\\\w-](?:' + /[^;{\\s\"']|\\s+(?!\\s)/.source + '|' + string.source + ')*?' + /(?:;|(?=\\s*\\{))/.source),\n\t\t\tinside: {\n\t\t\t\t'rule': /^@[\\w-]+/,\n\t\t\t\t'selector-function-argument': {\n\t\t\t\t\tpattern: /(\\bselector\\s*\\(\\s*(?![\\s)]))(?:[^()\\s]|\\s+(?![\\s)])|\\((?:[^()]|\\([^()]*\\))*\\))+(?=\\s*\\))/,\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\talias: 'selector'\n\t\t\t\t},\n\t\t\t\t'keyword': {\n\t\t\t\t\tpattern: /(^|[^\\w-])(?:and|not|only|or)(?![\\w-])/,\n\t\t\t\t\tlookbehind: true\n\t\t\t\t}\n\t\t\t\t// See rest below\n\t\t\t}\n\t\t},\n\t\t'url': {\n\t\t\t// https://drafts.csswg.org/css-values-3/#urls\n\t\t\tpattern: RegExp('\\\\burl\\\\((?:' + string.source + '|' + /(?:[^\\\\\\r\\n()\"']|\\\\[\\s\\S])*/.source + ')\\\\)', 'i'),\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'function': /^url/i,\n\t\t\t\t'punctuation': /^\\(|\\)$/,\n\t\t\t\t'string': {\n\t\t\t\t\tpattern: RegExp('^' + string.source + '$'),\n\t\t\t\t\talias: 'url'\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t'selector': {\n\t\t\tpattern: RegExp('(^|[{}\\\\s])[^{}\\\\s](?:[^{};\"\\'\\\\s]|\\\\s+(?![\\\\s{])|' + string.source + ')*(?=\\\\s*\\\\{)'),\n\t\t\tlookbehind: true\n\t\t},\n\t\t'string': {\n\t\t\tpattern: string,\n\t\t\tgreedy: true\n\t\t},\n\t\t'property': {\n\t\t\tpattern: /(^|[^-\\w\\xA0-\\uFFFF])(?!\\s)[-_a-z\\xA0-\\uFFFF](?:(?!\\s)[-\\w\\xA0-\\uFFFF])*(?=\\s*:)/i,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'important': /!important\\b/i,\n\t\t'function': {\n\t\t\tpattern: /(^|[^-a-z0-9])[-a-z0-9]+(?=\\()/i,\n\t\t\tlookbehind: true\n\t\t},\n\t\t'punctuation': /[(){};:,]/\n\t};\n\n\tPrism.languages.css['atrule'].inside.rest = Prism.languages.css;\n\n\tvar markup = Prism.languages.markup;\n\tif (markup) {\n\t\tmarkup.tag.addInlined('style', 'css');\n\t\tmarkup.tag.addAttribute('style', 'css');\n\t}\n\n}(Prism));\n\n\n/* **********************************************\n     Begin prism-clike.js\n********************************************** */\n\nPrism.languages.clike = {\n\t'comment': [\n\t\t{\n\t\t\tpattern: /(^|[^\\\\])\\/\\*[\\s\\S]*?(?:\\*\\/|$)/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^\\\\:])\\/\\/.*/,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true\n\t\t}\n\t],\n\t'string': {\n\t\tpattern: /([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/,\n\t\tgreedy: true\n\t},\n\t'class-name': {\n\t\tpattern: /(\\b(?:class|extends|implements|instanceof|interface|new|trait)\\s+|\\bcatch\\s+\\()[\\w.\\\\]+/i,\n\t\tlookbehind: true,\n\t\tinside: {\n\t\t\t'punctuation': /[.\\\\]/\n\t\t}\n\t},\n\t'keyword': /\\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\\b/,\n\t'boolean': /\\b(?:false|true)\\b/,\n\t'function': /\\b\\w+(?=\\()/,\n\t'number': /\\b0x[\\da-f]+\\b|(?:\\b\\d+(?:\\.\\d*)?|\\B\\.\\d+)(?:e[+-]?\\d+)?/i,\n\t'operator': /[<>]=?|[!=]=?=?|--?|\\+\\+?|&&?|\\|\\|?|[?*/~^%]/,\n\t'punctuation': /[{}[\\];(),.:]/\n};\n\n\n/* **********************************************\n     Begin prism-javascript.js\n********************************************** */\n\nPrism.languages.javascript = Prism.languages.extend('clike', {\n\t'class-name': [\n\t\tPrism.languages.clike['class-name'],\n\t\t{\n\t\t\tpattern: /(^|[^$\\w\\xA0-\\uFFFF])(?!\\s)[_$A-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\.(?:constructor|prototype))/,\n\t\t\tlookbehind: true\n\t\t}\n\t],\n\t'keyword': [\n\t\t{\n\t\t\tpattern: /((?:^|\\})\\s*)catch\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^.]|\\.\\.\\.\\s*)\\b(?:as|assert(?=\\s*\\{)|async(?=\\s*(?:function\\b|\\(|[$\\w\\xA0-\\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\\s*(?:\\{|$))|for|from(?=\\s*(?:['\"]|$))|function|(?:get|set)(?=\\s*(?:[#\\[$\\w\\xA0-\\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\\b/,\n\t\t\tlookbehind: true\n\t\t},\n\t],\n\t// Allow for all non-ASCII characters (See http://stackoverflow.com/a/2008444)\n\t'function': /#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*(?:\\.\\s*(?:apply|bind|call)\\s*)?\\()/,\n\t'number': {\n\t\tpattern: RegExp(\n\t\t\t/(^|[^\\w$])/.source +\n\t\t\t'(?:' +\n\t\t\t(\n\t\t\t\t// constant\n\t\t\t\t/NaN|Infinity/.source +\n\t\t\t\t'|' +\n\t\t\t\t// binary integer\n\t\t\t\t/0[bB][01]+(?:_[01]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// octal integer\n\t\t\t\t/0[oO][0-7]+(?:_[0-7]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// hexadecimal integer\n\t\t\t\t/0[xX][\\dA-Fa-f]+(?:_[\\dA-Fa-f]+)*n?/.source +\n\t\t\t\t'|' +\n\t\t\t\t// decimal bigint\n\t\t\t\t/\\d+(?:_\\d+)*n/.source +\n\t\t\t\t'|' +\n\t\t\t\t// decimal number (integer or float) but no bigint\n\t\t\t\t/(?:\\d+(?:_\\d+)*(?:\\.(?:\\d+(?:_\\d+)*)?)?|\\.\\d+(?:_\\d+)*)(?:[Ee][+-]?\\d+(?:_\\d+)*)?/.source\n\t\t\t) +\n\t\t\t')' +\n\t\t\t/(?![\\w$])/.source\n\t\t),\n\t\tlookbehind: true\n\t},\n\t'operator': /--|\\+\\+|\\*\\*=?|=>|&&=?|\\|\\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\\.{3}|\\?\\?=?|\\?\\.?|[~:]/\n});\n\nPrism.languages.javascript['class-name'][0].pattern = /(\\b(?:class|extends|implements|instanceof|interface|new)\\s+)[\\w.\\\\]+/;\n\nPrism.languages.insertBefore('javascript', 'keyword', {\n\t'regex': {\n\t\tpattern: RegExp(\n\t\t\t// lookbehind\n\t\t\t// eslint-disable-next-line regexp/no-dupe-characters-character-class\n\t\t\t/((?:^|[^$\\w\\xA0-\\uFFFF.\"'\\])\\s]|\\b(?:return|yield))\\s*)/.source +\n\t\t\t// Regex pattern:\n\t\t\t// There are 2 regex patterns here. The RegExp set notation proposal added support for nested character\n\t\t\t// classes if the `v` flag is present. Unfortunately, nested CCs are both context-free and incompatible\n\t\t\t// with the only syntax, so we have to define 2 different regex patterns.\n\t\t\t/\\//.source +\n\t\t\t'(?:' +\n\t\t\t/(?:\\[(?:[^\\]\\\\\\r\\n]|\\\\.)*\\]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[dgimyus]{0,7}/.source +\n\t\t\t'|' +\n\t\t\t// `v` flag syntax. This supports 3 levels of nested character classes.\n\t\t\t/(?:\\[(?:[^[\\]\\\\\\r\\n]|\\\\.|\\[(?:[^[\\]\\\\\\r\\n]|\\\\.|\\[(?:[^[\\]\\\\\\r\\n]|\\\\.)*\\])*\\])*\\]|\\\\.|[^/\\\\\\[\\r\\n])+\\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source +\n\t\t\t')' +\n\t\t\t// lookahead\n\t\t\t/(?=(?:\\s|\\/\\*(?:[^*]|\\*(?!\\/))*\\*\\/)*(?:$|[\\r\\n,.;:})\\]]|\\/\\/))/.source\n\t\t),\n\t\tlookbehind: true,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'regex-source': {\n\t\t\t\tpattern: /^(\\/)[\\s\\S]+(?=\\/[a-z]*$)/,\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'language-regex',\n\t\t\t\tinside: Prism.languages.regex\n\t\t\t},\n\t\t\t'regex-delimiter': /^\\/|\\/$/,\n\t\t\t'regex-flags': /^[a-z]+$/,\n\t\t}\n\t},\n\t// This must be declared before keyword because we use \"function\" inside the look-forward\n\t'function-variable': {\n\t\tpattern: /#?(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*[=:]\\s*(?:async\\s*)?(?:\\bfunction\\b|(?:\\((?:[^()]|\\([^()]*\\))*\\)|(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*)\\s*=>))/,\n\t\talias: 'function'\n\t},\n\t'parameter': [\n\t\t{\n\t\t\tpattern: /(function(?:\\s+(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*)?\\s*\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\))/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^$\\w\\xA0-\\uFFFF])(?!\\s)[_$a-z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*=>)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /(\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\)\\s*=>)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t},\n\t\t{\n\t\t\tpattern: /((?:\\b|\\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\\w\\xA0-\\uFFFF]))(?:(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*\\s*)\\(\\s*|\\]\\s*\\(\\s*)(?!\\s)(?:[^()\\s]|\\s+(?![\\s)])|\\([^()]*\\))+(?=\\s*\\)\\s*\\{)/,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript\n\t\t}\n\t],\n\t'constant': /\\b[A-Z](?:[A-Z_]|\\dx?)*\\b/\n});\n\nPrism.languages.insertBefore('javascript', 'string', {\n\t'hashbang': {\n\t\tpattern: /^#!.*/,\n\t\tgreedy: true,\n\t\talias: 'comment'\n\t},\n\t'template-string': {\n\t\tpattern: /`(?:\\\\[\\s\\S]|\\$\\{(?:[^{}]|\\{(?:[^{}]|\\{[^}]*\\})*\\})+\\}|(?!\\$\\{)[^\\\\`])*`/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'template-punctuation': {\n\t\t\t\tpattern: /^`|`$/,\n\t\t\t\talias: 'string'\n\t\t\t},\n\t\t\t'interpolation': {\n\t\t\t\tpattern: /((?:^|[^\\\\])(?:\\\\{2})*)\\$\\{(?:[^{}]|\\{(?:[^{}]|\\{[^}]*\\})*\\})+\\}/,\n\t\t\t\tlookbehind: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'interpolation-punctuation': {\n\t\t\t\t\t\tpattern: /^\\$\\{|\\}$/,\n\t\t\t\t\t\talias: 'punctuation'\n\t\t\t\t\t},\n\t\t\t\t\trest: Prism.languages.javascript\n\t\t\t\t}\n\t\t\t},\n\t\t\t'string': /[\\s\\S]+/\n\t\t}\n\t},\n\t'string-property': {\n\t\tpattern: /((?:^|[,{])[ \\t]*)([\"'])(?:\\\\(?:\\r\\n|[\\s\\S])|(?!\\2)[^\\\\\\r\\n])*\\2(?=\\s*:)/m,\n\t\tlookbehind: true,\n\t\tgreedy: true,\n\t\talias: 'property'\n\t}\n});\n\nPrism.languages.insertBefore('javascript', 'operator', {\n\t'literal-property': {\n\t\tpattern: /((?:^|[,{])[ \\t]*)(?!\\s)[_$a-zA-Z\\xA0-\\uFFFF](?:(?!\\s)[$\\w\\xA0-\\uFFFF])*(?=\\s*:)/m,\n\t\tlookbehind: true,\n\t\talias: 'property'\n\t},\n});\n\nif (Prism.languages.markup) {\n\tPrism.languages.markup.tag.addInlined('script', 'javascript');\n\n\t// add attribute support for all DOM events.\n\t// https://developer.mozilla.org/en-US/docs/Web/Events#Standard_events\n\tPrism.languages.markup.tag.addAttribute(\n\t\t/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,\n\t\t'javascript'\n\t);\n}\n\nPrism.languages.js = Prism.languages.javascript;\n\n\n/* **********************************************\n     Begin prism-file-highlight.js\n********************************************** */\n\n(function () {\n\n\tif (typeof Prism === 'undefined' || typeof document === 'undefined') {\n\t\treturn;\n\t}\n\n\t// https://developer.mozilla.org/en-US/docs/Web/API/Element/matches#Polyfill\n\tif (!Element.prototype.matches) {\n\t\tElement.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n\t}\n\n\tvar LOADING_MESSAGE = 'Loading…';\n\tvar FAILURE_MESSAGE = function (status, message) {\n\t\treturn '✖ Error ' + status + ' while fetching file: ' + message;\n\t};\n\tvar FAILURE_EMPTY_MESSAGE = '✖ Error: File does not exist or is empty';\n\n\tvar EXTENSIONS = {\n\t\t'js': 'javascript',\n\t\t'py': 'python',\n\t\t'rb': 'ruby',\n\t\t'ps1': 'powershell',\n\t\t'psm1': 'powershell',\n\t\t'sh': 'bash',\n\t\t'bat': 'batch',\n\t\t'h': 'c',\n\t\t'tex': 'latex'\n\t};\n\n\tvar STATUS_ATTR = 'data-src-status';\n\tvar STATUS_LOADING = 'loading';\n\tvar STATUS_LOADED = 'loaded';\n\tvar STATUS_FAILED = 'failed';\n\n\tvar SELECTOR = 'pre[data-src]:not([' + STATUS_ATTR + '=\"' + STATUS_LOADED + '\"])'\n\t\t+ ':not([' + STATUS_ATTR + '=\"' + STATUS_LOADING + '\"])';\n\n\t/**\n\t * Loads the given file.\n\t *\n\t * @param {string} src The URL or path of the source file to load.\n\t * @param {(result: string) => void} success\n\t * @param {(reason: string) => void} error\n\t */\n\tfunction loadFile(src, success, error) {\n\t\tvar xhr = new XMLHttpRequest();\n\t\txhr.open('GET', src, true);\n\t\txhr.onreadystatechange = function () {\n\t\t\tif (xhr.readyState == 4) {\n\t\t\t\tif (xhr.status < 400 && xhr.responseText) {\n\t\t\t\t\tsuccess(xhr.responseText);\n\t\t\t\t} else {\n\t\t\t\t\tif (xhr.status >= 400) {\n\t\t\t\t\t\terror(FAILURE_MESSAGE(xhr.status, xhr.statusText));\n\t\t\t\t\t} else {\n\t\t\t\t\t\terror(FAILURE_EMPTY_MESSAGE);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\txhr.send(null);\n\t}\n\n\t/**\n\t * Parses the given range.\n\t *\n\t * This returns a range with inclusive ends.\n\t *\n\t * @param {string | null | undefined} range\n\t * @returns {[number, number | undefined] | undefined}\n\t */\n\tfunction parseRange(range) {\n\t\tvar m = /^\\s*(\\d+)\\s*(?:(,)\\s*(?:(\\d+)\\s*)?)?$/.exec(range || '');\n\t\tif (m) {\n\t\t\tvar start = Number(m[1]);\n\t\t\tvar comma = m[2];\n\t\t\tvar end = m[3];\n\n\t\t\tif (!comma) {\n\t\t\t\treturn [start, start];\n\t\t\t}\n\t\t\tif (!end) {\n\t\t\t\treturn [start, undefined];\n\t\t\t}\n\t\t\treturn [start, Number(end)];\n\t\t}\n\t\treturn undefined;\n\t}\n\n\tPrism.hooks.add('before-highlightall', function (env) {\n\t\tenv.selector += ', ' + SELECTOR;\n\t});\n\n\tPrism.hooks.add('before-sanity-check', function (env) {\n\t\tvar pre = /** @type {HTMLPreElement} */ (env.element);\n\t\tif (pre.matches(SELECTOR)) {\n\t\t\tenv.code = ''; // fast-path the whole thing and go to complete\n\n\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_LOADING); // mark as loading\n\n\t\t\t// add code element with loading message\n\t\t\tvar code = pre.appendChild(document.createElement('CODE'));\n\t\t\tcode.textContent = LOADING_MESSAGE;\n\n\t\t\tvar src = pre.getAttribute('data-src');\n\n\t\t\tvar language = env.language;\n\t\t\tif (language === 'none') {\n\t\t\t\t// the language might be 'none' because there is no language set;\n\t\t\t\t// in this case, we want to use the extension as the language\n\t\t\t\tvar extension = (/\\.(\\w+)$/.exec(src) || [, 'none'])[1];\n\t\t\t\tlanguage = EXTENSIONS[extension] || extension;\n\t\t\t}\n\n\t\t\t// set language classes\n\t\t\tPrism.util.setLanguage(code, language);\n\t\t\tPrism.util.setLanguage(pre, language);\n\n\t\t\t// preload the language\n\t\t\tvar autoloader = Prism.plugins.autoloader;\n\t\t\tif (autoloader) {\n\t\t\t\tautoloader.loadLanguages(language);\n\t\t\t}\n\n\t\t\t// load file\n\t\t\tloadFile(\n\t\t\t\tsrc,\n\t\t\t\tfunction (text) {\n\t\t\t\t\t// mark as loaded\n\t\t\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_LOADED);\n\n\t\t\t\t\t// handle data-range\n\t\t\t\t\tvar range = parseRange(pre.getAttribute('data-range'));\n\t\t\t\t\tif (range) {\n\t\t\t\t\t\tvar lines = text.split(/\\r\\n?|\\n/g);\n\n\t\t\t\t\t\t// the range is one-based and inclusive on both ends\n\t\t\t\t\t\tvar start = range[0];\n\t\t\t\t\t\tvar end = range[1] == null ? lines.length : range[1];\n\n\t\t\t\t\t\tif (start < 0) { start += lines.length; }\n\t\t\t\t\t\tstart = Math.max(0, Math.min(start - 1, lines.length));\n\t\t\t\t\t\tif (end < 0) { end += lines.length; }\n\t\t\t\t\t\tend = Math.max(0, Math.min(end, lines.length));\n\n\t\t\t\t\t\ttext = lines.slice(start, end).join('\\n');\n\n\t\t\t\t\t\t// add data-start for line numbers\n\t\t\t\t\t\tif (!pre.hasAttribute('data-start')) {\n\t\t\t\t\t\t\tpre.setAttribute('data-start', String(start + 1));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// highlight code\n\t\t\t\t\tcode.textContent = text;\n\t\t\t\t\tPrism.highlightElement(code);\n\t\t\t\t},\n\t\t\t\tfunction (error) {\n\t\t\t\t\t// mark as failed\n\t\t\t\t\tpre.setAttribute(STATUS_ATTR, STATUS_FAILED);\n\n\t\t\t\t\tcode.textContent = error;\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t});\n\n\tPrism.plugins.fileHighlight = {\n\t\t/**\n\t\t * Executes the File Highlight plugin for all matching `pre` elements under the given container.\n\t\t *\n\t\t * Note: Elements which are already loaded or currently loading will not be touched by this method.\n\t\t *\n\t\t * @param {ParentNode} [container=document]\n\t\t */\n\t\thighlight: function highlight(container) {\n\t\t\tvar elements = (container || document).querySelectorAll(SELECTOR);\n\n\t\t\tfor (var i = 0, element; (element = elements[i++]);) {\n\t\t\t\tPrism.highlightElement(element);\n\t\t\t}\n\t\t}\n\t};\n\n\tvar logged = false;\n\t/** @deprecated Use `Prism.plugins.fileHighlight.highlight` instead. */\n\tPrism.fileHighlight = function () {\n\t\tif (!logged) {\n\t\t\tconsole.warn('Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead.');\n\t\t\tlogged = true;\n\t\t}\n\t\tPrism.plugins.fileHighlight.highlight.apply(this, arguments);\n\t};\n\n}());\n","// https://www.json.org/json-en.html\nPrism.languages.json = {\n\t'property': {\n\t\tpattern: /(^|[^\\\\])\"(?:\\\\.|[^\\\\\"\\r\\n])*\"(?=\\s*:)/,\n\t\tlookbehind: true,\n\t\tgreedy: true\n\t},\n\t'string': {\n\t\tpattern: /(^|[^\\\\])\"(?:\\\\.|[^\\\\\"\\r\\n])*\"(?!\\s*:)/,\n\t\tlookbehind: true,\n\t\tgreedy: true\n\t},\n\t'comment': {\n\t\tpattern: /\\/\\/.*|\\/\\*[\\s\\S]*?(?:\\*\\/|$)/,\n\t\tgreedy: true\n\t},\n\t'number': /-?\\b\\d+(?:\\.\\d+)?(?:e[+-]?\\d+)?\\b/i,\n\t'punctuation': /[{}[\\],]/,\n\t'operator': /:/,\n\t'boolean': /\\b(?:false|true)\\b/,\n\t'null': {\n\t\tpattern: /\\bnull\\b/,\n\t\talias: 'keyword'\n\t}\n};\n\nPrism.languages.webmanifest = Prism.languages.json;\n","export class SessionStateService {\n    /**\n     * Constructeur pour initialiser SessionStateService.\n     * @param {Object} initialState - L'état initial de la session.\n     * @param {String} prefix - Préfixe pour les paramètres.\n     */\n    constructor(sessionState = {}, prefix = 'session_') {\n        this.prefix = prefix; // Préfixe pour les paramètres de session.\n        this.init();\n    }\n\n    init(){\n        this.sessionState = window.sessionState ; \n    }\n\n    /**\n     * Récupère toutes les variables de session.\n     * @returns {Object} - Les variables de session.\n     */\n    getVariables() {\n        return this.sessionState.session_data;\n    }\n\n    getValue(key){\n       return  this.sessionState.session_data[key];\n    }\n\n    /**\n     * Met à jour l'état de la session.\n     * @param {Object} newState - Les nouvelles variables à ajouter ou remplacer.\n     */\n    updateSession(newState) {\n        this.sessionState = { ...this.sessionState, ...newState };\n    }\n\n    /**\n     * Récupère les paramètres de session sous forme préfixée.\n     * @returns {String} - Paramètres avec préfixe sous forme de chaîne.\n     */\n    getSessionParams() {\n        const prefixedSession = {};\n        Object.entries(this.sessionState.session_data).forEach(([key, value]) => {\n            prefixedSession[`${this.prefix}${key}`] = value;\n        });\n        return new URLSearchParams(prefixedSession).toString();\n    }\n\n    /**\n     * Ajoute l'état de session à l'objet config, y compris dans les URLs, et le retourne.\n     * @param {Object} config - L'objet de configuration à modifier.\n     * @returns {Object} - L'objet de configuration avec les paramètres de session ajoutés.\n     */\n    addSessionToConfig(config) {\n        // Clone l'objet de configuration pour éviter les modifications directes\n        const updatedConfig = { ...config };\n\n        // Préparer les paramètres de session sous forme de chaîne\n        let sessionParams;\n        const prefixedSession = {};\n        Object.entries(this.sessionState.session_data).forEach(([key, value]) => {\n            prefixedSession[`${this.prefix}${key}`] = value;\n        });\n        sessionParams = new URLSearchParams(prefixedSession).toString();\n\n        // Ajouter les paramètres de session aux URLs\n        Object.keys(updatedConfig).forEach((key) => {\n            if (key.toLowerCase().endsWith('url') && typeof updatedConfig[key] === 'string') {\n                const url = new URL(updatedConfig[key], window.location.origin);\n                const separator = url.search ? '&' : '?';\n                updatedConfig[key] = `${url.toString()}${separator}${sessionParams}`;\n            }\n        });\n\n        return updatedConfig;\n    }\n}\n","import { SessionStateService } from '../components/SessionStateService';\nimport { ViewStateService } from '../components/ViewStateService';\n\nexport default class ConfigHelper {\n    /**\n     * Constructeur de la classe ConfigHelper.\n     * @param {Object} config - Configuration des opérations CRUD.\n     */\n    constructor(config) {\n\n        this.isDebug = false;\n        this.isDebugInfo = true;\n        this.managerInstance = null;\n        this.parent_manager_id = null;\n\n        this.entity_name = config.entity_name;\n        this.view_type_variable = `${this.entity_name}_view_type` \n        this.contextKey = config.contextKey;\n        this.formSelector = config.formSelector;\n        this.dynamicModalSelector = `#${this.entity_name}-crud-dynamic-modal`;\n         this.showContainerSelector = `#${this.entity_name}-crud-show`;\n\n        this.sessionStatService = new SessionStateService();\n        this.viewStateService = new ViewStateService(this.contextKey,this.entity_name);\n\n        this.indexUrl = config.indexUrl;\n        this.editUrl = config.editUrl;\n        this.getEntityUrl = config.getEntityUrl;\n        this.csrfToken = config.csrfToken;\n        this.editTitle = config.edit_title;\n        this.getUserNotificationsUrl = config.getUserNotificationsUrl;\n    }\n\n    init(){\n        ViewStateService.init();\n    }\n     debugInfo(message){\n        if( this.isDebugInfo){\n            console.log(`[DEBUG] ${message}`);\n        }\n\n    }\n\n    toString(){\n        return `${this.id} : ${this.ViewStateService}`\n    }\n    \n}","import ConfigHelper from './ConfigHelper';\n\nexport default class ConfigCrudManagerHelper extends ConfigHelper {\n\n    constructor(config) {\n        super(config);\n\n        this.id = `${this.entity_name}-crud`;\n\n        // indique si la page CRUD est situé dans tab panel\n        this.isMany = config.isMany;\n        this.data_calcul = config.data_calcul;\n        this.parent_manager_id =config.parent_manager_id;\n \n        this.editOnFullScreen = config.editOnFullScreen;\n        this.edit_has_many = config.edit_has_many;\n        this.afterCreateAction = config.afterCreateAction\n\n        this.crudSelector = config.crudSelector;\n        this.tableSelector = config.tableSelector;\n        this.filterFormSelector = config.filterFormSelector;\n        this.createUrl = config.createUrl;\n        this.showUrl = config.showUrl;\n        this.storeUrl = config.storeUrl;\n        this.updateAttributesUrl = config.updateAttributesUrl\n        \n        this.deleteUrl = config.deleteUrl;\n        this.createTitle = config.create_title;\n        this.calculationUrl = config.calculationUrl;\n\n\n        this.canEdit = config.canEdit;\n\n\n        this.searchInputSelector = `${this.crudSelector} .crud-search-input`;\n        this.paginationSelector = `${this.crudSelector} .pagination`;\n        this.dataContainerSelector = `${this.tableSelector}`;\n        this.dataContainerOutSelector = `${this.tableSelector}-out`;\n        this.filterIconSelector = `${this.filterFormSelector} .filter-icon`;\n        this.sortableColumnSelector = `${this.tableSelector} .sortable-column`;\n    }\n}","import ConfigHelper from \"./ConfigHelper\";\n\nexport default class ConfigWithTabPanelManageHelper extends ConfigHelper {\n    constructor(config, contextState, sessionState) {\n\n        super(config, contextState, sessionState);\n\n        this.id = `${this.entity_name}-edit-has-many`;\n\n    \n        this.cardTabSelector = this.cardTabSelector;\n        this.hasTabs = true;\n    }\n\n \n}\n","import { ViewStateService } from \"../components/ViewStateService\";\n\n\nexport class ContexteStateEventHandler {\n    /**\n     * Constructeur pour initialiser ContexteStateEventHandler.\n     * @param {ViewStateService} stateManager - Instance de ViewStateService.\n     * @param {String} targetClass - La classe CSS cible pour appliquer les modifications.\n     */\n    constructor(config, targetClass = 'context-state') {\n        this.config = config;\n        this.ViewStateService = this.config.viewStateService; // Instance de ViewStateService.\n        this.targetClass = targetClass; // Classe CSS cible.\n    }\n\n    /**\n     * Ajoute les variables du contexte aux liens ayant la classe cible.\n     */\n    updateLinks() {\n        const contextParams = this.ViewStateService.getContextParams();\n\n        document.querySelectorAll(`${this.config.crudSelector} a.${this.targetClass}`).forEach(link => {\n            const url = new URL(link.href, window.location.origin);\n\n            contextParams.split('&').forEach(param => {\n                const [key, value] = param.split('=');\n                if (key && value) {\n                    url.searchParams.set(key, value);\n                }\n            });\n\n            link.href = url.toString();\n        });\n    }\n\n\n    \n\n    /**\n     * Applique dynamiquement le contexte aux nouvelles requêtes AJAX.\n     * @param {String} url - L'URL de la requête.\n     * @param {Object} options - Les options pour la requête fetch.\n     * @returns {Promise<Response>} - La réponse de la requête.\n     */\n    fetchWithContext(url, options = {}) {\n        const contextParams = this.ViewStateService.getContextParams();\n        const separator = url.includes('?') ? '&' : '?';\n        const fullUrl = `${url}${separator}${contextParams}`;\n        return fetch(fullUrl, options)\n            .then(response => response.json())\n            .catch(error => console.error('Erreur dans la requête AJAX:', error));\n    }\n\n    /**\n     * Initialiser la gestion des événements pour les liens et formulaires ayant la classe cible.\n     */\n    init() {\n        this.updateLinks();\n    }\n}\n","import { NotificationHandler } from './NotificationHandler';\n\nexport class AjaxErrorHandler {\n\n    static handleError(xhr, customMessage = \"Une erreur est survenue.\") {\n\n        console.log(xhr);\n        \n        let message = customMessage;\n\n        try {\n            if (xhr.responseJSON) {\n                if (xhr.responseJSON && xhr.responseJSON.errors) {\n                    const errors = xhr.responseJSON.errors;\n                \n                    if (typeof errors === 'object' && errors !== null) {\n                        // Laravel retourne un objet avec des tableaux d'erreurs\n                        message = Object.values(errors).flat().join('<br>');\n                    } else if (Array.isArray(errors)) {\n                        // Cas plus rare : directement un tableau d'erreurs\n                        message = errors.join('<br>');\n                    } else {\n                        // Fallback : erreur inconnue\n                        console.warn(\"Format inattendu pour xhr.responseJSON.errors\", errors);\n                        message = String(errors);\n                    }\n                }  else if (xhr.responseJSON.message) {\n                    // Autre erreur renvoyée par l’API\n                    message = xhr.responseJSON.message;\n                } else {\n                    message = 'Une erreur est survenue.';\n                }\n            } else if (xhr.responseText) {\n                // Vérifier si responseText est un JSON valide\n                let parsedText = JSON.parse(xhr.responseText);\n                if (parsedText.message) {\n                    message = parsedText.message;\n                } else {\n                    message = xhr.responseText; // Utiliser directement le texte brut si pas de message clé\n                }\n            }\n        } catch (e) {\n            // Si la réponse n'est pas du JSON valide, afficher le texte brut\n            message = xhr.responseText || \"Une erreur inattendue s'est produite.\";\n        }\n\n        NotificationHandler.showError(message);\n    }\n}\n","import EventUtil from '../utils/EventUtil';\nimport { LoadListAction } from './../actions/LoadListAction';\n\nexport class ModalUI {\n\n    static modalCounter = 0;\n    static wasFullscreen = false;\n    constructor(config, indexUI) {\n        this.config = config;\n        this.indexUI = indexUI;\n        // Fixer la valeur de titre : à ne pas modifier\n        this.fixedTitle = false;\n        \n        this.modalCounter = 0;\n        this.curd_id = this.config.id;\n        \n        this.currentModalId = `${this.curd_id}-dynamic-modal`;\n        this.modal = null;\n        this.parentModal = null;\n        this.isParentFullscreen = false; // Pour stocker l’état précédent du modal parent\n\n        //  // 🔹 Ajouter l'écouteur global pour activer le mode plein écran au premier clic\n        //  document.addEventListener('click', () => {\n        //     if (!document.fullscreenElement) {\n        //         document.documentElement.requestFullscreen().then(() => {\n        //             ModalUI.wasFullscreen = true;\n        //         }).catch(err => {\n        //             console.warn(`Erreur lors du passage en plein écran : ${err.message}`);\n        //         });\n        //     }\n        // }, { once: true }); // S'exécute une seule fois\n\n\n    }\n\n    /**\n     * Supprime l'ancienne modale et crée une nouvelle.\n     * @param {string} title - Titre de la modale.\n     * @param {boolean} showLoading - Afficher un spinner de chargement.\n     */\n    showModal(title = \"titre test\", showLoading = false) {\n\n        // Supprimer l'ancienne modale si elle existe déjà\n        this.destroy();\n      \n\n        // if ($(\".dynamic-modal:visible\").length === 0) {\n        //     // ✅ Vérifier si le document est déjà en plein écran AVANT d’activer fullscreen\n        //     if (!document.fullscreenElement) {\n        //         ModalUI.wasFullscreen = true; // Plein écran activé par le script\n        //         document.documentElement.requestFullscreen().catch(err => {\n        //             console.warn(`Erreur lors du passage en plein écran : ${err.message}`);\n        //         });\n        //     } else {\n        //         ModalUI.wasFullscreen = false; // Déjà en plein écran, donc on ne change rien\n        //     }\n        // }\n\n        // Ajouter la nouvelle modale\n        $(\"body\").append(`<div><div id=\"${this.currentModalId}\" class=\"dynamic-modal\"></div></div>`);\n            \n\n        // Détecter le modal parent (le dernier modal ouvert)\n        this.parentModal = $(\".dynamic-modal\").not(`#${this.currentModalId}`).last();\n        \n        if (this.parentModal.length > 0) {\n            // Vérifier si le modal parent est déjà en fullscreen\n            this.isParentFullscreen = this.parentModal.hasClass('isFullscreen');\n    \n            // Sauvegarder la couleur actuelle du header\n            this.originalHeaderColor = this.parentModal.data('headerColor') || \"#17a2b8\";\n    \n            // Changer la couleur du header en gris (`#6c757d`) pour indiquer que c'est un parent\n            this.parentModal.iziModal('setHeaderColor', '#6c757d');\n            this.parentModal.data('headerColor', this.originalHeaderColor); // Stocker la couleur originale\n    \n            // Mettre le modal parent en plein écran si nécessaire\n            if (!this.isParentFullscreen) {\n                this.parentModal.iziModal('setFullscreen', true);\n                this.parentModal.addClass('isFullscreen');\n            }\n        }\n    \n        \n\n        this.modal =  $(`#${this.currentModalId}`).iziModal({\n            title: title,\n            headerColor: \"#17a2b8\", // Couleur normale du nouveau modal\n            width: 900,\n            minHeight: 300,\n            padding: 20,\n            radius: 10,\n            zindex: 1050,\n            appendTo: 'body',\n            closeButton: true,\n            fullscreen: true,\n            borderBottom: true,\n            transitionIn: \"fadeIn\",\n            transitionOut: \"fadeOut\",\n            overlayClose: true,\n            autoOpen: true,\n            onClosed: () => this.handleClose()\n        });\n\n        if(this.config.editOnFullScreen){\n            this.modal.iziModal('setFullscreen', true);\n        }\n    }\n    \n\n    /**\n     * Affiche le contenu dans la modale existante sans recréer la modale.\n     * @param {string} content - Contenu HTML à injecter dans la modale.\n     */\n    showContent(content) {\n       $(`#${this.currentModalId}`).iziModal(\"stopLoading\");\n        $(`#${this.currentModalId}`).iziModal(\"setContent\", content);\n     \n    }\n\n\n    setTitle(title){\n        $(`#${this.currentModalId}`).iziModal(\"setTitle\", title);\n    }\n\n    /**\n     *  Fixer le titre de modal : qui ne sera pas modifier \n     * @param  title \n     */\n    setFixedTitle(title){\n        if(!this.fixedTitle){\n            $(`#${this.currentModalId}`).iziModal(\"setTitle\", title);\n            this.fixedTitle = true;\n        }\n       \n    }\n    \n    /**\n     * Affiche le modal avec un titre et active l'indicateur de chargement.\n     * @param {string} title - Titre à afficher dans le modal.\n     */\n    showLoading(title) {\n        this.showModal(title, true);\n        $(`#${this.currentModalId}`).iziModal(\"startLoading\");\n     \n    }\n    startLoading(){\n        $(`#${this.currentModalId}`).iziModal(\"startLoading\"); \n    }\n    stopLoading(){\n        $(`#${this.currentModalId}`).iziModal(\"stopLoading\");\n    }\n  \n\n    /**\n     * Ferme la modale actuellement ouverte.\n     */\n    close() {\n\n        // const modal = document.getElementById(this.currentModalId);\n\n        // // Check if any child inside the modal is currently focused\n        // if (modal.contains(document.activeElement)) {\n        //     document.activeElement.blur(); // Remove focus from it\n        // }\n\n         $(`#${this.currentModalId}`).iziModal(\"close\");\n    }\n\n    /**\n     * Ferme toutes les modales ouvertes.\n     */\n    closeAll() {\n        $(\".dynamic-modal\").each(function () {\n            $(this).iziModal(\"close\");\n            $(this).iziModal('destroy');\n            $(this).remove();\n\n        });\n    }\n\n    destroy() {\n\n        // const competence_id = $(\"#competence_id\");\n        // console.log(competence_id);\n        \n        if ($(`#${this.currentModalId}`).length > 0) {\n            $(`#${this.currentModalId}`).iziModal('destroy');\n            // $(`#${this.currentModalId}`).empty();\n            $(`#${this.currentModalId}`).remove();\n        }\n    \n       \n        // 🔹 Réactiver le défilement du body\n        // if ($(\".dynamic-modal:visible\").length === 0) {\n        //     $(\"body\").css({\n        //         \"overflow\": \"auto\",\n        //         \"padding-right\": \"0px\" // Corrige le décalage de la page dû aux modales\n        //     });\n        // }\n    }\n    /**\n     * Gère une erreur en affichant un message d'erreur dans une modale.\n     * @param {string} errorMessage - Message d'erreur à afficher.\n     */\n    showError(errorMessage) {\n        this.showContent(`<div class=\"alert alert-danger\">${errorMessage}</div>`);\n        console.error(`Erreur dans le modal : ${errorMessage}`);\n    }\n\n    handleClose() {\n\n        this.restoreParentModal();\n        \n        this.indexUI.tableUI.loadListAction.loadEntities();\n    \n        // setTimeout(() => {\n        //     if ($(\".dynamic-modal:visible\").length === 0) {\n        //         // Vérifier si le mode plein écran a été activé par la modale\n        //         if (ModalUI.wasFullscreen) {\n        //             document.exitFullscreen().then(() => {\n        //                 ModalUI.wasFullscreen = false; // Réinitialiser après la sortie du mode plein écran\n        //             }).catch(err => {\n        //                 console.warn(`Erreur lors de la sortie du mode plein écran : ${err.message}`);\n        //             });\n        //         }\n        //     }\n        // }, 100);\n    }\n    \n\n    restoreParentModal() {\n        if (this.parentModal && this.parentModal.length > 0) {\n            // Restaurer la couleur originale du header\n            const originalColor = this.parentModal.data('headerColor') || \"#17a2b8\";\n            this.parentModal.iziModal('setHeaderColor', originalColor);\n    \n            // Si le modal parent n'était pas en fullscreen avant, le restaurer\n            if (!this.isParentFullscreen) {\n                this.parentModal.iziModal('setFullscreen', false);\n                this.parentModal.removeClass('isFullscreen');\n            }\n        }\n    }\n}\n\n\n        // subtitle: '',\n        // headerColor: '#88A0B9',\n        // background: null,\n        // theme: '',  // light\n        // icon: null,\n        // iconText: null,\n        // iconColor: '',\n        // rtl: false,\n        // width: 600,\n        // top: null,\n        // bottom: null,\n        // borderBottom: true,\n        // padding: 0,\n        // radius: 3,\n        // zindex: 999,\n        // focusInput: true,\n        // group: '',\n        // loop: false,\n        // arrowKeys: true,\n        // navigateCaption: true,\n        // navigateArrows: true, // Boolean, 'closeToModal', 'closeScreenEdge'\n        // history: false,\n        // restoreDefaultContent: false,\n        // autoOpen: 0, // Boolean, Number\n        // bodyOverflow: false,\n        // fullscreen: false,\n        // openFullscreen: false,\n        // closeOnEscape: true,\n        // closeButton: true,\n        // appendTo: 'body', // or false\n        // appendToOverlay: 'body', // or false\n        // overlay: true,\n        // overlayClose: true,\n        // overlayColor: 'rgba(0, 0, 0, 0.4)',\n        // timeout: false,\n        // timeoutProgressbar: false,\n        // pauseOnHover: false,\n        // timeoutProgressbarColor: 'rgba(255,255,255,0.5)',\n        // transitionIn: 'comingIn',\n        // transitionOut: 'comingOut',\n        // transitionInOverlay: 'fadeIn',\n        // transitionOutOverlay: 'fadeOut',\n\n\n","import { ViewStateService } from \"../components/ViewStateService\";\nimport { FormUI } from \"../components/FormUI\";\nimport { LoadingIndicator } from \"../components/LoadingIndicator\";\nimport { ModalUI } from \"../components/ModalUI\";\nimport EventUtil from '../utils/EventUtil';\nexport class BaseAction {\n\n\n    constructor(config){\n        this.config = config;\n        // Table Loader\n        this.loader = new LoadingIndicator(config.tableSelector);\n        this.loader_traitement = new LoadingIndicator(\"body\");\n        this.viewStateService = this.config.viewStateService;\n        this.SuscesMessage = \"\";\n    }\n    /**\n     * Génère une URL dynamique en remplaçant :id par un identifiant spécifique.\n     * @param {string} baseUrl - URL de base.\n     * @param {number|string} id - Identifiant à insérer.\n     * @returns {string} URL complète avec l'identifiant.\n     */\n    getUrlWithId(baseUrl, id) {\n        return baseUrl.replace(':id', id);\n    }\n\n      /**\n     * Ajoute des paramètres à une URL.\n     * @param {String} url - L'URL de base.\n     * @param {String} params - Chaîne de paramètres à ajouter.\n     * @returns {String} - L'URL avec les paramètres ajoutés.\n     */\n      appendParamsToUrl(url, params) {\n        if (!params) {\n            return url;\n        }\n\n        \n        const separator = url.includes('?') ? '&' : '?';\n        return `${url}${separator}${params}`;\n    }\n\n\n      /**\n     * Exécute les scripts inclus dans le contenu HTML chargé via AJAX.\n     * @param {string} html - Contenu HTML contenant potentiellement des scripts.\n     */\n      executeScripts(html) {\n        const scriptTags = $(\"<div>\").html(html).find(\"script\");\n\n        scriptTags.each(function () {\n            const scriptText = $(this).text();\n            const scriptSrc = $(this).attr(\"src\");\n\n            if (scriptSrc) {\n                // Charger et exécuter les scripts externes\n                $.getScript(scriptSrc);\n            } else if (scriptText) {\n                // Exécuter les scripts inline\n                new Function(scriptText)();\n            }\n        });\n    }\n\n \n\n}","import { AjaxErrorHandler } from '../components/AjaxErrorHandler';\nimport { LoadingIndicator } from '../components/LoadingIndicator';\nimport { NotificationHandler } from '../components/NotificationHandler';\nimport { BaseAction } from './BaseAction';\nimport EventUtil from '../utils/EventUtil';\nimport ArrayUtil from './../utils/ArrayUtil';\n\nexport class LoadListAction extends BaseAction {\n    /**\n     * Constructeur de LoadListAction.\n     * @param {Object} config - Configuration pour le chargement des entités.\n     */\n    constructor(config, tableUI) {\n\n        super(config);\n        \n        this.config = config;\n        this.tableUI = tableUI;\n        this.indexUrl = config.indexUrl;\n\n        /**\n         * Compteur incrémental pour identifier les requêtes.\n         * Permet de distinguer la dernière requête envoyée\n         * et d’ignorer les réponses \"en retard\".\n         *\n         * 🛑 Problème :\n         * Si deux appels AJAX sont lancés presque en même temps\n         * (par exemple un auto-refresh discret et une recherche utilisateur),\n         * il se peut que la première requête (ancienne) termine APRES la seconde.\n         * Résultat → l’UI serait écrasée par des données obsolètes.\n         *\n         * ✅ Solution :\n         * On associe un ID unique à chaque requête et\n         * on n’applique les résultats QUE si c’est la requête la plus récente.\n         */\n        this.lastRequestId = 0;\n    }\n\n    /**\n     * Charge les entités depuis le serveur et met à jour la table ou la liste.\n     * @param {number} page - Numéro de la page à charger (par défaut : 1).\n     * @param {Object} filters - Objets contenant les filtres actifs.\n     */\n    loadEntities(page, filters = {}, discret = false) {\n\n\n        // Ne pas loadEntities si une cille en edition\n        if(this.tableUI.inlineEdit.activeCell != null || this.tableUI.bulkAction.isSelectingRows  ) return;\n\n        if(page === undefined){\n            page = this.tableUI.indexUI.paginationUI.page;\n        }\n        const pageString = new URLSearchParams({page : page}).toString();\n    \n        let indexUrl = this.indexUrl;\n        indexUrl = this.appendParamsToUrl(\n            indexUrl,\n            pageString,\n        );\n\n        indexUrl = this.appendParamsToUrl(\n            indexUrl,\n            this.viewStateService.getContextParams()\n        );\n\n\n        // Afficher l'indicateur de chargement\n        if (!discret) {\n            this.loader.showNomBloquante();\n        }\n\n        // 🔹 incrémenter l'id de la requête\n        const requestId = ++this.lastRequestId;\n\n        // Requête AJAX pour charger les données\n        return $.get(indexUrl)\n            .done((html) => {\n\n                /**\n                 * 🛑 Problème possible :\n                 * Cette réponse correspond peut-être à une requête plus ancienne\n                 * (envoyée avant mais arrivée après).\n                 *\n                 * ✅ Solution :\n                 * Vérifier que cette réponse correspond bien à la dernière requête envoyée.\n                 * Sinon, on l’ignore pour éviter d’écraser l’UI avec des données périmées.\n                 */\n                if (requestId !== this.lastRequestId) {\n                    console.debug(\"⚠️ Réponse ignorée (requête obsolète)\", { requestId, last: this.lastRequestId });\n                    return;\n                }\n\n               \n\n                // TODO : à mettre dans this.config\n                const view_type = this.config.viewStateService.getVariable(this.config.view_type_variable) || \"table\";\n                if(view_type == \"widgets\"){\n                    $(this.config.dataContainerSelector).html(\"\");\n                    $(this.config.dataContainerOutSelector).html(html);\n                }else{\n                    $(this.config.dataContainerSelector).html(html);\n                    $(this.config.dataContainerOutSelector).html(\"\");\n                }\n            \n                if (!discret) {\n                    this.loader.hide();\n                }\n                this.executeScripts(html);\n\n                \n                this.tableUI.init();\n                if (!discret) {\n                    this.tableUI.indexUI.filterUI.init();\n                }\n\n            \n\n                this.tableUI.indexUI.bulkActionsUI.init();\n                this.tableUI.indexUI.notificationUI.init();\n                // Afficher un message de succès (optionnel)\n                // NotificationHandler.showSuccess('Données chargées avec succès.');\n\n                if(this.config.data_calcul && this.config.isMany && this.config.managerInstance.parent_manager){\n                    this.config.managerInstance.parent_manager.formUI.reloadData();\n                }\n              \n                \n                    \n            })\n            .fail((xhr) => {\n                AjaxErrorHandler.handleError(xhr, \"Erreur lors du chargement des données.\");\n            })\n            .always(() => {\n                // Masquer l'indicateur de chargement\n               \n            });\n    }\n    \n}\n","import { LoadingIndicator } from '../components/LoadingIndicator';\nimport { ModalUI } from '../components/ModalUI';\nimport { NotificationHandler } from '../components/NotificationHandler';\n\nimport { FormUI } from '../components/FormUI';\nimport { ViewStateService } from '../components/ViewStateService';\nimport { BaseAction } from './BaseAction';\nimport { LoadListAction } from './LoadListAction';\nimport { AjaxErrorHandler } from '../components/AjaxErrorHandler';\nimport EventUtil from '../utils/EventUtil';\n\nexport class Action extends BaseAction {\n    /**\n     * @param {Object} config - Configuration contenant les URLs, sélecteurs, etc.\n     */\n    constructor(config) {\n        super(config);\n        this.config = config;\n    }\n\n\n    /**\n     * Affiche une erreur via le modal et les notifications.\n     * @param {string} errorMessage - Message d'erreur à afficher.\n     */\n    handleError(errorMessage) {\n        // this.tableUI.indexUI.modalUI.showError(errorMessage);\n        NotificationHandler.showAlert(\"error\", \"Erreur\", errorMessage);\n    }\n\n    /**\n     * Affiche un message de succès.\n     * @param {string} successMessage - Message de succès à afficher.\n     */\n    handleSuccess(successMessage) {\n        NotificationHandler.showSuccess(successMessage);\n    }\n\n\n \n\n       \n\n\n}\n","// /components et /utils existent déjà dans ton projet\nimport { AjaxErrorHandler } from '../components/AjaxErrorHandler';\nimport { Action } from './Action';\nimport EventUtil from '../utils/EventUtil';\nimport { NotificationHandler } from '../components/NotificationHandler';\n\nexport class CrudAction extends Action {\n\n  /**\n   * @param {Object} config\n   * @param {Object} tableUI\n   * @param {string|null} containerSelector - par défaut config.crudSelector\n   */\n  constructor(config, tableUI, containerSelector = null) {\n    super(config);\n    this.config = config;\n    this.tableUI = tableUI;\n    this.containerSelector = containerSelector || this.config.crudSelector;\n\n    // Message de succès générique (les enfants peuvent le surcharger)\n    this.successMessage = 'Opération effectuée avec succès.';\n  }\n\n     /**\n     * Lance le traitement différé (sans attendre la réponse) puis démarre le polling.\n     *\n     * @param {string} token - Token du traitement à surveiller\n     * @param {object|null} loader - Loader avec .showNomBloquante() et .hide()\n     * @param {function|null} onDoneCallback - Fonction appelée après traitement terminé\n     */ \n    pollTraitementStatus(token, onDoneCallback = null) {\n\n        let loader = this.loader_traitement;\n        loader.showNomBloquante(\"⏳ Traitement lancé...\");\n        let error = false;\n\n\n        $.get('/admin/traitement/start')\n        .done(() => {\n        })\n        .fail((xhr) => {\n            // ❌ Une erreur est survenue côté serveur\n            const message = xhr.responseJSON?.message || 'Erreur lors du démarrage du traitement.';\n            NotificationHandler.showError('❌ ' + message);\n            loader?.hide();\n            error = true;\n            this.tableUI.loadListAction.loadEntities();\n        });\n\n\n        // ⏱️ Démarrer le polling\n        const poll = () => {\n            $.get('/admin/traitement/status/' + token)\n                .done((res) => {\n                    const status = res.status;\n                    const progress = res.progress ?? 0;\n                    const messageError = res.messageError ?? \"\";\n                    const label = res.label ?? \"⏳ Traitement en cours\";\n\n                    if (status === 'done') {\n                        if (loader) loader.hide();\n                       // NotificationHandler.showSuccess('✅ Traitement terminé.');\n                        this.tableUI.loadListAction.loadEntities();\n                        if (typeof onDoneCallback === 'function') {\n                            onDoneCallback();\n                        }\n\n                    } else if (status.startsWith('error')) {\n                        if (loader) loader.hide();\n                        NotificationHandler.showError('❌ Erreur traitement : ' + messageError);\n                        this.tableUI.loadListAction.loadEntities();\n                    } else {\n                        if(!error){\n                            loader?.showNomBloquante(`${label} ${progress}%`);\n                            setTimeout(poll, 1500);\n                        }\n                    }\n                })\n                .fail(() => {\n                    if (loader) loader.hide();\n                    NotificationHandler.showError('❌ Erreur réseau pendant le polling.');\n                    this.tableUI.loadListAction.loadEntities();\n                });\n        };\n\n        poll(); // 🚀 Lancer immédiatement la boucle de polling\n    }\n\n}","import { AjaxErrorHandler } from '../components/AjaxErrorHandler';\nimport { ViewStateService } from '../components/ViewStateService';\nimport { NotificationHandler } from '../components/NotificationHandler';\nimport { Action } from './Action';\nimport EventUtil from '../utils/EventUtil';\nimport { CrudAction } from './CrudAction';\nexport class CreateAction extends CrudAction {\n\n    constructor(config, tableUI) {\n        super(config,tableUI);\n        this.config = config;  \n        this.tableUI = tableUI;\n        this.SuscesMessage = 'Nouvelle entité ajoutée avec succès.';\n    }\n\n    init(){\n        this.handleAddEntity();\n    } \n\n    /**\n     * Gère l'ouverture du modal et l'ajout d'une nouvelle entité.\n     */\n    addEntity() {\n\n        this.createUrl = this.appendParamsToUrl(\n            this.config.createUrl,\n            this.viewStateService.getContextParams()\n        );\n        \n        // Afficher le chargement dans le modal\n        this.tableUI.indexUI.modalUI.showLoading(this.config.createTitle);\n\n        // Charger le formulaire d'ajout via une requête AJAX\n        $.get(this.createUrl)\n            .done((html) => {\n                // Injecter le contenu dans le modal et afficher le formulaire\n                this.tableUI.indexUI.modalUI.showContent(html);\n                this.executeScripts(html);\n                this.config.init();\n                this.tableUI.indexUI.formUI.init(() => this.submitEntity());\n            })\n            .fail((xhr) => {\n                AjaxErrorHandler.handleError(xhr, 'Erreur lors de l\\'ajout.');\n            });\n            \n    }\n\n       /**\n         * Soumet le formulaire de modification via AJAX.\n         */\n        submitEntity(onSuccess) {\n            const form = $(this.config.formSelector);\n            const actionUrl = form.attr('action'); // URL définie dans le formulaire\n            const method = form.find('input[name=\"_method\"]').val() || 'POST'; // Méthode HTTP\n            const formData = form.serialize(); // Sérialisation des données du formulaire\n            this.tableUI.indexUI.formUI.loader.show();\n    \n            // Valider le formulaire avant la soumission\n            if (!this.tableUI.indexUI.formUI.validateForm()) {\n                NotificationHandler.showError('Validation échouée. Veuillez corriger les erreurs.');\n                this.tableUI.indexUI.formUI.loader.hide();\n                return; // Ne pas soumettre si la validation échoue\n            }\n    \n            // Envoyer les données via une requête AJAX\n            $.ajax({\n                url: actionUrl,\n                method: method,\n                data: formData\n            })\n                .done((data) => {\n                    \n                    // Affichage de message de progression de traitement\n                    const traitement_token = data.data?.traitement_token;\n                    if (traitement_token) {\n                        this.pollTraitementStatus(traitement_token, () => {\n                           this.handleSuccess(this.SuscesMessage);\n                        });\n                    }else{\n                       this.handleSuccess(this.SuscesMessage);\n                    }\n\n\n\n                    this.tableUI.indexUI.formUI.loader.hide();\n                    \n                    this.tableUI.indexUI.modalUI.close(); // Fermer le modal après succès\n\n                     // Appeler le callback de succès si fourni\n                     if (typeof onSuccess === 'function') {\n                        onSuccess();\n                    }\n\n                    this.handleAfterCreateAction(data);\n\n                    // if(this.config.edit_has_many && this.config.afterCreateAction != ''){\n                    //     const entity_id = parseInt( data.data[`entity_id`]);\n                    //     this.tableUI.entityEditor.editEntity(entity_id);\n                    //     this.tableUI.loadListAction.loadEntities();\n\n                    // }else{\n                    //     this.tableUI.loadListAction.loadEntities(); // Recharger les entités\n                    // }\n                   \n                   \n                })\n    \n                .fail((xhr) => {\n                    this.tableUI.indexUI.formUI.loader.hide();\n                    \n                    if (xhr.responseJSON?.errors) {\n                        this.tableUI.indexUI.formUI.showFieldErrors(xhr.responseJSON.errors);\n                    } \n                    \n                    AjaxErrorHandler.handleError(xhr, \"Erreur lors du traitement du formulaire.\");\n                });\n    \n        }\n\n\n\n    /**\n     * Gère les événements liés à l'ajout d'une entité.\n     */\n    handleAddEntity() {\n        EventUtil.bindEvent('click', `${this.config.crudSelector} .addEntityButton`, (e) => {\n            e.preventDefault();\n            this.addEntity();\n        });\n    }\n\n    /**\n     * Gère l'action après création d'une entité selon afterCreateAction.\n     * - \"\" + edit_has_many = true → 'update'\n     * - index → recharge la liste\n     * - edit  → ouvre l'éditeur + recharge\n     * - update → idem edit\n     * - custom:<route> → route spécifique\n     *\n     * @param {object} data - Données de la réponse backend (avec entity_id)\n     */\n    handleAfterCreateAction(data = {}) {\n    const rawId = data?.data?.entity_id ?? data?.entity_id ?? data?.id;\n    const entityId = Number.parseInt(rawId, 10);\n    const hasValidId = Number.isInteger(entityId) && entityId > 0;\n\n    // Normalisation de l'action\n    let action = (this.config?.afterCreateAction || '').trim().toLowerCase();\n\n    // Règle spéciale : si vide et edit_has_many → update\n    if (!action && this.config?.edit_has_many) {\n        action = 'update';\n    }\n\n    const reloadIndex = () => this.tableUI?.loadListAction?.loadEntities?.();\n\n    switch (action) {\n        case 'edit':\n        case 'update':\n        if (hasValidId) {\n            this.tableUI?.entityEditor?.editEntity?.(entityId);\n        }\n        reloadIndex();\n        break;\n\n        case 'index':\n        case '':\n        default:\n        reloadIndex();\n        break;\n    }\n    }\n\n\n}\n","export var HOOKS = [\n    \"onChange\",\n    \"onClose\",\n    \"onDayCreate\",\n    \"onDestroy\",\n    \"onKeyDown\",\n    \"onMonthChange\",\n    \"onOpen\",\n    \"onParseConfig\",\n    \"onReady\",\n    \"onValueUpdate\",\n    \"onYearChange\",\n    \"onPreCalendarPosition\",\n];\nexport var defaults = {\n    _disable: [],\n    allowInput: false,\n    allowInvalidPreload: false,\n    altFormat: \"F j, Y\",\n    altInput: false,\n    altInputClass: \"form-control input\",\n    animate: typeof window === \"object\" &&\n        window.navigator.userAgent.indexOf(\"MSIE\") === -1,\n    ariaDateFormat: \"F j, Y\",\n    autoFillDefaultTime: true,\n    clickOpens: true,\n    closeOnSelect: true,\n    conjunction: \", \",\n    dateFormat: \"Y-m-d\",\n    defaultHour: 12,\n    defaultMinute: 0,\n    defaultSeconds: 0,\n    disable: [],\n    disableMobile: false,\n    enableSeconds: false,\n    enableTime: false,\n    errorHandler: function (err) {\n        return typeof console !== \"undefined\" && console.warn(err);\n    },\n    getWeek: function (givenDate) {\n        var date = new Date(givenDate.getTime());\n        date.setHours(0, 0, 0, 0);\n        date.setDate(date.getDate() + 3 - ((date.getDay() + 6) % 7));\n        var week1 = new Date(date.getFullYear(), 0, 4);\n        return (1 +\n            Math.round(((date.getTime() - week1.getTime()) / 86400000 -\n                3 +\n                ((week1.getDay() + 6) % 7)) /\n                7));\n    },\n    hourIncrement: 1,\n    ignoredFocusElements: [],\n    inline: false,\n    locale: \"default\",\n    minuteIncrement: 5,\n    mode: \"single\",\n    monthSelectorType: \"dropdown\",\n    nextArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>\",\n    noCalendar: false,\n    now: new Date(),\n    onChange: [],\n    onClose: [],\n    onDayCreate: [],\n    onDestroy: [],\n    onKeyDown: [],\n    onMonthChange: [],\n    onOpen: [],\n    onParseConfig: [],\n    onReady: [],\n    onValueUpdate: [],\n    onYearChange: [],\n    onPreCalendarPosition: [],\n    plugins: [],\n    position: \"auto\",\n    positionElement: undefined,\n    prevArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>\",\n    shorthandCurrentMonth: false,\n    showMonths: 1,\n    static: false,\n    time_24hr: false,\n    weekNumbers: false,\n    wrap: false,\n};\n","export var english = {\n    weekdays: {\n        shorthand: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n        longhand: [\n            \"Sunday\",\n            \"Monday\",\n            \"Tuesday\",\n            \"Wednesday\",\n            \"Thursday\",\n            \"Friday\",\n            \"Saturday\",\n        ],\n    },\n    months: {\n        shorthand: [\n            \"Jan\",\n            \"Feb\",\n            \"Mar\",\n            \"Apr\",\n            \"May\",\n            \"Jun\",\n            \"Jul\",\n            \"Aug\",\n            \"Sep\",\n            \"Oct\",\n            \"Nov\",\n            \"Dec\",\n        ],\n        longhand: [\n            \"January\",\n            \"February\",\n            \"March\",\n            \"April\",\n            \"May\",\n            \"June\",\n            \"July\",\n            \"August\",\n            \"September\",\n            \"October\",\n            \"November\",\n            \"December\",\n        ],\n    },\n    daysInMonth: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],\n    firstDayOfWeek: 0,\n    ordinal: function (nth) {\n        var s = nth % 100;\n        if (s > 3 && s < 21)\n            return \"th\";\n        switch (s % 10) {\n            case 1:\n                return \"st\";\n            case 2:\n                return \"nd\";\n            case 3:\n                return \"rd\";\n            default:\n                return \"th\";\n        }\n    },\n    rangeSeparator: \" to \",\n    weekAbbreviation: \"Wk\",\n    scrollTitle: \"Scroll to increment\",\n    toggleTitle: \"Click to toggle\",\n    amPM: [\"AM\", \"PM\"],\n    yearAriaLabel: \"Year\",\n    monthAriaLabel: \"Month\",\n    hourAriaLabel: \"Hour\",\n    minuteAriaLabel: \"Minute\",\n    time_24hr: false,\n};\nexport default english;\n","export var pad = function (number, length) {\n    if (length === void 0) { length = 2; }\n    return (\"000\" + number).slice(length * -1);\n};\nexport var int = function (bool) { return (bool === true ? 1 : 0); };\nexport function debounce(fn, wait) {\n    var t;\n    return function () {\n        var _this = this;\n        var args = arguments;\n        clearTimeout(t);\n        t = setTimeout(function () { return fn.apply(_this, args); }, wait);\n    };\n}\nexport var arrayify = function (obj) {\n    return obj instanceof Array ? obj : [obj];\n};\n","export function toggleClass(elem, className, bool) {\n    if (bool === true)\n        return elem.classList.add(className);\n    elem.classList.remove(className);\n}\nexport function createElement(tag, className, content) {\n    var e = window.document.createElement(tag);\n    className = className || \"\";\n    content = content || \"\";\n    e.className = className;\n    if (content !== undefined)\n        e.textContent = content;\n    return e;\n}\nexport function clearNode(node) {\n    while (node.firstChild)\n        node.removeChild(node.firstChild);\n}\nexport function findParent(node, condition) {\n    if (condition(node))\n        return node;\n    else if (node.parentNode)\n        return findParent(node.parentNode, condition);\n    return undefined;\n}\nexport function createNumberInput(inputClassName, opts) {\n    var wrapper = createElement(\"div\", \"numInputWrapper\"), numInput = createElement(\"input\", \"numInput \" + inputClassName), arrowUp = createElement(\"span\", \"arrowUp\"), arrowDown = createElement(\"span\", \"arrowDown\");\n    if (navigator.userAgent.indexOf(\"MSIE 9.0\") === -1) {\n        numInput.type = \"number\";\n    }\n    else {\n        numInput.type = \"text\";\n        numInput.pattern = \"\\\\d*\";\n    }\n    if (opts !== undefined)\n        for (var key in opts)\n            numInput.setAttribute(key, opts[key]);\n    wrapper.appendChild(numInput);\n    wrapper.appendChild(arrowUp);\n    wrapper.appendChild(arrowDown);\n    return wrapper;\n}\nexport function getEventTarget(event) {\n    try {\n        if (typeof event.composedPath === \"function\") {\n            var path = event.composedPath();\n            return path[0];\n        }\n        return event.target;\n    }\n    catch (error) {\n        return event.target;\n    }\n}\n","import { int, pad } from \"../utils\";\nvar doNothing = function () { return undefined; };\nexport var monthToStr = function (monthNumber, shorthand, locale) { return locale.months[shorthand ? \"shorthand\" : \"longhand\"][monthNumber]; };\nexport var revFormat = {\n    D: doNothing,\n    F: function (dateObj, monthName, locale) {\n        dateObj.setMonth(locale.months.longhand.indexOf(monthName));\n    },\n    G: function (dateObj, hour) {\n        dateObj.setHours((dateObj.getHours() >= 12 ? 12 : 0) + parseFloat(hour));\n    },\n    H: function (dateObj, hour) {\n        dateObj.setHours(parseFloat(hour));\n    },\n    J: function (dateObj, day) {\n        dateObj.setDate(parseFloat(day));\n    },\n    K: function (dateObj, amPM, locale) {\n        dateObj.setHours((dateObj.getHours() % 12) +\n            12 * int(new RegExp(locale.amPM[1], \"i\").test(amPM)));\n    },\n    M: function (dateObj, shortMonth, locale) {\n        dateObj.setMonth(locale.months.shorthand.indexOf(shortMonth));\n    },\n    S: function (dateObj, seconds) {\n        dateObj.setSeconds(parseFloat(seconds));\n    },\n    U: function (_, unixSeconds) { return new Date(parseFloat(unixSeconds) * 1000); },\n    W: function (dateObj, weekNum, locale) {\n        var weekNumber = parseInt(weekNum);\n        var date = new Date(dateObj.getFullYear(), 0, 2 + (weekNumber - 1) * 7, 0, 0, 0, 0);\n        date.setDate(date.getDate() - date.getDay() + locale.firstDayOfWeek);\n        return date;\n    },\n    Y: function (dateObj, year) {\n        dateObj.setFullYear(parseFloat(year));\n    },\n    Z: function (_, ISODate) { return new Date(ISODate); },\n    d: function (dateObj, day) {\n        dateObj.setDate(parseFloat(day));\n    },\n    h: function (dateObj, hour) {\n        dateObj.setHours((dateObj.getHours() >= 12 ? 12 : 0) + parseFloat(hour));\n    },\n    i: function (dateObj, minutes) {\n        dateObj.setMinutes(parseFloat(minutes));\n    },\n    j: function (dateObj, day) {\n        dateObj.setDate(parseFloat(day));\n    },\n    l: doNothing,\n    m: function (dateObj, month) {\n        dateObj.setMonth(parseFloat(month) - 1);\n    },\n    n: function (dateObj, month) {\n        dateObj.setMonth(parseFloat(month) - 1);\n    },\n    s: function (dateObj, seconds) {\n        dateObj.setSeconds(parseFloat(seconds));\n    },\n    u: function (_, unixMillSeconds) {\n        return new Date(parseFloat(unixMillSeconds));\n    },\n    w: doNothing,\n    y: function (dateObj, year) {\n        dateObj.setFullYear(2000 + parseFloat(year));\n    },\n};\nexport var tokenRegex = {\n    D: \"\",\n    F: \"\",\n    G: \"(\\\\d\\\\d|\\\\d)\",\n    H: \"(\\\\d\\\\d|\\\\d)\",\n    J: \"(\\\\d\\\\d|\\\\d)\\\\w+\",\n    K: \"\",\n    M: \"\",\n    S: \"(\\\\d\\\\d|\\\\d)\",\n    U: \"(.+)\",\n    W: \"(\\\\d\\\\d|\\\\d)\",\n    Y: \"(\\\\d{4})\",\n    Z: \"(.+)\",\n    d: \"(\\\\d\\\\d|\\\\d)\",\n    h: \"(\\\\d\\\\d|\\\\d)\",\n    i: \"(\\\\d\\\\d|\\\\d)\",\n    j: \"(\\\\d\\\\d|\\\\d)\",\n    l: \"\",\n    m: \"(\\\\d\\\\d|\\\\d)\",\n    n: \"(\\\\d\\\\d|\\\\d)\",\n    s: \"(\\\\d\\\\d|\\\\d)\",\n    u: \"(.+)\",\n    w: \"(\\\\d\\\\d|\\\\d)\",\n    y: \"(\\\\d{2})\",\n};\nexport var formats = {\n    Z: function (date) { return date.toISOString(); },\n    D: function (date, locale, options) {\n        return locale.weekdays.shorthand[formats.w(date, locale, options)];\n    },\n    F: function (date, locale, options) {\n        return monthToStr(formats.n(date, locale, options) - 1, false, locale);\n    },\n    G: function (date, locale, options) {\n        return pad(formats.h(date, locale, options));\n    },\n    H: function (date) { return pad(date.getHours()); },\n    J: function (date, locale) {\n        return locale.ordinal !== undefined\n            ? date.getDate() + locale.ordinal(date.getDate())\n            : date.getDate();\n    },\n    K: function (date, locale) { return locale.amPM[int(date.getHours() > 11)]; },\n    M: function (date, locale) {\n        return monthToStr(date.getMonth(), true, locale);\n    },\n    S: function (date) { return pad(date.getSeconds()); },\n    U: function (date) { return date.getTime() / 1000; },\n    W: function (date, _, options) {\n        return options.getWeek(date);\n    },\n    Y: function (date) { return pad(date.getFullYear(), 4); },\n    d: function (date) { return pad(date.getDate()); },\n    h: function (date) { return (date.getHours() % 12 ? date.getHours() % 12 : 12); },\n    i: function (date) { return pad(date.getMinutes()); },\n    j: function (date) { return date.getDate(); },\n    l: function (date, locale) {\n        return locale.weekdays.longhand[date.getDay()];\n    },\n    m: function (date) { return pad(date.getMonth() + 1); },\n    n: function (date) { return date.getMonth() + 1; },\n    s: function (date) { return date.getSeconds(); },\n    u: function (date) { return date.getTime(); },\n    w: function (date) { return date.getDay(); },\n    y: function (date) { return String(date.getFullYear()).substring(2); },\n};\n","import { tokenRegex, revFormat, formats, } from \"./formatting\";\nimport { defaults } from \"../types/options\";\nimport { english } from \"../l10n/default\";\nexport var createDateFormatter = function (_a) {\n    var _b = _a.config, config = _b === void 0 ? defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? english : _c, _d = _a.isMobile, isMobile = _d === void 0 ? false : _d;\n    return function (dateObj, frmt, overrideLocale) {\n        var locale = overrideLocale || l10n;\n        if (config.formatDate !== undefined && !isMobile) {\n            return config.formatDate(dateObj, frmt, locale);\n        }\n        return frmt\n            .split(\"\")\n            .map(function (c, i, arr) {\n            return formats[c] && arr[i - 1] !== \"\\\\\"\n                ? formats[c](dateObj, locale, config)\n                : c !== \"\\\\\"\n                    ? c\n                    : \"\";\n        })\n            .join(\"\");\n    };\n};\nexport var createDateParser = function (_a) {\n    var _b = _a.config, config = _b === void 0 ? defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? english : _c;\n    return function (date, givenFormat, timeless, customLocale) {\n        if (date !== 0 && !date)\n            return undefined;\n        var locale = customLocale || l10n;\n        var parsedDate;\n        var dateOrig = date;\n        if (date instanceof Date)\n            parsedDate = new Date(date.getTime());\n        else if (typeof date !== \"string\" &&\n            date.toFixed !== undefined)\n            parsedDate = new Date(date);\n        else if (typeof date === \"string\") {\n            var format = givenFormat || (config || defaults).dateFormat;\n            var datestr = String(date).trim();\n            if (datestr === \"today\") {\n                parsedDate = new Date();\n                timeless = true;\n            }\n            else if (config && config.parseDate) {\n                parsedDate = config.parseDate(date, format);\n            }\n            else if (/Z$/.test(datestr) ||\n                /GMT$/.test(datestr)) {\n                parsedDate = new Date(date);\n            }\n            else {\n                var matched = void 0, ops = [];\n                for (var i = 0, matchIndex = 0, regexStr = \"\"; i < format.length; i++) {\n                    var token = format[i];\n                    var isBackSlash = token === \"\\\\\";\n                    var escaped = format[i - 1] === \"\\\\\" || isBackSlash;\n                    if (tokenRegex[token] && !escaped) {\n                        regexStr += tokenRegex[token];\n                        var match = new RegExp(regexStr).exec(date);\n                        if (match && (matched = true)) {\n                            ops[token !== \"Y\" ? \"push\" : \"unshift\"]({\n                                fn: revFormat[token],\n                                val: match[++matchIndex],\n                            });\n                        }\n                    }\n                    else if (!isBackSlash)\n                        regexStr += \".\";\n                }\n                parsedDate =\n                    !config || !config.noCalendar\n                        ? new Date(new Date().getFullYear(), 0, 1, 0, 0, 0, 0)\n                        : new Date(new Date().setHours(0, 0, 0, 0));\n                ops.forEach(function (_a) {\n                    var fn = _a.fn, val = _a.val;\n                    return (parsedDate = fn(parsedDate, val, locale) || parsedDate);\n                });\n                parsedDate = matched ? parsedDate : undefined;\n            }\n        }\n        if (!(parsedDate instanceof Date && !isNaN(parsedDate.getTime()))) {\n            config.errorHandler(new Error(\"Invalid date provided: \" + dateOrig));\n            return undefined;\n        }\n        if (timeless === true)\n            parsedDate.setHours(0, 0, 0, 0);\n        return parsedDate;\n    };\n};\nexport function compareDates(date1, date2, timeless) {\n    if (timeless === void 0) { timeless = true; }\n    if (timeless !== false) {\n        return (new Date(date1.getTime()).setHours(0, 0, 0, 0) -\n            new Date(date2.getTime()).setHours(0, 0, 0, 0));\n    }\n    return date1.getTime() - date2.getTime();\n}\nexport function compareTimes(date1, date2) {\n    return (3600 * (date1.getHours() - date2.getHours()) +\n        60 * (date1.getMinutes() - date2.getMinutes()) +\n        date1.getSeconds() -\n        date2.getSeconds());\n}\nexport var isBetween = function (ts, ts1, ts2) {\n    return ts > Math.min(ts1, ts2) && ts < Math.max(ts1, ts2);\n};\nexport var calculateSecondsSinceMidnight = function (hours, minutes, seconds) {\n    return hours * 3600 + minutes * 60 + seconds;\n};\nexport var parseSeconds = function (secondsSinceMidnight) {\n    var hours = Math.floor(secondsSinceMidnight / 3600), minutes = (secondsSinceMidnight - hours * 3600) / 60;\n    return [hours, minutes, secondsSinceMidnight - hours * 3600 - minutes * 60];\n};\nexport var duration = {\n    DAY: 86400000,\n};\nexport function getDefaultHours(config) {\n    var hours = config.defaultHour;\n    var minutes = config.defaultMinute;\n    var seconds = config.defaultSeconds;\n    if (config.minDate !== undefined) {\n        var minHour = config.minDate.getHours();\n        var minMinutes = config.minDate.getMinutes();\n        var minSeconds = config.minDate.getSeconds();\n        if (hours < minHour) {\n            hours = minHour;\n        }\n        if (hours === minHour && minutes < minMinutes) {\n            minutes = minMinutes;\n        }\n        if (hours === minHour && minutes === minMinutes && seconds < minSeconds)\n            seconds = config.minDate.getSeconds();\n    }\n    if (config.maxDate !== undefined) {\n        var maxHr = config.maxDate.getHours();\n        var maxMinutes = config.maxDate.getMinutes();\n        hours = Math.min(hours, maxHr);\n        if (hours === maxHr)\n            minutes = Math.min(maxMinutes, minutes);\n        if (hours === maxHr && minutes === maxMinutes)\n            seconds = config.maxDate.getSeconds();\n    }\n    return { hours: hours, minutes: minutes, seconds: seconds };\n}\n","\"use strict\";\nif (typeof Object.assign !== \"function\") {\n    Object.assign = function (target) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        if (!target) {\n            throw TypeError(\"Cannot convert undefined or null to object\");\n        }\n        var _loop_1 = function (source) {\n            if (source) {\n                Object.keys(source).forEach(function (key) { return (target[key] = source[key]); });\n            }\n        };\n        for (var _a = 0, args_1 = args; _a < args_1.length; _a++) {\n            var source = args_1[_a];\n            _loop_1(source);\n        }\n        return target;\n    };\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { defaults as defaultOptions, HOOKS, } from \"./types/options\";\nimport English from \"./l10n/default\";\nimport { arrayify, debounce, int, pad } from \"./utils\";\nimport { clearNode, createElement, createNumberInput, findParent, toggleClass, getEventTarget, } from \"./utils/dom\";\nimport { compareDates, createDateParser, createDateFormatter, duration, isBetween, getDefaultHours, calculateSecondsSinceMidnight, parseSeconds, } from \"./utils/dates\";\nimport { tokenRegex, monthToStr } from \"./utils/formatting\";\nimport \"./utils/polyfills\";\nvar DEBOUNCED_CHANGE_MS = 300;\nfunction FlatpickrInstance(element, instanceConfig) {\n    var self = {\n        config: __assign(__assign({}, defaultOptions), flatpickr.defaultConfig),\n        l10n: English,\n    };\n    self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n    self._handlers = [];\n    self.pluginElements = [];\n    self.loadedPlugins = [];\n    self._bind = bind;\n    self._setHoursFromDate = setHoursFromDate;\n    self._positionCalendar = positionCalendar;\n    self.changeMonth = changeMonth;\n    self.changeYear = changeYear;\n    self.clear = clear;\n    self.close = close;\n    self.onMouseOver = onMouseOver;\n    self._createElement = createElement;\n    self.createDay = createDay;\n    self.destroy = destroy;\n    self.isEnabled = isEnabled;\n    self.jumpToDate = jumpToDate;\n    self.updateValue = updateValue;\n    self.open = open;\n    self.redraw = redraw;\n    self.set = set;\n    self.setDate = setDate;\n    self.toggle = toggle;\n    function setupHelperFunctions() {\n        self.utils = {\n            getDaysInMonth: function (month, yr) {\n                if (month === void 0) { month = self.currentMonth; }\n                if (yr === void 0) { yr = self.currentYear; }\n                if (month === 1 && ((yr % 4 === 0 && yr % 100 !== 0) || yr % 400 === 0))\n                    return 29;\n                return self.l10n.daysInMonth[month];\n            },\n        };\n    }\n    function init() {\n        self.element = self.input = element;\n        self.isOpen = false;\n        parseConfig();\n        setupLocale();\n        setupInputs();\n        setupDates();\n        setupHelperFunctions();\n        if (!self.isMobile)\n            build();\n        bindEvents();\n        if (self.selectedDates.length || self.config.noCalendar) {\n            if (self.config.enableTime) {\n                setHoursFromDate(self.config.noCalendar ? self.latestSelectedDateObj : undefined);\n            }\n            updateValue(false);\n        }\n        setCalendarWidth();\n        var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n        if (!self.isMobile && isSafari) {\n            positionCalendar();\n        }\n        triggerEvent(\"onReady\");\n    }\n    function getClosestActiveElement() {\n        var _a;\n        return (((_a = self.calendarContainer) === null || _a === void 0 ? void 0 : _a.getRootNode())\n            .activeElement || document.activeElement);\n    }\n    function bindToInstance(fn) {\n        return fn.bind(self);\n    }\n    function setCalendarWidth() {\n        var config = self.config;\n        if (config.weekNumbers === false && config.showMonths === 1) {\n            return;\n        }\n        else if (config.noCalendar !== true) {\n            window.requestAnimationFrame(function () {\n                if (self.calendarContainer !== undefined) {\n                    self.calendarContainer.style.visibility = \"hidden\";\n                    self.calendarContainer.style.display = \"block\";\n                }\n                if (self.daysContainer !== undefined) {\n                    var daysWidth = (self.days.offsetWidth + 1) * config.showMonths;\n                    self.daysContainer.style.width = daysWidth + \"px\";\n                    self.calendarContainer.style.width =\n                        daysWidth +\n                            (self.weekWrapper !== undefined\n                                ? self.weekWrapper.offsetWidth\n                                : 0) +\n                            \"px\";\n                    self.calendarContainer.style.removeProperty(\"visibility\");\n                    self.calendarContainer.style.removeProperty(\"display\");\n                }\n            });\n        }\n    }\n    function updateTime(e) {\n        if (self.selectedDates.length === 0) {\n            var defaultDate = self.config.minDate === undefined ||\n                compareDates(new Date(), self.config.minDate) >= 0\n                ? new Date()\n                : new Date(self.config.minDate.getTime());\n            var defaults = getDefaultHours(self.config);\n            defaultDate.setHours(defaults.hours, defaults.minutes, defaults.seconds, defaultDate.getMilliseconds());\n            self.selectedDates = [defaultDate];\n            self.latestSelectedDateObj = defaultDate;\n        }\n        if (e !== undefined && e.type !== \"blur\") {\n            timeWrapper(e);\n        }\n        var prevValue = self._input.value;\n        setHoursFromInputs();\n        updateValue();\n        if (self._input.value !== prevValue) {\n            self._debouncedChange();\n        }\n    }\n    function ampm2military(hour, amPM) {\n        return (hour % 12) + 12 * int(amPM === self.l10n.amPM[1]);\n    }\n    function military2ampm(hour) {\n        switch (hour % 24) {\n            case 0:\n            case 12:\n                return 12;\n            default:\n                return hour % 12;\n        }\n    }\n    function setHoursFromInputs() {\n        if (self.hourElement === undefined || self.minuteElement === undefined)\n            return;\n        var hours = (parseInt(self.hourElement.value.slice(-2), 10) || 0) % 24, minutes = (parseInt(self.minuteElement.value, 10) || 0) % 60, seconds = self.secondElement !== undefined\n            ? (parseInt(self.secondElement.value, 10) || 0) % 60\n            : 0;\n        if (self.amPM !== undefined) {\n            hours = ampm2military(hours, self.amPM.textContent);\n        }\n        var limitMinHours = self.config.minTime !== undefined ||\n            (self.config.minDate &&\n                self.minDateHasTime &&\n                self.latestSelectedDateObj &&\n                compareDates(self.latestSelectedDateObj, self.config.minDate, true) ===\n                    0);\n        var limitMaxHours = self.config.maxTime !== undefined ||\n            (self.config.maxDate &&\n                self.maxDateHasTime &&\n                self.latestSelectedDateObj &&\n                compareDates(self.latestSelectedDateObj, self.config.maxDate, true) ===\n                    0);\n        if (self.config.maxTime !== undefined &&\n            self.config.minTime !== undefined &&\n            self.config.minTime > self.config.maxTime) {\n            var minBound = calculateSecondsSinceMidnight(self.config.minTime.getHours(), self.config.minTime.getMinutes(), self.config.minTime.getSeconds());\n            var maxBound = calculateSecondsSinceMidnight(self.config.maxTime.getHours(), self.config.maxTime.getMinutes(), self.config.maxTime.getSeconds());\n            var currentTime = calculateSecondsSinceMidnight(hours, minutes, seconds);\n            if (currentTime > maxBound && currentTime < minBound) {\n                var result = parseSeconds(minBound);\n                hours = result[0];\n                minutes = result[1];\n                seconds = result[2];\n            }\n        }\n        else {\n            if (limitMaxHours) {\n                var maxTime = self.config.maxTime !== undefined\n                    ? self.config.maxTime\n                    : self.config.maxDate;\n                hours = Math.min(hours, maxTime.getHours());\n                if (hours === maxTime.getHours())\n                    minutes = Math.min(minutes, maxTime.getMinutes());\n                if (minutes === maxTime.getMinutes())\n                    seconds = Math.min(seconds, maxTime.getSeconds());\n            }\n            if (limitMinHours) {\n                var minTime = self.config.minTime !== undefined\n                    ? self.config.minTime\n                    : self.config.minDate;\n                hours = Math.max(hours, minTime.getHours());\n                if (hours === minTime.getHours() && minutes < minTime.getMinutes())\n                    minutes = minTime.getMinutes();\n                if (minutes === minTime.getMinutes())\n                    seconds = Math.max(seconds, minTime.getSeconds());\n            }\n        }\n        setHours(hours, minutes, seconds);\n    }\n    function setHoursFromDate(dateObj) {\n        var date = dateObj || self.latestSelectedDateObj;\n        if (date && date instanceof Date) {\n            setHours(date.getHours(), date.getMinutes(), date.getSeconds());\n        }\n    }\n    function setHours(hours, minutes, seconds) {\n        if (self.latestSelectedDateObj !== undefined) {\n            self.latestSelectedDateObj.setHours(hours % 24, minutes, seconds || 0, 0);\n        }\n        if (!self.hourElement || !self.minuteElement || self.isMobile)\n            return;\n        self.hourElement.value = pad(!self.config.time_24hr\n            ? ((12 + hours) % 12) + 12 * int(hours % 12 === 0)\n            : hours);\n        self.minuteElement.value = pad(minutes);\n        if (self.amPM !== undefined)\n            self.amPM.textContent = self.l10n.amPM[int(hours >= 12)];\n        if (self.secondElement !== undefined)\n            self.secondElement.value = pad(seconds);\n    }\n    function onYearInput(event) {\n        var eventTarget = getEventTarget(event);\n        var year = parseInt(eventTarget.value) + (event.delta || 0);\n        if (year / 1000 > 1 ||\n            (event.key === \"Enter\" && !/[^\\d]/.test(year.toString()))) {\n            changeYear(year);\n        }\n    }\n    function bind(element, event, handler, options) {\n        if (event instanceof Array)\n            return event.forEach(function (ev) { return bind(element, ev, handler, options); });\n        if (element instanceof Array)\n            return element.forEach(function (el) { return bind(el, event, handler, options); });\n        element.addEventListener(event, handler, options);\n        self._handlers.push({\n            remove: function () { return element.removeEventListener(event, handler, options); },\n        });\n    }\n    function triggerChange() {\n        triggerEvent(\"onChange\");\n    }\n    function bindEvents() {\n        if (self.config.wrap) {\n            [\"open\", \"close\", \"toggle\", \"clear\"].forEach(function (evt) {\n                Array.prototype.forEach.call(self.element.querySelectorAll(\"[data-\" + evt + \"]\"), function (el) {\n                    return bind(el, \"click\", self[evt]);\n                });\n            });\n        }\n        if (self.isMobile) {\n            setupMobile();\n            return;\n        }\n        var debouncedResize = debounce(onResize, 50);\n        self._debouncedChange = debounce(triggerChange, DEBOUNCED_CHANGE_MS);\n        if (self.daysContainer && !/iPhone|iPad|iPod/i.test(navigator.userAgent))\n            bind(self.daysContainer, \"mouseover\", function (e) {\n                if (self.config.mode === \"range\")\n                    onMouseOver(getEventTarget(e));\n            });\n        bind(self._input, \"keydown\", onKeyDown);\n        if (self.calendarContainer !== undefined) {\n            bind(self.calendarContainer, \"keydown\", onKeyDown);\n        }\n        if (!self.config.inline && !self.config.static)\n            bind(window, \"resize\", debouncedResize);\n        if (window.ontouchstart !== undefined)\n            bind(window.document, \"touchstart\", documentClick);\n        else\n            bind(window.document, \"mousedown\", documentClick);\n        bind(window.document, \"focus\", documentClick, { capture: true });\n        if (self.config.clickOpens === true) {\n            bind(self._input, \"focus\", self.open);\n            bind(self._input, \"click\", self.open);\n        }\n        if (self.daysContainer !== undefined) {\n            bind(self.monthNav, \"click\", onMonthNavClick);\n            bind(self.monthNav, [\"keyup\", \"increment\"], onYearInput);\n            bind(self.daysContainer, \"click\", selectDate);\n        }\n        if (self.timeContainer !== undefined &&\n            self.minuteElement !== undefined &&\n            self.hourElement !== undefined) {\n            var selText = function (e) {\n                return getEventTarget(e).select();\n            };\n            bind(self.timeContainer, [\"increment\"], updateTime);\n            bind(self.timeContainer, \"blur\", updateTime, { capture: true });\n            bind(self.timeContainer, \"click\", timeIncrement);\n            bind([self.hourElement, self.minuteElement], [\"focus\", \"click\"], selText);\n            if (self.secondElement !== undefined)\n                bind(self.secondElement, \"focus\", function () { return self.secondElement && self.secondElement.select(); });\n            if (self.amPM !== undefined) {\n                bind(self.amPM, \"click\", function (e) {\n                    updateTime(e);\n                });\n            }\n        }\n        if (self.config.allowInput) {\n            bind(self._input, \"blur\", onBlur);\n        }\n    }\n    function jumpToDate(jumpDate, triggerChange) {\n        var jumpTo = jumpDate !== undefined\n            ? self.parseDate(jumpDate)\n            : self.latestSelectedDateObj ||\n                (self.config.minDate && self.config.minDate > self.now\n                    ? self.config.minDate\n                    : self.config.maxDate && self.config.maxDate < self.now\n                        ? self.config.maxDate\n                        : self.now);\n        var oldYear = self.currentYear;\n        var oldMonth = self.currentMonth;\n        try {\n            if (jumpTo !== undefined) {\n                self.currentYear = jumpTo.getFullYear();\n                self.currentMonth = jumpTo.getMonth();\n            }\n        }\n        catch (e) {\n            e.message = \"Invalid date supplied: \" + jumpTo;\n            self.config.errorHandler(e);\n        }\n        if (triggerChange && self.currentYear !== oldYear) {\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n        if (triggerChange &&\n            (self.currentYear !== oldYear || self.currentMonth !== oldMonth)) {\n            triggerEvent(\"onMonthChange\");\n        }\n        self.redraw();\n    }\n    function timeIncrement(e) {\n        var eventTarget = getEventTarget(e);\n        if (~eventTarget.className.indexOf(\"arrow\"))\n            incrementNumInput(e, eventTarget.classList.contains(\"arrowUp\") ? 1 : -1);\n    }\n    function incrementNumInput(e, delta, inputElem) {\n        var target = e && getEventTarget(e);\n        var input = inputElem ||\n            (target && target.parentNode && target.parentNode.firstChild);\n        var event = createEvent(\"increment\");\n        event.delta = delta;\n        input && input.dispatchEvent(event);\n    }\n    function build() {\n        var fragment = window.document.createDocumentFragment();\n        self.calendarContainer = createElement(\"div\", \"flatpickr-calendar\");\n        self.calendarContainer.tabIndex = -1;\n        if (!self.config.noCalendar) {\n            fragment.appendChild(buildMonthNav());\n            self.innerContainer = createElement(\"div\", \"flatpickr-innerContainer\");\n            if (self.config.weekNumbers) {\n                var _a = buildWeeks(), weekWrapper = _a.weekWrapper, weekNumbers = _a.weekNumbers;\n                self.innerContainer.appendChild(weekWrapper);\n                self.weekNumbers = weekNumbers;\n                self.weekWrapper = weekWrapper;\n            }\n            self.rContainer = createElement(\"div\", \"flatpickr-rContainer\");\n            self.rContainer.appendChild(buildWeekdays());\n            if (!self.daysContainer) {\n                self.daysContainer = createElement(\"div\", \"flatpickr-days\");\n                self.daysContainer.tabIndex = -1;\n            }\n            buildDays();\n            self.rContainer.appendChild(self.daysContainer);\n            self.innerContainer.appendChild(self.rContainer);\n            fragment.appendChild(self.innerContainer);\n        }\n        if (self.config.enableTime) {\n            fragment.appendChild(buildTime());\n        }\n        toggleClass(self.calendarContainer, \"rangeMode\", self.config.mode === \"range\");\n        toggleClass(self.calendarContainer, \"animate\", self.config.animate === true);\n        toggleClass(self.calendarContainer, \"multiMonth\", self.config.showMonths > 1);\n        self.calendarContainer.appendChild(fragment);\n        var customAppend = self.config.appendTo !== undefined &&\n            self.config.appendTo.nodeType !== undefined;\n        if (self.config.inline || self.config.static) {\n            self.calendarContainer.classList.add(self.config.inline ? \"inline\" : \"static\");\n            if (self.config.inline) {\n                if (!customAppend && self.element.parentNode)\n                    self.element.parentNode.insertBefore(self.calendarContainer, self._input.nextSibling);\n                else if (self.config.appendTo !== undefined)\n                    self.config.appendTo.appendChild(self.calendarContainer);\n            }\n            if (self.config.static) {\n                var wrapper = createElement(\"div\", \"flatpickr-wrapper\");\n                if (self.element.parentNode)\n                    self.element.parentNode.insertBefore(wrapper, self.element);\n                wrapper.appendChild(self.element);\n                if (self.altInput)\n                    wrapper.appendChild(self.altInput);\n                wrapper.appendChild(self.calendarContainer);\n            }\n        }\n        if (!self.config.static && !self.config.inline)\n            (self.config.appendTo !== undefined\n                ? self.config.appendTo\n                : window.document.body).appendChild(self.calendarContainer);\n    }\n    function createDay(className, date, _dayNumber, i) {\n        var dateIsEnabled = isEnabled(date, true), dayElement = createElement(\"span\", className, date.getDate().toString());\n        dayElement.dateObj = date;\n        dayElement.$i = i;\n        dayElement.setAttribute(\"aria-label\", self.formatDate(date, self.config.ariaDateFormat));\n        if (className.indexOf(\"hidden\") === -1 &&\n            compareDates(date, self.now) === 0) {\n            self.todayDateElem = dayElement;\n            dayElement.classList.add(\"today\");\n            dayElement.setAttribute(\"aria-current\", \"date\");\n        }\n        if (dateIsEnabled) {\n            dayElement.tabIndex = -1;\n            if (isDateSelected(date)) {\n                dayElement.classList.add(\"selected\");\n                self.selectedDateElem = dayElement;\n                if (self.config.mode === \"range\") {\n                    toggleClass(dayElement, \"startRange\", self.selectedDates[0] &&\n                        compareDates(date, self.selectedDates[0], true) === 0);\n                    toggleClass(dayElement, \"endRange\", self.selectedDates[1] &&\n                        compareDates(date, self.selectedDates[1], true) === 0);\n                    if (className === \"nextMonthDay\")\n                        dayElement.classList.add(\"inRange\");\n                }\n            }\n        }\n        else {\n            dayElement.classList.add(\"flatpickr-disabled\");\n        }\n        if (self.config.mode === \"range\") {\n            if (isDateInRange(date) && !isDateSelected(date))\n                dayElement.classList.add(\"inRange\");\n        }\n        if (self.weekNumbers &&\n            self.config.showMonths === 1 &&\n            className !== \"prevMonthDay\" &&\n            i % 7 === 6) {\n            self.weekNumbers.insertAdjacentHTML(\"beforeend\", \"<span class='flatpickr-day'>\" + self.config.getWeek(date) + \"</span>\");\n        }\n        triggerEvent(\"onDayCreate\", dayElement);\n        return dayElement;\n    }\n    function focusOnDayElem(targetNode) {\n        targetNode.focus();\n        if (self.config.mode === \"range\")\n            onMouseOver(targetNode);\n    }\n    function getFirstAvailableDay(delta) {\n        var startMonth = delta > 0 ? 0 : self.config.showMonths - 1;\n        var endMonth = delta > 0 ? self.config.showMonths : -1;\n        for (var m = startMonth; m != endMonth; m += delta) {\n            var month = self.daysContainer.children[m];\n            var startIndex = delta > 0 ? 0 : month.children.length - 1;\n            var endIndex = delta > 0 ? month.children.length : -1;\n            for (var i = startIndex; i != endIndex; i += delta) {\n                var c = month.children[i];\n                if (c.className.indexOf(\"hidden\") === -1 && isEnabled(c.dateObj))\n                    return c;\n            }\n        }\n        return undefined;\n    }\n    function getNextAvailableDay(current, delta) {\n        var givenMonth = current.className.indexOf(\"Month\") === -1\n            ? current.dateObj.getMonth()\n            : self.currentMonth;\n        var endMonth = delta > 0 ? self.config.showMonths : -1;\n        var loopDelta = delta > 0 ? 1 : -1;\n        for (var m = givenMonth - self.currentMonth; m != endMonth; m += loopDelta) {\n            var month = self.daysContainer.children[m];\n            var startIndex = givenMonth - self.currentMonth === m\n                ? current.$i + delta\n                : delta < 0\n                    ? month.children.length - 1\n                    : 0;\n            var numMonthDays = month.children.length;\n            for (var i = startIndex; i >= 0 && i < numMonthDays && i != (delta > 0 ? numMonthDays : -1); i += loopDelta) {\n                var c = month.children[i];\n                if (c.className.indexOf(\"hidden\") === -1 &&\n                    isEnabled(c.dateObj) &&\n                    Math.abs(current.$i - i) >= Math.abs(delta))\n                    return focusOnDayElem(c);\n            }\n        }\n        self.changeMonth(loopDelta);\n        focusOnDay(getFirstAvailableDay(loopDelta), 0);\n        return undefined;\n    }\n    function focusOnDay(current, offset) {\n        var activeElement = getClosestActiveElement();\n        var dayFocused = isInView(activeElement || document.body);\n        var startElem = current !== undefined\n            ? current\n            : dayFocused\n                ? activeElement\n                : self.selectedDateElem !== undefined && isInView(self.selectedDateElem)\n                    ? self.selectedDateElem\n                    : self.todayDateElem !== undefined && isInView(self.todayDateElem)\n                        ? self.todayDateElem\n                        : getFirstAvailableDay(offset > 0 ? 1 : -1);\n        if (startElem === undefined) {\n            self._input.focus();\n        }\n        else if (!dayFocused) {\n            focusOnDayElem(startElem);\n        }\n        else {\n            getNextAvailableDay(startElem, offset);\n        }\n    }\n    function buildMonthDays(year, month) {\n        var firstOfMonth = (new Date(year, month, 1).getDay() - self.l10n.firstDayOfWeek + 7) % 7;\n        var prevMonthDays = self.utils.getDaysInMonth((month - 1 + 12) % 12, year);\n        var daysInMonth = self.utils.getDaysInMonth(month, year), days = window.document.createDocumentFragment(), isMultiMonth = self.config.showMonths > 1, prevMonthDayClass = isMultiMonth ? \"prevMonthDay hidden\" : \"prevMonthDay\", nextMonthDayClass = isMultiMonth ? \"nextMonthDay hidden\" : \"nextMonthDay\";\n        var dayNumber = prevMonthDays + 1 - firstOfMonth, dayIndex = 0;\n        for (; dayNumber <= prevMonthDays; dayNumber++, dayIndex++) {\n            days.appendChild(createDay(\"flatpickr-day \" + prevMonthDayClass, new Date(year, month - 1, dayNumber), dayNumber, dayIndex));\n        }\n        for (dayNumber = 1; dayNumber <= daysInMonth; dayNumber++, dayIndex++) {\n            days.appendChild(createDay(\"flatpickr-day\", new Date(year, month, dayNumber), dayNumber, dayIndex));\n        }\n        for (var dayNum = daysInMonth + 1; dayNum <= 42 - firstOfMonth &&\n            (self.config.showMonths === 1 || dayIndex % 7 !== 0); dayNum++, dayIndex++) {\n            days.appendChild(createDay(\"flatpickr-day \" + nextMonthDayClass, new Date(year, month + 1, dayNum % daysInMonth), dayNum, dayIndex));\n        }\n        var dayContainer = createElement(\"div\", \"dayContainer\");\n        dayContainer.appendChild(days);\n        return dayContainer;\n    }\n    function buildDays() {\n        if (self.daysContainer === undefined) {\n            return;\n        }\n        clearNode(self.daysContainer);\n        if (self.weekNumbers)\n            clearNode(self.weekNumbers);\n        var frag = document.createDocumentFragment();\n        for (var i = 0; i < self.config.showMonths; i++) {\n            var d = new Date(self.currentYear, self.currentMonth, 1);\n            d.setMonth(self.currentMonth + i);\n            frag.appendChild(buildMonthDays(d.getFullYear(), d.getMonth()));\n        }\n        self.daysContainer.appendChild(frag);\n        self.days = self.daysContainer.firstChild;\n        if (self.config.mode === \"range\" && self.selectedDates.length === 1) {\n            onMouseOver();\n        }\n    }\n    function buildMonthSwitch() {\n        if (self.config.showMonths > 1 ||\n            self.config.monthSelectorType !== \"dropdown\")\n            return;\n        var shouldBuildMonth = function (month) {\n            if (self.config.minDate !== undefined &&\n                self.currentYear === self.config.minDate.getFullYear() &&\n                month < self.config.minDate.getMonth()) {\n                return false;\n            }\n            return !(self.config.maxDate !== undefined &&\n                self.currentYear === self.config.maxDate.getFullYear() &&\n                month > self.config.maxDate.getMonth());\n        };\n        self.monthsDropdownContainer.tabIndex = -1;\n        self.monthsDropdownContainer.innerHTML = \"\";\n        for (var i = 0; i < 12; i++) {\n            if (!shouldBuildMonth(i))\n                continue;\n            var month = createElement(\"option\", \"flatpickr-monthDropdown-month\");\n            month.value = new Date(self.currentYear, i).getMonth().toString();\n            month.textContent = monthToStr(i, self.config.shorthandCurrentMonth, self.l10n);\n            month.tabIndex = -1;\n            if (self.currentMonth === i) {\n                month.selected = true;\n            }\n            self.monthsDropdownContainer.appendChild(month);\n        }\n    }\n    function buildMonth() {\n        var container = createElement(\"div\", \"flatpickr-month\");\n        var monthNavFragment = window.document.createDocumentFragment();\n        var monthElement;\n        if (self.config.showMonths > 1 ||\n            self.config.monthSelectorType === \"static\") {\n            monthElement = createElement(\"span\", \"cur-month\");\n        }\n        else {\n            self.monthsDropdownContainer = createElement(\"select\", \"flatpickr-monthDropdown-months\");\n            self.monthsDropdownContainer.setAttribute(\"aria-label\", self.l10n.monthAriaLabel);\n            bind(self.monthsDropdownContainer, \"change\", function (e) {\n                var target = getEventTarget(e);\n                var selectedMonth = parseInt(target.value, 10);\n                self.changeMonth(selectedMonth - self.currentMonth);\n                triggerEvent(\"onMonthChange\");\n            });\n            buildMonthSwitch();\n            monthElement = self.monthsDropdownContainer;\n        }\n        var yearInput = createNumberInput(\"cur-year\", { tabindex: \"-1\" });\n        var yearElement = yearInput.getElementsByTagName(\"input\")[0];\n        yearElement.setAttribute(\"aria-label\", self.l10n.yearAriaLabel);\n        if (self.config.minDate) {\n            yearElement.setAttribute(\"min\", self.config.minDate.getFullYear().toString());\n        }\n        if (self.config.maxDate) {\n            yearElement.setAttribute(\"max\", self.config.maxDate.getFullYear().toString());\n            yearElement.disabled =\n                !!self.config.minDate &&\n                    self.config.minDate.getFullYear() === self.config.maxDate.getFullYear();\n        }\n        var currentMonth = createElement(\"div\", \"flatpickr-current-month\");\n        currentMonth.appendChild(monthElement);\n        currentMonth.appendChild(yearInput);\n        monthNavFragment.appendChild(currentMonth);\n        container.appendChild(monthNavFragment);\n        return {\n            container: container,\n            yearElement: yearElement,\n            monthElement: monthElement,\n        };\n    }\n    function buildMonths() {\n        clearNode(self.monthNav);\n        self.monthNav.appendChild(self.prevMonthNav);\n        if (self.config.showMonths) {\n            self.yearElements = [];\n            self.monthElements = [];\n        }\n        for (var m = self.config.showMonths; m--;) {\n            var month = buildMonth();\n            self.yearElements.push(month.yearElement);\n            self.monthElements.push(month.monthElement);\n            self.monthNav.appendChild(month.container);\n        }\n        self.monthNav.appendChild(self.nextMonthNav);\n    }\n    function buildMonthNav() {\n        self.monthNav = createElement(\"div\", \"flatpickr-months\");\n        self.yearElements = [];\n        self.monthElements = [];\n        self.prevMonthNav = createElement(\"span\", \"flatpickr-prev-month\");\n        self.prevMonthNav.innerHTML = self.config.prevArrow;\n        self.nextMonthNav = createElement(\"span\", \"flatpickr-next-month\");\n        self.nextMonthNav.innerHTML = self.config.nextArrow;\n        buildMonths();\n        Object.defineProperty(self, \"_hidePrevMonthArrow\", {\n            get: function () { return self.__hidePrevMonthArrow; },\n            set: function (bool) {\n                if (self.__hidePrevMonthArrow !== bool) {\n                    toggleClass(self.prevMonthNav, \"flatpickr-disabled\", bool);\n                    self.__hidePrevMonthArrow = bool;\n                }\n            },\n        });\n        Object.defineProperty(self, \"_hideNextMonthArrow\", {\n            get: function () { return self.__hideNextMonthArrow; },\n            set: function (bool) {\n                if (self.__hideNextMonthArrow !== bool) {\n                    toggleClass(self.nextMonthNav, \"flatpickr-disabled\", bool);\n                    self.__hideNextMonthArrow = bool;\n                }\n            },\n        });\n        self.currentYearElement = self.yearElements[0];\n        updateNavigationCurrentMonth();\n        return self.monthNav;\n    }\n    function buildTime() {\n        self.calendarContainer.classList.add(\"hasTime\");\n        if (self.config.noCalendar)\n            self.calendarContainer.classList.add(\"noCalendar\");\n        var defaults = getDefaultHours(self.config);\n        self.timeContainer = createElement(\"div\", \"flatpickr-time\");\n        self.timeContainer.tabIndex = -1;\n        var separator = createElement(\"span\", \"flatpickr-time-separator\", \":\");\n        var hourInput = createNumberInput(\"flatpickr-hour\", {\n            \"aria-label\": self.l10n.hourAriaLabel,\n        });\n        self.hourElement = hourInput.getElementsByTagName(\"input\")[0];\n        var minuteInput = createNumberInput(\"flatpickr-minute\", {\n            \"aria-label\": self.l10n.minuteAriaLabel,\n        });\n        self.minuteElement = minuteInput.getElementsByTagName(\"input\")[0];\n        self.hourElement.tabIndex = self.minuteElement.tabIndex = -1;\n        self.hourElement.value = pad(self.latestSelectedDateObj\n            ? self.latestSelectedDateObj.getHours()\n            : self.config.time_24hr\n                ? defaults.hours\n                : military2ampm(defaults.hours));\n        self.minuteElement.value = pad(self.latestSelectedDateObj\n            ? self.latestSelectedDateObj.getMinutes()\n            : defaults.minutes);\n        self.hourElement.setAttribute(\"step\", self.config.hourIncrement.toString());\n        self.minuteElement.setAttribute(\"step\", self.config.minuteIncrement.toString());\n        self.hourElement.setAttribute(\"min\", self.config.time_24hr ? \"0\" : \"1\");\n        self.hourElement.setAttribute(\"max\", self.config.time_24hr ? \"23\" : \"12\");\n        self.hourElement.setAttribute(\"maxlength\", \"2\");\n        self.minuteElement.setAttribute(\"min\", \"0\");\n        self.minuteElement.setAttribute(\"max\", \"59\");\n        self.minuteElement.setAttribute(\"maxlength\", \"2\");\n        self.timeContainer.appendChild(hourInput);\n        self.timeContainer.appendChild(separator);\n        self.timeContainer.appendChild(minuteInput);\n        if (self.config.time_24hr)\n            self.timeContainer.classList.add(\"time24hr\");\n        if (self.config.enableSeconds) {\n            self.timeContainer.classList.add(\"hasSeconds\");\n            var secondInput = createNumberInput(\"flatpickr-second\");\n            self.secondElement = secondInput.getElementsByTagName(\"input\")[0];\n            self.secondElement.value = pad(self.latestSelectedDateObj\n                ? self.latestSelectedDateObj.getSeconds()\n                : defaults.seconds);\n            self.secondElement.setAttribute(\"step\", self.minuteElement.getAttribute(\"step\"));\n            self.secondElement.setAttribute(\"min\", \"0\");\n            self.secondElement.setAttribute(\"max\", \"59\");\n            self.secondElement.setAttribute(\"maxlength\", \"2\");\n            self.timeContainer.appendChild(createElement(\"span\", \"flatpickr-time-separator\", \":\"));\n            self.timeContainer.appendChild(secondInput);\n        }\n        if (!self.config.time_24hr) {\n            self.amPM = createElement(\"span\", \"flatpickr-am-pm\", self.l10n.amPM[int((self.latestSelectedDateObj\n                ? self.hourElement.value\n                : self.config.defaultHour) > 11)]);\n            self.amPM.title = self.l10n.toggleTitle;\n            self.amPM.tabIndex = -1;\n            self.timeContainer.appendChild(self.amPM);\n        }\n        return self.timeContainer;\n    }\n    function buildWeekdays() {\n        if (!self.weekdayContainer)\n            self.weekdayContainer = createElement(\"div\", \"flatpickr-weekdays\");\n        else\n            clearNode(self.weekdayContainer);\n        for (var i = self.config.showMonths; i--;) {\n            var container = createElement(\"div\", \"flatpickr-weekdaycontainer\");\n            self.weekdayContainer.appendChild(container);\n        }\n        updateWeekdays();\n        return self.weekdayContainer;\n    }\n    function updateWeekdays() {\n        if (!self.weekdayContainer) {\n            return;\n        }\n        var firstDayOfWeek = self.l10n.firstDayOfWeek;\n        var weekdays = __spreadArrays(self.l10n.weekdays.shorthand);\n        if (firstDayOfWeek > 0 && firstDayOfWeek < weekdays.length) {\n            weekdays = __spreadArrays(weekdays.splice(firstDayOfWeek, weekdays.length), weekdays.splice(0, firstDayOfWeek));\n        }\n        for (var i = self.config.showMonths; i--;) {\n            self.weekdayContainer.children[i].innerHTML = \"\\n      <span class='flatpickr-weekday'>\\n        \" + weekdays.join(\"</span><span class='flatpickr-weekday'>\") + \"\\n      </span>\\n      \";\n        }\n    }\n    function buildWeeks() {\n        self.calendarContainer.classList.add(\"hasWeeks\");\n        var weekWrapper = createElement(\"div\", \"flatpickr-weekwrapper\");\n        weekWrapper.appendChild(createElement(\"span\", \"flatpickr-weekday\", self.l10n.weekAbbreviation));\n        var weekNumbers = createElement(\"div\", \"flatpickr-weeks\");\n        weekWrapper.appendChild(weekNumbers);\n        return {\n            weekWrapper: weekWrapper,\n            weekNumbers: weekNumbers,\n        };\n    }\n    function changeMonth(value, isOffset) {\n        if (isOffset === void 0) { isOffset = true; }\n        var delta = isOffset ? value : value - self.currentMonth;\n        if ((delta < 0 && self._hidePrevMonthArrow === true) ||\n            (delta > 0 && self._hideNextMonthArrow === true))\n            return;\n        self.currentMonth += delta;\n        if (self.currentMonth < 0 || self.currentMonth > 11) {\n            self.currentYear += self.currentMonth > 11 ? 1 : -1;\n            self.currentMonth = (self.currentMonth + 12) % 12;\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n        buildDays();\n        triggerEvent(\"onMonthChange\");\n        updateNavigationCurrentMonth();\n    }\n    function clear(triggerChangeEvent, toInitial) {\n        if (triggerChangeEvent === void 0) { triggerChangeEvent = true; }\n        if (toInitial === void 0) { toInitial = true; }\n        self.input.value = \"\";\n        if (self.altInput !== undefined)\n            self.altInput.value = \"\";\n        if (self.mobileInput !== undefined)\n            self.mobileInput.value = \"\";\n        self.selectedDates = [];\n        self.latestSelectedDateObj = undefined;\n        if (toInitial === true) {\n            self.currentYear = self._initialDate.getFullYear();\n            self.currentMonth = self._initialDate.getMonth();\n        }\n        if (self.config.enableTime === true) {\n            var _a = getDefaultHours(self.config), hours = _a.hours, minutes = _a.minutes, seconds = _a.seconds;\n            setHours(hours, minutes, seconds);\n        }\n        self.redraw();\n        if (triggerChangeEvent)\n            triggerEvent(\"onChange\");\n    }\n    function close() {\n        self.isOpen = false;\n        if (!self.isMobile) {\n            if (self.calendarContainer !== undefined) {\n                self.calendarContainer.classList.remove(\"open\");\n            }\n            if (self._input !== undefined) {\n                self._input.classList.remove(\"active\");\n            }\n        }\n        triggerEvent(\"onClose\");\n    }\n    function destroy() {\n        if (self.config !== undefined)\n            triggerEvent(\"onDestroy\");\n        for (var i = self._handlers.length; i--;) {\n            self._handlers[i].remove();\n        }\n        self._handlers = [];\n        if (self.mobileInput) {\n            if (self.mobileInput.parentNode)\n                self.mobileInput.parentNode.removeChild(self.mobileInput);\n            self.mobileInput = undefined;\n        }\n        else if (self.calendarContainer && self.calendarContainer.parentNode) {\n            if (self.config.static && self.calendarContainer.parentNode) {\n                var wrapper = self.calendarContainer.parentNode;\n                wrapper.lastChild && wrapper.removeChild(wrapper.lastChild);\n                if (wrapper.parentNode) {\n                    while (wrapper.firstChild)\n                        wrapper.parentNode.insertBefore(wrapper.firstChild, wrapper);\n                    wrapper.parentNode.removeChild(wrapper);\n                }\n            }\n            else\n                self.calendarContainer.parentNode.removeChild(self.calendarContainer);\n        }\n        if (self.altInput) {\n            self.input.type = \"text\";\n            if (self.altInput.parentNode)\n                self.altInput.parentNode.removeChild(self.altInput);\n            delete self.altInput;\n        }\n        if (self.input) {\n            self.input.type = self.input._type;\n            self.input.classList.remove(\"flatpickr-input\");\n            self.input.removeAttribute(\"readonly\");\n        }\n        [\n            \"_showTimeInput\",\n            \"latestSelectedDateObj\",\n            \"_hideNextMonthArrow\",\n            \"_hidePrevMonthArrow\",\n            \"__hideNextMonthArrow\",\n            \"__hidePrevMonthArrow\",\n            \"isMobile\",\n            \"isOpen\",\n            \"selectedDateElem\",\n            \"minDateHasTime\",\n            \"maxDateHasTime\",\n            \"days\",\n            \"daysContainer\",\n            \"_input\",\n            \"_positionElement\",\n            \"innerContainer\",\n            \"rContainer\",\n            \"monthNav\",\n            \"todayDateElem\",\n            \"calendarContainer\",\n            \"weekdayContainer\",\n            \"prevMonthNav\",\n            \"nextMonthNav\",\n            \"monthsDropdownContainer\",\n            \"currentMonthElement\",\n            \"currentYearElement\",\n            \"navigationCurrentMonth\",\n            \"selectedDateElem\",\n            \"config\",\n        ].forEach(function (k) {\n            try {\n                delete self[k];\n            }\n            catch (_) { }\n        });\n    }\n    function isCalendarElem(elem) {\n        return self.calendarContainer.contains(elem);\n    }\n    function documentClick(e) {\n        if (self.isOpen && !self.config.inline) {\n            var eventTarget_1 = getEventTarget(e);\n            var isCalendarElement = isCalendarElem(eventTarget_1);\n            var isInput = eventTarget_1 === self.input ||\n                eventTarget_1 === self.altInput ||\n                self.element.contains(eventTarget_1) ||\n                (e.path &&\n                    e.path.indexOf &&\n                    (~e.path.indexOf(self.input) ||\n                        ~e.path.indexOf(self.altInput)));\n            var lostFocus = !isInput &&\n                !isCalendarElement &&\n                !isCalendarElem(e.relatedTarget);\n            var isIgnored = !self.config.ignoredFocusElements.some(function (elem) {\n                return elem.contains(eventTarget_1);\n            });\n            if (lostFocus && isIgnored) {\n                if (self.config.allowInput) {\n                    self.setDate(self._input.value, false, self.config.altInput\n                        ? self.config.altFormat\n                        : self.config.dateFormat);\n                }\n                if (self.timeContainer !== undefined &&\n                    self.minuteElement !== undefined &&\n                    self.hourElement !== undefined &&\n                    self.input.value !== \"\" &&\n                    self.input.value !== undefined) {\n                    updateTime();\n                }\n                self.close();\n                if (self.config &&\n                    self.config.mode === \"range\" &&\n                    self.selectedDates.length === 1)\n                    self.clear(false);\n            }\n        }\n    }\n    function changeYear(newYear) {\n        if (!newYear ||\n            (self.config.minDate && newYear < self.config.minDate.getFullYear()) ||\n            (self.config.maxDate && newYear > self.config.maxDate.getFullYear()))\n            return;\n        var newYearNum = newYear, isNewYear = self.currentYear !== newYearNum;\n        self.currentYear = newYearNum || self.currentYear;\n        if (self.config.maxDate &&\n            self.currentYear === self.config.maxDate.getFullYear()) {\n            self.currentMonth = Math.min(self.config.maxDate.getMonth(), self.currentMonth);\n        }\n        else if (self.config.minDate &&\n            self.currentYear === self.config.minDate.getFullYear()) {\n            self.currentMonth = Math.max(self.config.minDate.getMonth(), self.currentMonth);\n        }\n        if (isNewYear) {\n            self.redraw();\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n    }\n    function isEnabled(date, timeless) {\n        var _a;\n        if (timeless === void 0) { timeless = true; }\n        var dateToCheck = self.parseDate(date, undefined, timeless);\n        if ((self.config.minDate &&\n            dateToCheck &&\n            compareDates(dateToCheck, self.config.minDate, timeless !== undefined ? timeless : !self.minDateHasTime) < 0) ||\n            (self.config.maxDate &&\n                dateToCheck &&\n                compareDates(dateToCheck, self.config.maxDate, timeless !== undefined ? timeless : !self.maxDateHasTime) > 0))\n            return false;\n        if (!self.config.enable && self.config.disable.length === 0)\n            return true;\n        if (dateToCheck === undefined)\n            return false;\n        var bool = !!self.config.enable, array = (_a = self.config.enable) !== null && _a !== void 0 ? _a : self.config.disable;\n        for (var i = 0, d = void 0; i < array.length; i++) {\n            d = array[i];\n            if (typeof d === \"function\" &&\n                d(dateToCheck))\n                return bool;\n            else if (d instanceof Date &&\n                dateToCheck !== undefined &&\n                d.getTime() === dateToCheck.getTime())\n                return bool;\n            else if (typeof d === \"string\") {\n                var parsed = self.parseDate(d, undefined, true);\n                return parsed && parsed.getTime() === dateToCheck.getTime()\n                    ? bool\n                    : !bool;\n            }\n            else if (typeof d === \"object\" &&\n                dateToCheck !== undefined &&\n                d.from &&\n                d.to &&\n                dateToCheck.getTime() >= d.from.getTime() &&\n                dateToCheck.getTime() <= d.to.getTime())\n                return bool;\n        }\n        return !bool;\n    }\n    function isInView(elem) {\n        if (self.daysContainer !== undefined)\n            return (elem.className.indexOf(\"hidden\") === -1 &&\n                elem.className.indexOf(\"flatpickr-disabled\") === -1 &&\n                self.daysContainer.contains(elem));\n        return false;\n    }\n    function onBlur(e) {\n        var isInput = e.target === self._input;\n        var valueChanged = self._input.value.trimEnd() !== getDateStr();\n        if (isInput &&\n            valueChanged &&\n            !(e.relatedTarget && isCalendarElem(e.relatedTarget))) {\n            self.setDate(self._input.value, true, e.target === self.altInput\n                ? self.config.altFormat\n                : self.config.dateFormat);\n        }\n    }\n    function onKeyDown(e) {\n        var eventTarget = getEventTarget(e);\n        var isInput = self.config.wrap\n            ? element.contains(eventTarget)\n            : eventTarget === self._input;\n        var allowInput = self.config.allowInput;\n        var allowKeydown = self.isOpen && (!allowInput || !isInput);\n        var allowInlineKeydown = self.config.inline && isInput && !allowInput;\n        if (e.keyCode === 13 && isInput) {\n            if (allowInput) {\n                self.setDate(self._input.value, true, eventTarget === self.altInput\n                    ? self.config.altFormat\n                    : self.config.dateFormat);\n                self.close();\n                return eventTarget.blur();\n            }\n            else {\n                self.open();\n            }\n        }\n        else if (isCalendarElem(eventTarget) ||\n            allowKeydown ||\n            allowInlineKeydown) {\n            var isTimeObj = !!self.timeContainer &&\n                self.timeContainer.contains(eventTarget);\n            switch (e.keyCode) {\n                case 13:\n                    if (isTimeObj) {\n                        e.preventDefault();\n                        updateTime();\n                        focusAndClose();\n                    }\n                    else\n                        selectDate(e);\n                    break;\n                case 27:\n                    e.preventDefault();\n                    focusAndClose();\n                    break;\n                case 8:\n                case 46:\n                    if (isInput && !self.config.allowInput) {\n                        e.preventDefault();\n                        self.clear();\n                    }\n                    break;\n                case 37:\n                case 39:\n                    if (!isTimeObj && !isInput) {\n                        e.preventDefault();\n                        var activeElement = getClosestActiveElement();\n                        if (self.daysContainer !== undefined &&\n                            (allowInput === false ||\n                                (activeElement && isInView(activeElement)))) {\n                            var delta_1 = e.keyCode === 39 ? 1 : -1;\n                            if (!e.ctrlKey)\n                                focusOnDay(undefined, delta_1);\n                            else {\n                                e.stopPropagation();\n                                changeMonth(delta_1);\n                                focusOnDay(getFirstAvailableDay(1), 0);\n                            }\n                        }\n                    }\n                    else if (self.hourElement)\n                        self.hourElement.focus();\n                    break;\n                case 38:\n                case 40:\n                    e.preventDefault();\n                    var delta = e.keyCode === 40 ? 1 : -1;\n                    if ((self.daysContainer &&\n                        eventTarget.$i !== undefined) ||\n                        eventTarget === self.input ||\n                        eventTarget === self.altInput) {\n                        if (e.ctrlKey) {\n                            e.stopPropagation();\n                            changeYear(self.currentYear - delta);\n                            focusOnDay(getFirstAvailableDay(1), 0);\n                        }\n                        else if (!isTimeObj)\n                            focusOnDay(undefined, delta * 7);\n                    }\n                    else if (eventTarget === self.currentYearElement) {\n                        changeYear(self.currentYear - delta);\n                    }\n                    else if (self.config.enableTime) {\n                        if (!isTimeObj && self.hourElement)\n                            self.hourElement.focus();\n                        updateTime(e);\n                        self._debouncedChange();\n                    }\n                    break;\n                case 9:\n                    if (isTimeObj) {\n                        var elems = [\n                            self.hourElement,\n                            self.minuteElement,\n                            self.secondElement,\n                            self.amPM,\n                        ]\n                            .concat(self.pluginElements)\n                            .filter(function (x) { return x; });\n                        var i = elems.indexOf(eventTarget);\n                        if (i !== -1) {\n                            var target = elems[i + (e.shiftKey ? -1 : 1)];\n                            e.preventDefault();\n                            (target || self._input).focus();\n                        }\n                    }\n                    else if (!self.config.noCalendar &&\n                        self.daysContainer &&\n                        self.daysContainer.contains(eventTarget) &&\n                        e.shiftKey) {\n                        e.preventDefault();\n                        self._input.focus();\n                    }\n                    break;\n                default:\n                    break;\n            }\n        }\n        if (self.amPM !== undefined && eventTarget === self.amPM) {\n            switch (e.key) {\n                case self.l10n.amPM[0].charAt(0):\n                case self.l10n.amPM[0].charAt(0).toLowerCase():\n                    self.amPM.textContent = self.l10n.amPM[0];\n                    setHoursFromInputs();\n                    updateValue();\n                    break;\n                case self.l10n.amPM[1].charAt(0):\n                case self.l10n.amPM[1].charAt(0).toLowerCase():\n                    self.amPM.textContent = self.l10n.amPM[1];\n                    setHoursFromInputs();\n                    updateValue();\n                    break;\n            }\n        }\n        if (isInput || isCalendarElem(eventTarget)) {\n            triggerEvent(\"onKeyDown\", e);\n        }\n    }\n    function onMouseOver(elem, cellClass) {\n        if (cellClass === void 0) { cellClass = \"flatpickr-day\"; }\n        if (self.selectedDates.length !== 1 ||\n            (elem &&\n                (!elem.classList.contains(cellClass) ||\n                    elem.classList.contains(\"flatpickr-disabled\"))))\n            return;\n        var hoverDate = elem\n            ? elem.dateObj.getTime()\n            : self.days.firstElementChild.dateObj.getTime(), initialDate = self.parseDate(self.selectedDates[0], undefined, true).getTime(), rangeStartDate = Math.min(hoverDate, self.selectedDates[0].getTime()), rangeEndDate = Math.max(hoverDate, self.selectedDates[0].getTime());\n        var containsDisabled = false;\n        var minRange = 0, maxRange = 0;\n        for (var t = rangeStartDate; t < rangeEndDate; t += duration.DAY) {\n            if (!isEnabled(new Date(t), true)) {\n                containsDisabled =\n                    containsDisabled || (t > rangeStartDate && t < rangeEndDate);\n                if (t < initialDate && (!minRange || t > minRange))\n                    minRange = t;\n                else if (t > initialDate && (!maxRange || t < maxRange))\n                    maxRange = t;\n            }\n        }\n        var hoverableCells = Array.from(self.rContainer.querySelectorAll(\"*:nth-child(-n+\" + self.config.showMonths + \") > .\" + cellClass));\n        hoverableCells.forEach(function (dayElem) {\n            var date = dayElem.dateObj;\n            var timestamp = date.getTime();\n            var outOfRange = (minRange > 0 && timestamp < minRange) ||\n                (maxRange > 0 && timestamp > maxRange);\n            if (outOfRange) {\n                dayElem.classList.add(\"notAllowed\");\n                [\"inRange\", \"startRange\", \"endRange\"].forEach(function (c) {\n                    dayElem.classList.remove(c);\n                });\n                return;\n            }\n            else if (containsDisabled && !outOfRange)\n                return;\n            [\"startRange\", \"inRange\", \"endRange\", \"notAllowed\"].forEach(function (c) {\n                dayElem.classList.remove(c);\n            });\n            if (elem !== undefined) {\n                elem.classList.add(hoverDate <= self.selectedDates[0].getTime()\n                    ? \"startRange\"\n                    : \"endRange\");\n                if (initialDate < hoverDate && timestamp === initialDate)\n                    dayElem.classList.add(\"startRange\");\n                else if (initialDate > hoverDate && timestamp === initialDate)\n                    dayElem.classList.add(\"endRange\");\n                if (timestamp >= minRange &&\n                    (maxRange === 0 || timestamp <= maxRange) &&\n                    isBetween(timestamp, initialDate, hoverDate))\n                    dayElem.classList.add(\"inRange\");\n            }\n        });\n    }\n    function onResize() {\n        if (self.isOpen && !self.config.static && !self.config.inline)\n            positionCalendar();\n    }\n    function open(e, positionElement) {\n        if (positionElement === void 0) { positionElement = self._positionElement; }\n        if (self.isMobile === true) {\n            if (e) {\n                e.preventDefault();\n                var eventTarget = getEventTarget(e);\n                if (eventTarget) {\n                    eventTarget.blur();\n                }\n            }\n            if (self.mobileInput !== undefined) {\n                self.mobileInput.focus();\n                self.mobileInput.click();\n            }\n            triggerEvent(\"onOpen\");\n            return;\n        }\n        else if (self._input.disabled || self.config.inline) {\n            return;\n        }\n        var wasOpen = self.isOpen;\n        self.isOpen = true;\n        if (!wasOpen) {\n            self.calendarContainer.classList.add(\"open\");\n            self._input.classList.add(\"active\");\n            triggerEvent(\"onOpen\");\n            positionCalendar(positionElement);\n        }\n        if (self.config.enableTime === true && self.config.noCalendar === true) {\n            if (self.config.allowInput === false &&\n                (e === undefined ||\n                    !self.timeContainer.contains(e.relatedTarget))) {\n                setTimeout(function () { return self.hourElement.select(); }, 50);\n            }\n        }\n    }\n    function minMaxDateSetter(type) {\n        return function (date) {\n            var dateObj = (self.config[\"_\" + type + \"Date\"] = self.parseDate(date, self.config.dateFormat));\n            var inverseDateObj = self.config[\"_\" + (type === \"min\" ? \"max\" : \"min\") + \"Date\"];\n            if (dateObj !== undefined) {\n                self[type === \"min\" ? \"minDateHasTime\" : \"maxDateHasTime\"] =\n                    dateObj.getHours() > 0 ||\n                        dateObj.getMinutes() > 0 ||\n                        dateObj.getSeconds() > 0;\n            }\n            if (self.selectedDates) {\n                self.selectedDates = self.selectedDates.filter(function (d) { return isEnabled(d); });\n                if (!self.selectedDates.length && type === \"min\")\n                    setHoursFromDate(dateObj);\n                updateValue();\n            }\n            if (self.daysContainer) {\n                redraw();\n                if (dateObj !== undefined)\n                    self.currentYearElement[type] = dateObj.getFullYear().toString();\n                else\n                    self.currentYearElement.removeAttribute(type);\n                self.currentYearElement.disabled =\n                    !!inverseDateObj &&\n                        dateObj !== undefined &&\n                        inverseDateObj.getFullYear() === dateObj.getFullYear();\n            }\n        };\n    }\n    function parseConfig() {\n        var boolOpts = [\n            \"wrap\",\n            \"weekNumbers\",\n            \"allowInput\",\n            \"allowInvalidPreload\",\n            \"clickOpens\",\n            \"time_24hr\",\n            \"enableTime\",\n            \"noCalendar\",\n            \"altInput\",\n            \"shorthandCurrentMonth\",\n            \"inline\",\n            \"static\",\n            \"enableSeconds\",\n            \"disableMobile\",\n        ];\n        var userConfig = __assign(__assign({}, JSON.parse(JSON.stringify(element.dataset || {}))), instanceConfig);\n        var formats = {};\n        self.config.parseDate = userConfig.parseDate;\n        self.config.formatDate = userConfig.formatDate;\n        Object.defineProperty(self.config, \"enable\", {\n            get: function () { return self.config._enable; },\n            set: function (dates) {\n                self.config._enable = parseDateRules(dates);\n            },\n        });\n        Object.defineProperty(self.config, \"disable\", {\n            get: function () { return self.config._disable; },\n            set: function (dates) {\n                self.config._disable = parseDateRules(dates);\n            },\n        });\n        var timeMode = userConfig.mode === \"time\";\n        if (!userConfig.dateFormat && (userConfig.enableTime || timeMode)) {\n            var defaultDateFormat = flatpickr.defaultConfig.dateFormat || defaultOptions.dateFormat;\n            formats.dateFormat =\n                userConfig.noCalendar || timeMode\n                    ? \"H:i\" + (userConfig.enableSeconds ? \":S\" : \"\")\n                    : defaultDateFormat + \" H:i\" + (userConfig.enableSeconds ? \":S\" : \"\");\n        }\n        if (userConfig.altInput &&\n            (userConfig.enableTime || timeMode) &&\n            !userConfig.altFormat) {\n            var defaultAltFormat = flatpickr.defaultConfig.altFormat || defaultOptions.altFormat;\n            formats.altFormat =\n                userConfig.noCalendar || timeMode\n                    ? \"h:i\" + (userConfig.enableSeconds ? \":S K\" : \" K\")\n                    : defaultAltFormat + (\" h:i\" + (userConfig.enableSeconds ? \":S\" : \"\") + \" K\");\n        }\n        Object.defineProperty(self.config, \"minDate\", {\n            get: function () { return self.config._minDate; },\n            set: minMaxDateSetter(\"min\"),\n        });\n        Object.defineProperty(self.config, \"maxDate\", {\n            get: function () { return self.config._maxDate; },\n            set: minMaxDateSetter(\"max\"),\n        });\n        var minMaxTimeSetter = function (type) { return function (val) {\n            self.config[type === \"min\" ? \"_minTime\" : \"_maxTime\"] = self.parseDate(val, \"H:i:S\");\n        }; };\n        Object.defineProperty(self.config, \"minTime\", {\n            get: function () { return self.config._minTime; },\n            set: minMaxTimeSetter(\"min\"),\n        });\n        Object.defineProperty(self.config, \"maxTime\", {\n            get: function () { return self.config._maxTime; },\n            set: minMaxTimeSetter(\"max\"),\n        });\n        if (userConfig.mode === \"time\") {\n            self.config.noCalendar = true;\n            self.config.enableTime = true;\n        }\n        Object.assign(self.config, formats, userConfig);\n        for (var i = 0; i < boolOpts.length; i++)\n            self.config[boolOpts[i]] =\n                self.config[boolOpts[i]] === true ||\n                    self.config[boolOpts[i]] === \"true\";\n        HOOKS.filter(function (hook) { return self.config[hook] !== undefined; }).forEach(function (hook) {\n            self.config[hook] = arrayify(self.config[hook] || []).map(bindToInstance);\n        });\n        self.isMobile =\n            !self.config.disableMobile &&\n                !self.config.inline &&\n                self.config.mode === \"single\" &&\n                !self.config.disable.length &&\n                !self.config.enable &&\n                !self.config.weekNumbers &&\n                /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n        for (var i = 0; i < self.config.plugins.length; i++) {\n            var pluginConf = self.config.plugins[i](self) || {};\n            for (var key in pluginConf) {\n                if (HOOKS.indexOf(key) > -1) {\n                    self.config[key] = arrayify(pluginConf[key])\n                        .map(bindToInstance)\n                        .concat(self.config[key]);\n                }\n                else if (typeof userConfig[key] === \"undefined\")\n                    self.config[key] = pluginConf[key];\n            }\n        }\n        if (!userConfig.altInputClass) {\n            self.config.altInputClass =\n                getInputElem().className + \" \" + self.config.altInputClass;\n        }\n        triggerEvent(\"onParseConfig\");\n    }\n    function getInputElem() {\n        return self.config.wrap\n            ? element.querySelector(\"[data-input]\")\n            : element;\n    }\n    function setupLocale() {\n        if (typeof self.config.locale !== \"object\" &&\n            typeof flatpickr.l10ns[self.config.locale] === \"undefined\")\n            self.config.errorHandler(new Error(\"flatpickr: invalid locale \" + self.config.locale));\n        self.l10n = __assign(__assign({}, flatpickr.l10ns.default), (typeof self.config.locale === \"object\"\n            ? self.config.locale\n            : self.config.locale !== \"default\"\n                ? flatpickr.l10ns[self.config.locale]\n                : undefined));\n        tokenRegex.D = \"(\" + self.l10n.weekdays.shorthand.join(\"|\") + \")\";\n        tokenRegex.l = \"(\" + self.l10n.weekdays.longhand.join(\"|\") + \")\";\n        tokenRegex.M = \"(\" + self.l10n.months.shorthand.join(\"|\") + \")\";\n        tokenRegex.F = \"(\" + self.l10n.months.longhand.join(\"|\") + \")\";\n        tokenRegex.K = \"(\" + self.l10n.amPM[0] + \"|\" + self.l10n.amPM[1] + \"|\" + self.l10n.amPM[0].toLowerCase() + \"|\" + self.l10n.amPM[1].toLowerCase() + \")\";\n        var userConfig = __assign(__assign({}, instanceConfig), JSON.parse(JSON.stringify(element.dataset || {})));\n        if (userConfig.time_24hr === undefined &&\n            flatpickr.defaultConfig.time_24hr === undefined) {\n            self.config.time_24hr = self.l10n.time_24hr;\n        }\n        self.formatDate = createDateFormatter(self);\n        self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n    }\n    function positionCalendar(customPositionElement) {\n        if (typeof self.config.position === \"function\") {\n            return void self.config.position(self, customPositionElement);\n        }\n        if (self.calendarContainer === undefined)\n            return;\n        triggerEvent(\"onPreCalendarPosition\");\n        var positionElement = customPositionElement || self._positionElement;\n        var calendarHeight = Array.prototype.reduce.call(self.calendarContainer.children, (function (acc, child) { return acc + child.offsetHeight; }), 0), calendarWidth = self.calendarContainer.offsetWidth, configPos = self.config.position.split(\" \"), configPosVertical = configPos[0], configPosHorizontal = configPos.length > 1 ? configPos[1] : null, inputBounds = positionElement.getBoundingClientRect(), distanceFromBottom = window.innerHeight - inputBounds.bottom, showOnTop = configPosVertical === \"above\" ||\n            (configPosVertical !== \"below\" &&\n                distanceFromBottom < calendarHeight &&\n                inputBounds.top > calendarHeight);\n        var top = window.pageYOffset +\n            inputBounds.top +\n            (!showOnTop ? positionElement.offsetHeight + 2 : -calendarHeight - 2);\n        toggleClass(self.calendarContainer, \"arrowTop\", !showOnTop);\n        toggleClass(self.calendarContainer, \"arrowBottom\", showOnTop);\n        if (self.config.inline)\n            return;\n        var left = window.pageXOffset + inputBounds.left;\n        var isCenter = false;\n        var isRight = false;\n        if (configPosHorizontal === \"center\") {\n            left -= (calendarWidth - inputBounds.width) / 2;\n            isCenter = true;\n        }\n        else if (configPosHorizontal === \"right\") {\n            left -= calendarWidth - inputBounds.width;\n            isRight = true;\n        }\n        toggleClass(self.calendarContainer, \"arrowLeft\", !isCenter && !isRight);\n        toggleClass(self.calendarContainer, \"arrowCenter\", isCenter);\n        toggleClass(self.calendarContainer, \"arrowRight\", isRight);\n        var right = window.document.body.offsetWidth -\n            (window.pageXOffset + inputBounds.right);\n        var rightMost = left + calendarWidth > window.document.body.offsetWidth;\n        var centerMost = right + calendarWidth > window.document.body.offsetWidth;\n        toggleClass(self.calendarContainer, \"rightMost\", rightMost);\n        if (self.config.static)\n            return;\n        self.calendarContainer.style.top = top + \"px\";\n        if (!rightMost) {\n            self.calendarContainer.style.left = left + \"px\";\n            self.calendarContainer.style.right = \"auto\";\n        }\n        else if (!centerMost) {\n            self.calendarContainer.style.left = \"auto\";\n            self.calendarContainer.style.right = right + \"px\";\n        }\n        else {\n            var doc = getDocumentStyleSheet();\n            if (doc === undefined)\n                return;\n            var bodyWidth = window.document.body.offsetWidth;\n            var centerLeft = Math.max(0, bodyWidth / 2 - calendarWidth / 2);\n            var centerBefore = \".flatpickr-calendar.centerMost:before\";\n            var centerAfter = \".flatpickr-calendar.centerMost:after\";\n            var centerIndex = doc.cssRules.length;\n            var centerStyle = \"{left:\" + inputBounds.left + \"px;right:auto;}\";\n            toggleClass(self.calendarContainer, \"rightMost\", false);\n            toggleClass(self.calendarContainer, \"centerMost\", true);\n            doc.insertRule(centerBefore + \",\" + centerAfter + centerStyle, centerIndex);\n            self.calendarContainer.style.left = centerLeft + \"px\";\n            self.calendarContainer.style.right = \"auto\";\n        }\n    }\n    function getDocumentStyleSheet() {\n        var editableSheet = null;\n        for (var i = 0; i < document.styleSheets.length; i++) {\n            var sheet = document.styleSheets[i];\n            if (!sheet.cssRules)\n                continue;\n            try {\n                sheet.cssRules;\n            }\n            catch (err) {\n                continue;\n            }\n            editableSheet = sheet;\n            break;\n        }\n        return editableSheet != null ? editableSheet : createStyleSheet();\n    }\n    function createStyleSheet() {\n        var style = document.createElement(\"style\");\n        document.head.appendChild(style);\n        return style.sheet;\n    }\n    function redraw() {\n        if (self.config.noCalendar || self.isMobile)\n            return;\n        buildMonthSwitch();\n        updateNavigationCurrentMonth();\n        buildDays();\n    }\n    function focusAndClose() {\n        self._input.focus();\n        if (window.navigator.userAgent.indexOf(\"MSIE\") !== -1 ||\n            navigator.msMaxTouchPoints !== undefined) {\n            setTimeout(self.close, 0);\n        }\n        else {\n            self.close();\n        }\n    }\n    function selectDate(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        var isSelectable = function (day) {\n            return day.classList &&\n                day.classList.contains(\"flatpickr-day\") &&\n                !day.classList.contains(\"flatpickr-disabled\") &&\n                !day.classList.contains(\"notAllowed\");\n        };\n        var t = findParent(getEventTarget(e), isSelectable);\n        if (t === undefined)\n            return;\n        var target = t;\n        var selectedDate = (self.latestSelectedDateObj = new Date(target.dateObj.getTime()));\n        var shouldChangeMonth = (selectedDate.getMonth() < self.currentMonth ||\n            selectedDate.getMonth() >\n                self.currentMonth + self.config.showMonths - 1) &&\n            self.config.mode !== \"range\";\n        self.selectedDateElem = target;\n        if (self.config.mode === \"single\")\n            self.selectedDates = [selectedDate];\n        else if (self.config.mode === \"multiple\") {\n            var selectedIndex = isDateSelected(selectedDate);\n            if (selectedIndex)\n                self.selectedDates.splice(parseInt(selectedIndex), 1);\n            else\n                self.selectedDates.push(selectedDate);\n        }\n        else if (self.config.mode === \"range\") {\n            if (self.selectedDates.length === 2) {\n                self.clear(false, false);\n            }\n            self.latestSelectedDateObj = selectedDate;\n            self.selectedDates.push(selectedDate);\n            if (compareDates(selectedDate, self.selectedDates[0], true) !== 0)\n                self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\n        }\n        setHoursFromInputs();\n        if (shouldChangeMonth) {\n            var isNewYear = self.currentYear !== selectedDate.getFullYear();\n            self.currentYear = selectedDate.getFullYear();\n            self.currentMonth = selectedDate.getMonth();\n            if (isNewYear) {\n                triggerEvent(\"onYearChange\");\n                buildMonthSwitch();\n            }\n            triggerEvent(\"onMonthChange\");\n        }\n        updateNavigationCurrentMonth();\n        buildDays();\n        updateValue();\n        if (!shouldChangeMonth &&\n            self.config.mode !== \"range\" &&\n            self.config.showMonths === 1)\n            focusOnDayElem(target);\n        else if (self.selectedDateElem !== undefined &&\n            self.hourElement === undefined) {\n            self.selectedDateElem && self.selectedDateElem.focus();\n        }\n        if (self.hourElement !== undefined)\n            self.hourElement !== undefined && self.hourElement.focus();\n        if (self.config.closeOnSelect) {\n            var single = self.config.mode === \"single\" && !self.config.enableTime;\n            var range = self.config.mode === \"range\" &&\n                self.selectedDates.length === 2 &&\n                !self.config.enableTime;\n            if (single || range) {\n                focusAndClose();\n            }\n        }\n        triggerChange();\n    }\n    var CALLBACKS = {\n        locale: [setupLocale, updateWeekdays],\n        showMonths: [buildMonths, setCalendarWidth, buildWeekdays],\n        minDate: [jumpToDate],\n        maxDate: [jumpToDate],\n        positionElement: [updatePositionElement],\n        clickOpens: [\n            function () {\n                if (self.config.clickOpens === true) {\n                    bind(self._input, \"focus\", self.open);\n                    bind(self._input, \"click\", self.open);\n                }\n                else {\n                    self._input.removeEventListener(\"focus\", self.open);\n                    self._input.removeEventListener(\"click\", self.open);\n                }\n            },\n        ],\n    };\n    function set(option, value) {\n        if (option !== null && typeof option === \"object\") {\n            Object.assign(self.config, option);\n            for (var key in option) {\n                if (CALLBACKS[key] !== undefined)\n                    CALLBACKS[key].forEach(function (x) { return x(); });\n            }\n        }\n        else {\n            self.config[option] = value;\n            if (CALLBACKS[option] !== undefined)\n                CALLBACKS[option].forEach(function (x) { return x(); });\n            else if (HOOKS.indexOf(option) > -1)\n                self.config[option] = arrayify(value);\n        }\n        self.redraw();\n        updateValue(true);\n    }\n    function setSelectedDate(inputDate, format) {\n        var dates = [];\n        if (inputDate instanceof Array)\n            dates = inputDate.map(function (d) { return self.parseDate(d, format); });\n        else if (inputDate instanceof Date || typeof inputDate === \"number\")\n            dates = [self.parseDate(inputDate, format)];\n        else if (typeof inputDate === \"string\") {\n            switch (self.config.mode) {\n                case \"single\":\n                case \"time\":\n                    dates = [self.parseDate(inputDate, format)];\n                    break;\n                case \"multiple\":\n                    dates = inputDate\n                        .split(self.config.conjunction)\n                        .map(function (date) { return self.parseDate(date, format); });\n                    break;\n                case \"range\":\n                    dates = inputDate\n                        .split(self.l10n.rangeSeparator)\n                        .map(function (date) { return self.parseDate(date, format); });\n                    break;\n                default:\n                    break;\n            }\n        }\n        else\n            self.config.errorHandler(new Error(\"Invalid date supplied: \" + JSON.stringify(inputDate)));\n        self.selectedDates = (self.config.allowInvalidPreload\n            ? dates\n            : dates.filter(function (d) { return d instanceof Date && isEnabled(d, false); }));\n        if (self.config.mode === \"range\")\n            self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\n    }\n    function setDate(date, triggerChange, format) {\n        if (triggerChange === void 0) { triggerChange = false; }\n        if (format === void 0) { format = self.config.dateFormat; }\n        if ((date !== 0 && !date) || (date instanceof Array && date.length === 0))\n            return self.clear(triggerChange);\n        setSelectedDate(date, format);\n        self.latestSelectedDateObj =\n            self.selectedDates[self.selectedDates.length - 1];\n        self.redraw();\n        jumpToDate(undefined, triggerChange);\n        setHoursFromDate();\n        if (self.selectedDates.length === 0) {\n            self.clear(false);\n        }\n        updateValue(triggerChange);\n        if (triggerChange)\n            triggerEvent(\"onChange\");\n    }\n    function parseDateRules(arr) {\n        return arr\n            .slice()\n            .map(function (rule) {\n            if (typeof rule === \"string\" ||\n                typeof rule === \"number\" ||\n                rule instanceof Date) {\n                return self.parseDate(rule, undefined, true);\n            }\n            else if (rule &&\n                typeof rule === \"object\" &&\n                rule.from &&\n                rule.to)\n                return {\n                    from: self.parseDate(rule.from, undefined),\n                    to: self.parseDate(rule.to, undefined),\n                };\n            return rule;\n        })\n            .filter(function (x) { return x; });\n    }\n    function setupDates() {\n        self.selectedDates = [];\n        self.now = self.parseDate(self.config.now) || new Date();\n        var preloadedDate = self.config.defaultDate ||\n            ((self.input.nodeName === \"INPUT\" ||\n                self.input.nodeName === \"TEXTAREA\") &&\n                self.input.placeholder &&\n                self.input.value === self.input.placeholder\n                ? null\n                : self.input.value);\n        if (preloadedDate)\n            setSelectedDate(preloadedDate, self.config.dateFormat);\n        self._initialDate =\n            self.selectedDates.length > 0\n                ? self.selectedDates[0]\n                : self.config.minDate &&\n                    self.config.minDate.getTime() > self.now.getTime()\n                    ? self.config.minDate\n                    : self.config.maxDate &&\n                        self.config.maxDate.getTime() < self.now.getTime()\n                        ? self.config.maxDate\n                        : self.now;\n        self.currentYear = self._initialDate.getFullYear();\n        self.currentMonth = self._initialDate.getMonth();\n        if (self.selectedDates.length > 0)\n            self.latestSelectedDateObj = self.selectedDates[0];\n        if (self.config.minTime !== undefined)\n            self.config.minTime = self.parseDate(self.config.minTime, \"H:i\");\n        if (self.config.maxTime !== undefined)\n            self.config.maxTime = self.parseDate(self.config.maxTime, \"H:i\");\n        self.minDateHasTime =\n            !!self.config.minDate &&\n                (self.config.minDate.getHours() > 0 ||\n                    self.config.minDate.getMinutes() > 0 ||\n                    self.config.minDate.getSeconds() > 0);\n        self.maxDateHasTime =\n            !!self.config.maxDate &&\n                (self.config.maxDate.getHours() > 0 ||\n                    self.config.maxDate.getMinutes() > 0 ||\n                    self.config.maxDate.getSeconds() > 0);\n    }\n    function setupInputs() {\n        self.input = getInputElem();\n        if (!self.input) {\n            self.config.errorHandler(new Error(\"Invalid input element specified\"));\n            return;\n        }\n        self.input._type = self.input.type;\n        self.input.type = \"text\";\n        self.input.classList.add(\"flatpickr-input\");\n        self._input = self.input;\n        if (self.config.altInput) {\n            self.altInput = createElement(self.input.nodeName, self.config.altInputClass);\n            self._input = self.altInput;\n            self.altInput.placeholder = self.input.placeholder;\n            self.altInput.disabled = self.input.disabled;\n            self.altInput.required = self.input.required;\n            self.altInput.tabIndex = self.input.tabIndex;\n            self.altInput.type = \"text\";\n            self.input.setAttribute(\"type\", \"hidden\");\n            if (!self.config.static && self.input.parentNode)\n                self.input.parentNode.insertBefore(self.altInput, self.input.nextSibling);\n        }\n        if (!self.config.allowInput)\n            self._input.setAttribute(\"readonly\", \"readonly\");\n        updatePositionElement();\n    }\n    function updatePositionElement() {\n        self._positionElement = self.config.positionElement || self._input;\n    }\n    function setupMobile() {\n        var inputType = self.config.enableTime\n            ? self.config.noCalendar\n                ? \"time\"\n                : \"datetime-local\"\n            : \"date\";\n        self.mobileInput = createElement(\"input\", self.input.className + \" flatpickr-mobile\");\n        self.mobileInput.tabIndex = 1;\n        self.mobileInput.type = inputType;\n        self.mobileInput.disabled = self.input.disabled;\n        self.mobileInput.required = self.input.required;\n        self.mobileInput.placeholder = self.input.placeholder;\n        self.mobileFormatStr =\n            inputType === \"datetime-local\"\n                ? \"Y-m-d\\\\TH:i:S\"\n                : inputType === \"date\"\n                    ? \"Y-m-d\"\n                    : \"H:i:S\";\n        if (self.selectedDates.length > 0) {\n            self.mobileInput.defaultValue = self.mobileInput.value = self.formatDate(self.selectedDates[0], self.mobileFormatStr);\n        }\n        if (self.config.minDate)\n            self.mobileInput.min = self.formatDate(self.config.minDate, \"Y-m-d\");\n        if (self.config.maxDate)\n            self.mobileInput.max = self.formatDate(self.config.maxDate, \"Y-m-d\");\n        if (self.input.getAttribute(\"step\"))\n            self.mobileInput.step = String(self.input.getAttribute(\"step\"));\n        self.input.type = \"hidden\";\n        if (self.altInput !== undefined)\n            self.altInput.type = \"hidden\";\n        try {\n            if (self.input.parentNode)\n                self.input.parentNode.insertBefore(self.mobileInput, self.input.nextSibling);\n        }\n        catch (_a) { }\n        bind(self.mobileInput, \"change\", function (e) {\n            self.setDate(getEventTarget(e).value, false, self.mobileFormatStr);\n            triggerEvent(\"onChange\");\n            triggerEvent(\"onClose\");\n        });\n    }\n    function toggle(e) {\n        if (self.isOpen === true)\n            return self.close();\n        self.open(e);\n    }\n    function triggerEvent(event, data) {\n        if (self.config === undefined)\n            return;\n        var hooks = self.config[event];\n        if (hooks !== undefined && hooks.length > 0) {\n            for (var i = 0; hooks[i] && i < hooks.length; i++)\n                hooks[i](self.selectedDates, self.input.value, self, data);\n        }\n        if (event === \"onChange\") {\n            self.input.dispatchEvent(createEvent(\"change\"));\n            self.input.dispatchEvent(createEvent(\"input\"));\n        }\n    }\n    function createEvent(name) {\n        var e = document.createEvent(\"Event\");\n        e.initEvent(name, true, true);\n        return e;\n    }\n    function isDateSelected(date) {\n        for (var i = 0; i < self.selectedDates.length; i++) {\n            var selectedDate = self.selectedDates[i];\n            if (selectedDate instanceof Date &&\n                compareDates(selectedDate, date) === 0)\n                return \"\" + i;\n        }\n        return false;\n    }\n    function isDateInRange(date) {\n        if (self.config.mode !== \"range\" || self.selectedDates.length < 2)\n            return false;\n        return (compareDates(date, self.selectedDates[0]) >= 0 &&\n            compareDates(date, self.selectedDates[1]) <= 0);\n    }\n    function updateNavigationCurrentMonth() {\n        if (self.config.noCalendar || self.isMobile || !self.monthNav)\n            return;\n        self.yearElements.forEach(function (yearElement, i) {\n            var d = new Date(self.currentYear, self.currentMonth, 1);\n            d.setMonth(self.currentMonth + i);\n            if (self.config.showMonths > 1 ||\n                self.config.monthSelectorType === \"static\") {\n                self.monthElements[i].textContent =\n                    monthToStr(d.getMonth(), self.config.shorthandCurrentMonth, self.l10n) + \" \";\n            }\n            else {\n                self.monthsDropdownContainer.value = d.getMonth().toString();\n            }\n            yearElement.value = d.getFullYear().toString();\n        });\n        self._hidePrevMonthArrow =\n            self.config.minDate !== undefined &&\n                (self.currentYear === self.config.minDate.getFullYear()\n                    ? self.currentMonth <= self.config.minDate.getMonth()\n                    : self.currentYear < self.config.minDate.getFullYear());\n        self._hideNextMonthArrow =\n            self.config.maxDate !== undefined &&\n                (self.currentYear === self.config.maxDate.getFullYear()\n                    ? self.currentMonth + 1 > self.config.maxDate.getMonth()\n                    : self.currentYear > self.config.maxDate.getFullYear());\n    }\n    function getDateStr(specificFormat) {\n        var format = specificFormat ||\n            (self.config.altInput ? self.config.altFormat : self.config.dateFormat);\n        return self.selectedDates\n            .map(function (dObj) { return self.formatDate(dObj, format); })\n            .filter(function (d, i, arr) {\n            return self.config.mode !== \"range\" ||\n                self.config.enableTime ||\n                arr.indexOf(d) === i;\n        })\n            .join(self.config.mode !== \"range\"\n            ? self.config.conjunction\n            : self.l10n.rangeSeparator);\n    }\n    function updateValue(triggerChange) {\n        if (triggerChange === void 0) { triggerChange = true; }\n        if (self.mobileInput !== undefined && self.mobileFormatStr) {\n            self.mobileInput.value =\n                self.latestSelectedDateObj !== undefined\n                    ? self.formatDate(self.latestSelectedDateObj, self.mobileFormatStr)\n                    : \"\";\n        }\n        self.input.value = getDateStr(self.config.dateFormat);\n        if (self.altInput !== undefined) {\n            self.altInput.value = getDateStr(self.config.altFormat);\n        }\n        if (triggerChange !== false)\n            triggerEvent(\"onValueUpdate\");\n    }\n    function onMonthNavClick(e) {\n        var eventTarget = getEventTarget(e);\n        var isPrevMonth = self.prevMonthNav.contains(eventTarget);\n        var isNextMonth = self.nextMonthNav.contains(eventTarget);\n        if (isPrevMonth || isNextMonth) {\n            changeMonth(isPrevMonth ? -1 : 1);\n        }\n        else if (self.yearElements.indexOf(eventTarget) >= 0) {\n            eventTarget.select();\n        }\n        else if (eventTarget.classList.contains(\"arrowUp\")) {\n            self.changeYear(self.currentYear + 1);\n        }\n        else if (eventTarget.classList.contains(\"arrowDown\")) {\n            self.changeYear(self.currentYear - 1);\n        }\n    }\n    function timeWrapper(e) {\n        e.preventDefault();\n        var isKeyDown = e.type === \"keydown\", eventTarget = getEventTarget(e), input = eventTarget;\n        if (self.amPM !== undefined && eventTarget === self.amPM) {\n            self.amPM.textContent =\n                self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n        }\n        var min = parseFloat(input.getAttribute(\"min\")), max = parseFloat(input.getAttribute(\"max\")), step = parseFloat(input.getAttribute(\"step\")), curValue = parseInt(input.value, 10), delta = e.delta ||\n            (isKeyDown ? (e.which === 38 ? 1 : -1) : 0);\n        var newValue = curValue + step * delta;\n        if (typeof input.value !== \"undefined\" && input.value.length === 2) {\n            var isHourElem = input === self.hourElement, isMinuteElem = input === self.minuteElement;\n            if (newValue < min) {\n                newValue =\n                    max +\n                        newValue +\n                        int(!isHourElem) +\n                        (int(isHourElem) && int(!self.amPM));\n                if (isMinuteElem)\n                    incrementNumInput(undefined, -1, self.hourElement);\n            }\n            else if (newValue > max) {\n                newValue =\n                    input === self.hourElement ? newValue - max - int(!self.amPM) : min;\n                if (isMinuteElem)\n                    incrementNumInput(undefined, 1, self.hourElement);\n            }\n            if (self.amPM &&\n                isHourElem &&\n                (step === 1\n                    ? newValue + curValue === 23\n                    : Math.abs(newValue - curValue) > step)) {\n                self.amPM.textContent =\n                    self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n            }\n            input.value = pad(newValue);\n        }\n    }\n    init();\n    return self;\n}\nfunction _flatpickr(nodeList, config) {\n    var nodes = Array.prototype.slice\n        .call(nodeList)\n        .filter(function (x) { return x instanceof HTMLElement; });\n    var instances = [];\n    for (var i = 0; i < nodes.length; i++) {\n        var node = nodes[i];\n        try {\n            if (node.getAttribute(\"data-fp-omit\") !== null)\n                continue;\n            if (node._flatpickr !== undefined) {\n                node._flatpickr.destroy();\n                node._flatpickr = undefined;\n            }\n            node._flatpickr = FlatpickrInstance(node, config || {});\n            instances.push(node._flatpickr);\n        }\n        catch (e) {\n            console.error(e);\n        }\n    }\n    return instances.length === 1 ? instances[0] : instances;\n}\nif (typeof HTMLElement !== \"undefined\" &&\n    typeof HTMLCollection !== \"undefined\" &&\n    typeof NodeList !== \"undefined\") {\n    HTMLCollection.prototype.flatpickr = NodeList.prototype.flatpickr = function (config) {\n        return _flatpickr(this, config);\n    };\n    HTMLElement.prototype.flatpickr = function (config) {\n        return _flatpickr([this], config);\n    };\n}\nvar flatpickr = function (selector, config) {\n    if (typeof selector === \"string\") {\n        return _flatpickr(window.document.querySelectorAll(selector), config);\n    }\n    else if (selector instanceof Node) {\n        return _flatpickr([selector], config);\n    }\n    else {\n        return _flatpickr(selector, config);\n    }\n};\nflatpickr.defaultConfig = {};\nflatpickr.l10ns = {\n    en: __assign({}, English),\n    default: __assign({}, English),\n};\nflatpickr.localize = function (l10n) {\n    flatpickr.l10ns.default = __assign(__assign({}, flatpickr.l10ns.default), l10n);\n};\nflatpickr.setDefaults = function (config) {\n    flatpickr.defaultConfig = __assign(__assign({}, flatpickr.defaultConfig), config);\n};\nflatpickr.parseDate = createDateParser({});\nflatpickr.formatDate = createDateFormatter({});\nflatpickr.compareDates = compareDates;\nif (typeof jQuery !== \"undefined\" && typeof jQuery.fn !== \"undefined\") {\n    jQuery.fn.flatpickr = function (config) {\n        return _flatpickr(this, config);\n    };\n}\nDate.prototype.fp_incr = function (days) {\n    return new Date(this.getFullYear(), this.getMonth(), this.getDate() + (typeof days === \"string\" ? parseInt(days, 10) : days));\n};\nif (typeof window !== \"undefined\") {\n    window.flatpickr = flatpickr;\n}\nexport default flatpickr;\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.fr = {}));\n}(this, (function (exports) { 'use strict';\n\n  var fp = typeof window !== \"undefined\" && window.flatpickr !== undefined\n      ? window.flatpickr\n      : {\n          l10ns: {},\n      };\n  var French = {\n      firstDayOfWeek: 1,\n      weekdays: {\n          shorthand: [\"dim\", \"lun\", \"mar\", \"mer\", \"jeu\", \"ven\", \"sam\"],\n          longhand: [\n              \"dimanche\",\n              \"lundi\",\n              \"mardi\",\n              \"mercredi\",\n              \"jeudi\",\n              \"vendredi\",\n              \"samedi\",\n          ],\n      },\n      months: {\n          shorthand: [\n              \"janv\",\n              \"févr\",\n              \"mars\",\n              \"avr\",\n              \"mai\",\n              \"juin\",\n              \"juil\",\n              \"août\",\n              \"sept\",\n              \"oct\",\n              \"nov\",\n              \"déc\",\n          ],\n          longhand: [\n              \"janvier\",\n              \"février\",\n              \"mars\",\n              \"avril\",\n              \"mai\",\n              \"juin\",\n              \"juillet\",\n              \"août\",\n              \"septembre\",\n              \"octobre\",\n              \"novembre\",\n              \"décembre\",\n          ],\n      },\n      ordinal: function (nth) {\n          if (nth > 1)\n              return \"\";\n          return \"er\";\n      },\n      rangeSeparator: \" au \",\n      weekAbbreviation: \"Sem\",\n      scrollTitle: \"Défiler pour augmenter la valeur\",\n      toggleTitle: \"Cliquer pour basculer\",\n      time_24hr: true,\n  };\n  fp.l10ns.fr = French;\n  var fr = fp.l10ns;\n\n  exports.French = French;\n  exports.default = fr;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","import { BaseAction } from \"../../actions/BaseAction\";\nimport { AjaxErrorHandler } from \"../../components/AjaxErrorHandler\";\nimport { LoadingIndicator } from \"../../components/LoadingIndicator\";\nimport EventUtil from \"../../utils/EventUtil\";\n\n/**\n * Gère un dropdown dynamique pouvant cibler plusieurs éléments,\n * chacun avec son propre endpoint et paramètre de filtre.\n */\nexport default class DynamicDropdownTreatment {\n  /**\n   * @param {HTMLElement} triggerElement élément déclencheur (select)\n   * @param {Object} config configuration optionnelle (formSelector, filterFormSelector)\n   */\n  constructor(triggerElement, config = {}) {\n    this.triggerElement = triggerElement;\n    this.config = config;\n\n    // Parser les listes CSV dans data-attributes\n    this.targets = this._parseCsv(\n      triggerElement.dataset.targetDynamicDropdown,\n      triggerElement.dataset.targetDynamicDropdownApiUrl,\n      triggerElement.dataset.targetDynamicDropdownFilter\n    );\n\n    if (!this.targets.length) {\n      console.warn(\n        'DynamicDropdownTreatment : attributs `data-target-dynamic-dropdown`, ' +\n        '`data-target-dynamic-dropdown-api-url` ou ' +\n        '`data-target-dynamic-dropdown-filter` manquants ou mal formés.'\n      );\n      return;\n    }\n\n    // Loader global\n    const container =\n      config.formSelector && document.querySelector(config.formSelector)\n        ? config.formSelector\n        : config.filterFormSelector && document.querySelector(config.filterFormSelector)\n        ? config.filterFormSelector\n        : '#card_crud';\n    this.loader = new LoadingIndicator(container);\n\n    this.init();\n  }\n\n  /**\n   * Transforme les chaînes CSV en tableau d'objets { selector, apiUrl, filterParam, cache }\n   */\n  _parseCsv(selectorsCsv, urlsCsv, filtersCsv) {\n    if (!selectorsCsv || !urlsCsv || !filtersCsv) return [];\n\n    const selectors = selectorsCsv.split(',').map(s => s.trim());\n    const urls = urlsCsv.split(',').map(u => u.trim());\n    const filters = filtersCsv.split(',').map(f => f.trim());\n\n    const length = Math.max(selectors.length, urls.length, filters.length);\n    return Array.from({ length }, (_, i) => ({\n      selector: selectors[i] || selectors[0],\n      apiUrl: urls[i] || urls[0],\n      filterParam: filters[i] || filters[0],\n      cache: new Map()\n    }));\n  }\n\n  /**\n   * Initialise l'écouteur et charge si valeur initiale\n   */\n  init() {\n    const name = this.triggerElement.name;\n    EventUtil.bindEvent('change', `[name='${name}']`, async e => {\n      await this.updateAll(e.target.value);\n    });\n\n    if (this.triggerElement.value) {\n      this.updateAll(this.triggerElement.value);\n    }\n  }\n\n  /**\n   * Met à jour toutes les cibles pour la valeur donnée\n   * @param {string} value valeur sélectionnée\n   */\n  async updateAll(value) {\n    if (!value) return;\n\n    for (const tgt of this.targets) {\n      const el = document.querySelector(tgt.selector);\n      if (!el) {\n        console.warn(`DynamicDropdownTreatment : cible introuvable \"${tgt.selector}\"`);\n        continue;\n      }\n\n   \n\n      // Skip si déjà en cache\n      if (tgt.cache.has(value)) {\n\n        // ▸ Désactiver la cible avant l'appel\n        el.disabled = true;\n\n        this._populate(el, tgt.cache.get(value));\n\n        // ▸ Réactiver immédiatement si mise en cache\n        el.disabled = false;\n        // if ($(el).hasClass('select2-hidden-accessible')) {\n        //   $(el).trigger('change.select2');\n        // }\n        continue;\n      }\n\n      // Chargement\n      this.loader.showNomBloquante();\n      try {\n\n        let url = `${tgt.apiUrl}?filter=${tgt.filterParam}&value=${encodeURIComponent(value)}`;\n      \n        let baseAction = new BaseAction(this.config);\n\n        url = baseAction.appendParamsToUrl(\n            url,\n            this.config.viewStateService.getContextParams()\n        );\n        console.log(url);\n\n        el.disabled = true;\n        const resp = await fetch(url);\n        if (!resp.ok) throw new Error(`HTTP ${resp.status}`);\n        const data = await resp.json();\n\n        tgt.cache.set(value, data);\n        this._populate(el, data);\n      \n      } catch (err) {\n        AjaxErrorHandler.handleError(err, err.message);\n      } finally {\n        el.disabled = false;\n        this.loader.hide();\n      }\n    }\n  }\n\n  /**\n   * Remplit un <select> avec les données fournies\n   * @param {HTMLSelectElement} selectEl\n   * @param {Array<{id: string, label: string}>} items\n   */\n/**\n * Remplit un <select> avec les données fournies\n * @param {HTMLSelectElement} selectEl\n * @param {Array<{id: string, label: string}>} items\n */\n_populate(selectEl, items) {\n  // ① Récupérer la ou les valeurs précédentes\n  const isMultiple = selectEl.multiple;\n  const prev = isMultiple\n    ? Array.from(selectEl.selectedOptions).map(opt => opt.value)\n    : selectEl.value;\n\n  // ② Vider le <select>\n  selectEl.innerHTML = '';\n\n  // ③ Si ce n’est PAS un multiple, ajouter l’option vide\n  if (!isMultiple) {\n    const empty = selectEl.querySelector('option[value=\"\"]') || new Option('', '');\n    selectEl.appendChild(empty);\n  }\n\n  // ④ Ajouter les nouvelles options\n  items.forEach(item => {\n    const opt = new Option(item.label ?? item.toString, item.id ?? item.value);\n    // Si multiple, marquer comme sélectionnée si dans prev\n    if (isMultiple && Array.isArray(prev) && prev.includes(opt.value)) {\n      opt.selected = true;\n    }\n    selectEl.appendChild(opt);\n  });\n\n  // ⑤ Si simple select, restaurer la valeur précédente\n  if (!isMultiple) {\n    selectEl.value = Array.from(selectEl.options).some(o => o.value == prev)\n      ? prev\n      : '';\n  }\n}\n\n\n\n}\n","import { AjaxErrorHandler } from '../components/AjaxErrorHandler';\nimport { Action } from './Action';\nimport EventUtil from '../utils/EventUtil';\nimport { NotificationHandler } from '../components/NotificationHandler';\nimport { CrudAction } from './CrudAction';\n \n\nexport class EditAction extends CrudAction {\n\n    constructor(config, tableUI, containerSelector = null) {\n        super(config,tableUI);\n        this.config = config;\n        this.tableUI = tableUI;\n        this.containerSelector = containerSelector || this.config.crudSelector;\n        \n        this.SuscesMessage = \"Entité modifiée avec succès.\";\n       \n       \n    }\n\n    init(){\n        this.handleEditEntity() ;\n\n        // TODO : pour edit et create ?\n        this.handleSubmitForm();\n    }\n\n    /**\n     * Ouvre un modal pour modifier une entité.\n     * @param {number|string} id - Identifiant de l'entité à modifier.\n     */\n    editEntity(id) {\n\n        let editUrl = this.getUrlWithId(this.config.editUrl, id); // Générer l'URL dynamique\n        \n   \n\n        editUrl = this.appendParamsToUrl(\n            editUrl,\n            this.viewStateService.getContextParams()\n        );\n\n        // Add filter params to context \n       \n        // Afficher le chargement dans le modal\n        this.tableUI.indexUI.modalUI.showLoading(this.config.editTitle);\n\n        // Charger le formulaire d'édition via AJAX\n        $.get(editUrl)\n            .done((html) => {\n                // Injecter le contenu du formulaire dans le modal\n                this.tableUI.indexUI.modalUI.showContent(html);\n                this.executeScripts(html);\n                this.tableUI.indexUI.modalUI.setTitle(window.modalTitle);\n                this.tableUI.indexUI.formUI.init(() => this.submitEntity(),false);\n            })\n            .fail((xhr) => {\n                this.tableUI.indexUI.modalUI.close();\n                AjaxErrorHandler.handleError(xhr, 'Erreur lors de la modification.');\n            });\n    }\n\n    /**\n     * Gère les événements liés à la modification d'une entité.\n     */\n    handleEditEntity() {\n        EventUtil.bindEvent('click', `${this.containerSelector} .editEntity`, (e) => {\n            e.preventDefault();\n            const id = $(e.currentTarget).data('id'); // Récupérer l'ID de l'entité\n            this.editEntity(id);\n        });\n    }\n    \n /**\n         * Soumet le formulaire de modification via AJAX.\n         */\n        submitEntity(onSuccess) {\n            const form = $(this.config.formSelector);\n            const actionUrl = form.attr('action'); // URL définie dans le formulaire\n            const method = form.find('input[name=\"_method\"]').val() || 'POST'; // Méthode HTTP\n\n            let formData = form.serialize(); // Sérialisation des données du formulaire\n\n            this.tableUI.indexUI.formUI.loader.show();\n    \n            // Valider le formulaire avant la soumission\n            if (!this.tableUI.indexUI.formUI.validateForm()) {\n                NotificationHandler.showError('Validation échouée. Veuillez corriger les erreurs.');\n                this.tableUI.indexUI.formUI.loader.hide();\n                return; // Ne pas soumettre si la validation échoue\n            }\n    \n            // Envoyer les données via une requête AJAX\n            $.ajax({\n                url: actionUrl,\n                method: method,\n                data: formData,\n            })\n                .done((data) => {\n\n                    // Affichage de message de progression de traitement\n                    const traitement_token = data.data?.traitement_token;\n                    if (traitement_token) {\n                        this.pollTraitementStatus(traitement_token, () => {\n                            NotificationHandler.show(data.type,data.title,data.message);\n                        });\n                    }else{\n                        NotificationHandler.show(data.type,data.title,data.message);\n                    }\n\n                    this.tableUI.indexUI.formUI.loader.hide();\n                    \n                    this.tableUI.indexUI.modalUI.close(); // Fermer le modal après succès\n\n                     // Appeler le callback de succès si fourni\n                     if (typeof onSuccess === 'function') {\n                        onSuccess();\n                    }\n\n                    // Déja après Close Modal : il aura l'execution de loadEntities()\n                    // this.tableUI.loadListAction.loadEntities(); // Recharger les entités\n                    \n                   \n                   \n                })\n    \n                .fail((xhr) => {\n                    this.tableUI.indexUI.formUI.loader.hide();\n                    \n                    if (xhr.responseJSON?.errors) {\n                        this.tableUI.indexUI.formUI.showFieldErrors(xhr.responseJSON.errors);\n                    } \n                    \n                    AjaxErrorHandler.handleError(xhr, \"Erreur lors du traitement du formulaire.\");\n                    \n                });\n    \n    }\n\n    handleSubmitForm() {\n        EventUtil.bindEvent('submit', this.config.formSelector, (e) => {\n            e.preventDefault(); // Empêche le rechargement de la page\n            this.submitEntity(); // Appelle la méthode de `CrudActions`\n        });\n    }\n\n \n\n    /**\n     * Envoie une requête POST pour mettre à jour un champ spécifique (ex: l'ordre d'un widget).\n     * @param {Object} data - Données à envoyer (ex: { id: 5, ordre: 2 }).\n     * @param {Function} onSuccess - Callback appelé après succès.\n     */\n    update_attributes(data, onSuccess) {\n\n        let is_traitement_token = false;\n        this.loader.showNomBloquante(\"Mise à jour\");\n        const url = this.config.updateAttributesUrl \n        const finalUrl = this.appendParamsToUrl(\n            url,\n            this.viewStateService?.getContextParams?.() || ''\n        );\n\n        $.ajax({\n            url: finalUrl,\n            method: 'POST',\n            data: {\n                ...data,\n                _token: this.config.csrfToken\n            },\n        })\n            .done((response) => {\n\n                // Affichage de message de progression de traitement\n                const traitement_token = response.data?.traitement_token;\n                if (traitement_token) {\n                    is_traitement_token = true;\n                    this.pollTraitementStatus(traitement_token, () => {\n                        // NotificationHandler.show(response.type, response.title, response.message);\n                    });\n                }else{\n                     NotificationHandler.show(response.type, response.title, response.message);\n                }\n\n\n                this.loader.hide();\n               \n                if (typeof onSuccess === 'function') {\n                    onSuccess(response, is_traitement_token);\n                }\n            })\n            .fail((xhr) => {\n                this.loader.hide();\n                AjaxErrorHandler.handleError(xhr, 'Erreur lors de la mise à jour.');\n            });\n    }\n\n  \n    \n}\n","import { LoadingIndicator } from \"./LoadingIndicator\";\nimport { ViewStateService } from './ViewStateService';\nimport DynamicFieldVisibilityTreatment from \"../treatments/form/DynamicFieldVisibilityTreatment\";\nimport { CodeJar } from 'codejar';\nimport EventUtil from './../utils/EventUtil';\nimport Prism from 'prismjs';\nimport 'prismjs/themes/prism.css';\nimport 'prismjs/components/prism-json';\nimport InitUIManagers from \"../InitUIManagers\";\nimport flatpickr from 'flatpickr';\nimport { French } from 'flatpickr/dist/l10n/fr.js';\nimport { NotificationHandler } from \"./NotificationHandler\";\nimport DynamicDropdownTreatment from \"../treatments/global/DynamicDropdownTreatment\";\nimport { EditAction } from \"../actions/EditAction\";\n\n/**\n * Classe ShowUI pour gérer l'affichage en lecture seule d'un enregistrement.\n */\nexport class ShowUI {\n  /**\n   * @param {Object} config - Configuration contenant viewStateService, selectors, etc.\n   * @param {IndexUI} indexUI - Instance d'IndexUI pour accéder aux composants modaux ou listes.\n   * @param {string} containerSelector - Sélecteur CSS du conteneur de la vue Show.\n   */\n  constructor(config, indexUI, containerSelector = '') {\n    this.config = config;\n    this.indexUI = indexUI;\n    this.containerSelector = containerSelector || this.config.showContainerSelector;\n    this.entityEditor = new EditAction(config,this.indexUI.tableUI,this.containerSelector);\n    this.viewStateService = this.config.viewStateService;\n    this.loader = new LoadingIndicator(this.containerSelector);\n  }\n\n  /**\n   * Initialise la vue Show : chargement, décorations, traitements dynamiques.\n   */\n  init() {\n\n    InitUIManagers.init();\n    this.loader.init();\n    this.handleCardFooter();\n    this.handleCancelButton();\n    this.entityEditor.init();\n\n    this.initTooltip();\n    this.initializeDate();\n    this.initCodeJar();\n\n    // Traitements dynamiques de visibilité\n    if (window.dynamicFieldVisibilityTreatments) {\n      new DynamicFieldVisibilityTreatment(window.dynamicFieldVisibilityTreatments)\n        .initialize();\n    }\n\n    // Dropdown dynamiques (lecture seule)\n    document.querySelectorAll(this.containerSelector + \" [data-target-dynamic-dropdown]\")\n      .forEach(el => new DynamicDropdownTreatment(el, this.config));\n\n    // Afficher les états du viewState dans le debug\n    if (this.config.isDebug) {\n      this.highlightStateFields();\n    }\n  }\n\n  /**\n   * Convertit les card-footer en modal-footer pour cohérence visuelle.\n   */\n  handleCardFooter() {\n    const ctx = `${this.containerSelector}`;\n    $(ctx)\n      .find('.card-footer')\n      .removeClass('card-footer')\n      .addClass('modal-footer');\n  }\n\n  /**\n   * Initialisation des tooltips Bootstrap.\n   */\n  initTooltip() {\n    $('[data-toggle=\"tooltip\"]', this.containerSelector).tooltip();\n  }\n\n  /**\n   * Applique Flatpickr sur les champs datetime en lecture seule.\n   */\n  initializeDate() {\n    flatpickr(this.containerSelector + ' .datetimepicker', {\n      enableTime: true,\n      dateFormat: 'Y-m-d H:i',\n      time_24hr: true,\n      locale: French,\n      allowInput: false,\n      weekNumbers: true,\n      clickOpens: false,\n    });\n  }\n\n  /**\n   * Initialise CodeJar pour l'affichage de JSON syntaxé.\n   */\n  initCodeJar() {\n    const editors = document.querySelectorAll(this.containerSelector + ' .code-editor');\n    editors.forEach(editor => {\n      const highlight = (ed) => {\n        try {\n          const formatted = JSON.stringify(JSON.parse(ed.textContent), null, 2);\n          ed.innerHTML = Prism.highlight(formatted, Prism.languages.json, 'json');\n        } catch {\n          ed.innerHTML = Prism.highlight(ed.textContent, Prism.languages.json, 'json');\n        }\n      };\n      const jar = CodeJar(editor, highlight);\n      // désactiver la mise à jour\n      jar.onUpdate = () => {};\n      // charger contenu initial\n      highlight(editor);\n    });\n  }\n\n  /**\n   * En mode debug, surligne les champs affichant l'état.\n   */\n  highlightStateFields() {\n    const state = this.viewStateService.getScopeShowVariables();\n    Object.keys(state).forEach(key => {\n      const el = document.querySelector(`${this.containerSelector} #${key}`);\n      if (el) {\n        el.parentElement.style.backgroundColor = 'lightyellow';\n      }\n    });\n  }\n\n  /**\n   * Affiche une notification d'erreur ou d'information.\n   * @param {string} message\n   * @param {string} type - 'error'|'success'|'info'\n   */\n  showNotification(message, type = 'info') {\n    NotificationHandler[type === 'error' ? 'showError' : 'show'](message);\n  }\n\n  handleCancelButton() {\n\n          EventUtil.bindEvent('click', `${this.containerSelector} .form-cancel-button`, (e) => {\n              e.preventDefault();\n              this.indexUI.modalUI.close();\n          });\n          \n  }\n}\n","import { AjaxErrorHandler } from '../components/AjaxErrorHandler';\nimport { Action } from './Action';\nimport EventUtil from './../utils/EventUtil';\nimport { ShowUI } from './../components/ShowUI';\n\nexport class ShowAction extends Action {\n\n\n    constructor(config, tableUI) {\n        super(config); \n        this.config = config;\n        this.tableUI = tableUI; \n       \n    }\n\n\n    init(){\n        this.handleShowEntity()\n    }\n    /**\n     * Affiche les détails d'une entité dans un modal.\n     * @param {number|string} id - Identifiant de l'entité à afficher.\n     */\n    showEntity(id) {\n\n\n        let showUrl = this.getUrlWithId(this.config.showUrl, id); // Générer l'URL dynamique\n\n        showUrl = this.appendParamsToUrl(\n            showUrl,\n            this.viewStateService.getContextParams()\n        );\n\n\n\n        // Afficher le chargement dans le modal\n        this.tableUI.indexUI.modalUI.showLoading('Chargement...');\n\n        // Charger les détails de l'entité via AJAX\n        $.get(showUrl)\n            .done((html) => {\n                // Injecter le contenu des détails dans le modal\n\n\n                this.tableUI.indexUI.modalUI.showContent(html);\n\n                this.executeScripts(html);\n                this.tableUI.indexUI.modalUI.setTitle(window.modalTitle);\n                this.tableUI.indexUI.showUI.init();\n     \n            })\n            .fail((xhr) => {\n                this.tableUI.indexUI.modalUI.close();\n                AjaxErrorHandler.handleError(xhr, 'Erreur lors du chargement des détails de l\\'entité.');\n            });\n            \n    }\n\n\n    /**\n     * Gère les événements liés à l'affichage des détails d'une entité.\n     */\n    handleShowEntity() {\n        EventUtil.bindEvent('click', `${this.config.crudSelector} .showEntity`, (e) => {\n            e.preventDefault();\n            const id = $(e.currentTarget).data('id'); // Récupérer l'ID de l'entité\n            this.showEntity(id);\n        });\n    }\n\n\n\n}\n","import { Action } from './Action';\nimport { NotificationHandler } from '../components/NotificationHandler';\nimport { LoadListAction } from './LoadListAction';\nimport { AjaxErrorHandler } from '../components/AjaxErrorHandler';\nimport EventUtil from '../utils/EventUtil';\nimport { CrudAction } from './CrudAction';\n\nexport class DeleteAction extends CrudAction {\n\n    constructor(config, tableUI) {\n         super(config,tableUI);\n        this.config = config;\n        this.tableUI = tableUI;\n       \n        \n       \n        this.suscesMessage = 'Entité supprimée avec succès.';\n       \n    }\n\n    init() {\n        this.handleDeleteEntity();\n    }\n\n    /**\n     * Supprime une entité via AJAX.\n     * @param {number|string} id - Identifiant de l'entité à supprimer.\n     */\n    deleteEntity(id) {\n        let deleteUrl = this.getUrlWithId(this.config.deleteUrl, id);\n        deleteUrl = this.appendParamsToUrl(deleteUrl, this.viewStateService.getContextParams());\n    \n        NotificationHandler.confirmAction(\n            'Êtes-vous sûr ?', 'Cette action est irréversible.',\n            () => {\n                NotificationHandler.showToast('info','Suppression en cours...');\n                $.ajax({\n                    url: deleteUrl,\n                    method: 'DELETE',\n                    data: { _token: this.config.csrfToken }\n                }).done((response) => {\n\n                     // Affichage de message de progression de traitement\n                    const traitement_token = response?.data?.traitement_token;\n                    if (traitement_token) {\n                        this.pollTraitementStatus(traitement_token, () => {\n                           this.handleSuccess(this.suscesMessage);\n                        });\n                    }else{\n                        this.handleSuccess(this.suscesMessage);\n                    }\n\n\n                    $(`#${this.config.entity_name}-row-${id}`).fadeOut(); // Supprime la ligne sans recharger\n                  \n                })\n                \n                .fail((xhr) => {\n                    AjaxErrorHandler.handleError(xhr, \"Erreur lors de la suppression de l'entité.\");\n                });\n            }\n        );\n    }\n\n    /**\n     * Gère les événements liés à la suppression d'une entité.\n     */\n    handleDeleteEntity() {\n        EventUtil.bindEvent('click', `${this.config.crudSelector} .deleteEntity`, (e) => {\n            e.preventDefault();\n            const id = $(e.currentTarget).data('id'); // Récupérer l'ID de l'entité\n            this.deleteEntity(id);\n        });\n    }\n}\n","import { Action } from './Action';\nimport { NotificationHandler } from '../components/NotificationHandler';\nimport { LoadListAction } from './LoadListAction';\nimport { AjaxErrorHandler } from '../components/AjaxErrorHandler';\nimport EventUtil from '../utils/EventUtil';\n\n/**\n * Classe représentant une action sur une entité.\n */\nexport class EntityAction extends Action {\n\n    /**\n     * Constructeur de la classe EntityAction.\n     * @param {object} config - Configuration des actions.\n     * @param {object} tableUI - Interface utilisateur du tableau concerné.\n     */\n    constructor(config, tableUI) {\n        super(config);\n        this.config = config;\n        this.tableUI = tableUI;\n        this.successMessage = 'Opération effectuée avec succès.';\n    }\n\n    /**\n     * Initialisation des actions sur les entités.\n     */\n    init() {\n        this.bindEntityActions();\n    }\n\n    /**\n     * Exécute une action sur une entité en fonction de son type.\n     * @param {string} actionType - Type de l'action (form ou confirm).\n     * @param {string} actionUrl - URL d'action extraite de l'attribut data-url.\n     */\n    executeAction(actionType, actionUrl) {\n        actionUrl = this.appendParamsToUrl(actionUrl, this.viewStateService.getContextParams());\n        \n        if (actionType === 'confirm') {\n            NotificationHandler.confirmAction(\n                'Confirmation requise', 'Cette action est irréversible. Êtes-vous sûr de vouloir continuer ?',\n                () => {\n                    NotificationHandler.showToast('info', 'Action en cours...');\n                    $.ajax({\n                        url: actionUrl,\n                        method: 'GET',\n                        data: { _token: this.config.csrfToken }\n                    }).done((data) => {\n                        NotificationHandler.show(data.type,data.title,data.message);\n                        this.tableUI.loadListAction.loadEntities();\n                    }).fail((xhr) => {\n                        AjaxErrorHandler.handleError(xhr, \"Erreur lors de l'exécution de l'action sur l'entité.\");\n                    });\n                }\n            );\n        } else if (actionType === 'form') {\n            this.loadForm(actionUrl);\n            \n        } else if (actionType === 'downloadMode') {\n            NotificationHandler.showToast('info', 'Téléchargement en cours...');\n            \n            // Générer l'URL avec les paramètres de contexte\n            const finalUrl = this.appendParamsToUrl(actionUrl, this.viewStateService.getContextParams());\n\n            // ✅ Créer un lien temporaire et déclencher le téléchargement\n            const link = document.createElement('a');\n            link.href = finalUrl;\n            link.setAttribute('download', ''); // Facultatif : permet d’indiquer que c’est un fichier\n            document.body.appendChild(link);\n            link.click();\n            document.body.removeChild(link);\n        } else {\n            console.error(\"Type d'action inconnu :\", actionType);\n        }\n    }\n\n    /**\n     * Charge un formulaire via AJAX et l'affiche dans un modal.\n     * @param {string} actionUrl - URL du formulaire à charger.\n     */\n    loadForm(actionUrl) {\n        this.tableUI.indexUI.modalUI.showLoading('Chargement...');\n        \n        $.get(actionUrl)\n            .done((html) => {\n                this.tableUI.indexUI.modalUI.showContent(html);\n                this.executeScripts(html);\n              \n                this.tableUI.loadListAction.loadEntities(); \n            })\n            .fail((xhr) => {\n                AjaxErrorHandler.handleError(xhr, 'Erreur lors du chargement du formulaire.');\n            });\n    }\n\n    /**\n     * Soumet un formulaire via AJAX.\n     */\n    submitForm() {\n        const form = $(this.config.formSelector);\n        const actionUrl = form.attr('action'); // URL définie dans le formulaire\n        const method = form.find('input[name=\"_method\"]').val() || 'POST'; // Méthode HTTP\n        const formData = form.serialize(); // Sérialisation des données du formulaire\n        this.tableUI.indexUI.formUI.loader.show();\n    \n        if (!this.tableUI.indexUI.formUI.validateForm()) {\n            NotificationHandler.showError('Validation échouée. Veuillez corriger les erreurs.');\n            this.tableUI.indexUI.formUI.loader.hide();\n            return;\n        }\n    \n        $.ajax({\n            url: actionUrl,\n            method: method,\n            data: formData,\n        })\n        .done(() => {\n            this.tableUI.indexUI.formUI.loader.hide();\n            this.handleSuccess(this.successMessage);\n            this.tableUI.indexUI.modalUI.close();\n            this.tableUI.loadListAction.loadEntities();\n        })\n        .fail((xhr) => {\n            this.tableUI.indexUI.formUI.loader.hide();\n            if (xhr.responseJSON?.errors) {\n                this.tableUI.indexUI.formUI.showFieldErrors(xhr.responseJSON.errors);\n            }\n            AjaxErrorHandler.handleError(xhr, \"Erreur lors du traitement du formulaire.\");\n        });\n    }\n\n    /**\n     * Attache les événements d'action aux éléments concernés.\n     */\n    bindEntityActions() {\n        EventUtil.bindEvent('click', `${this.config.crudSelector} .actionEntity`, (event) => {\n            event.preventDefault();\n\n           \n\n            const entityId = $(event.currentTarget).data('id'); // Récupération de l'ID de l'entité\n            const actionUrl = $(event.currentTarget).data('url'); // Récupération de l'URL d'action\n            const actionType = $(event.currentTarget).data('action-type'); // Type d'action\n            \n            if (actionUrl && actionType) {\n                this.executeAction(actionType, actionUrl);\n            } else {\n                console.error(\"URL ou type d'action non défini pour l'entité\", entityId);\n            }\n        });\n    }\n}\n","import { Action } from './Action';\nimport EventUtil from '../utils/EventUtil';\nimport { NotificationHandler } from '../components/NotificationHandler';\n\nexport class IndexViewSwitcherAction extends Action {\n    /**\n     * @param {Object} config - Configuration CRUD globale\n     * @param {Object} tableUI - L'instance de TableUI\n     */\n    constructor(config, tableUI) {\n        super(config);\n        this.config = config;\n        this.tableUI = tableUI;\n        this.viewState = config.viewStateService;\n        this.view_type_variable = this.config.view_type_variable\n    }\n\n    init() {\n        this.handleViewSwitchClick();\n        this.highlightActiveView();\n    }\n\n    handleViewSwitchClick() {\n        EventUtil.bindEvent('click', '.view-switch-option', (e) => {\n            e.preventDefault();\n            const selectedType = $(e.currentTarget).data('view-type');\n\n            // ← récupère la classe d’icône stockée en data-icon\n            const iconClass = $(e.currentTarget).data('icon') || '';\n            $('#exportDropdown i').attr('class', iconClass);\n\n            const view_type_variable = `${this.view_type_variable}`\n            this.viewState.setVariable(view_type_variable,selectedType)\n            this.highlightActiveView(selectedType);\n            this.tableUI.loadListAction.loadEntities(1); // Recharge la liste\n            this.tableUI.indexUI.filterUI.init();\n        });\n    }\n\n    /**\n     * Active le bouton visuellement dans le dropdown\n     * @param {String} selectedType\n     */\n    highlightActiveView(selectedType = null) {\n        const current = selectedType || this.viewState.getVariable(this.view_type_variable) || `${this.config.entity_name}_table`;\n        $('.view-switch-option').removeClass('active');\n        $(`.view-switch-option[data-view-type=\"${current}\"]`).addClass('active');\n    }\n}\n","import { AjaxErrorHandler } from '../components/AjaxErrorHandler';\nimport { Action } from './Action';\nimport EventUtil from './../utils/EventUtil';\n\nexport class ShowIndexAction extends Action {\n    constructor(config,tableUI) {\n        super(config); \n        this.config = config;\n        this.tableUI = tableUI; \n        this.SuscesMessage = \"Index chargé avec succès.\";\n    }\n\n    /**\n     * Initialise l'écouteur sur les liens avec .showIndex\n     */\n    init() {\n        this.handleShowIndex();\n    }\n\n    /**\n     * Gère les événements liés à l'affichage de l'index dans une modale.\n     */\n    handleShowIndex() {\n        EventUtil.bindEvent('click', `${this.config.crudSelector} .showIndex`, (e) => {\n            e.preventDefault();\n    \n            const $target = $(e.currentTarget);\n            const url = $target.attr('href');\n    \n           \n    \n            if ($target.hasClass('readOnly')) {\n                this.loadIndexContent(url,true);\n              \n            }else{\n                this.loadIndexContent(url, false);\n            }\n        });\n    }\n\n    /**\n     * Charge le contenu de la page index dans un modal.\n     * @param {string} url - URL à charger dans le modal.\n     */\n    loadIndexContent(url,readOnly) {\n        \n        const fullUrl= this.appendParamsToUrl(\n            url,\n            this.viewStateService.getContextParams()\n        );\n \n        // Afficher le chargement dans le modal\n        this.tableUI.indexUI.modalUI.showLoading('Chargement...');\n\n\n        $.get(fullUrl)\n            .done((html) => {\n\n                this.tableUI.indexUI.modalUI.showContent(html);\n                this.executeScripts(html);\n                this.tableUI.indexUI.modalUI.setTitle(window.modalTitle);\n                this.tableUI.indexUI.formUI.init();\n                if(readOnly){\n                    this.tableUI.indexUI.formUI.setToReadOnly();\n                }\n\n            })\n            .fail((xhr) => {\n                           this.tableUI.indexUI.modalUI.close();\n                           AjaxErrorHandler.handleError(xhr, 'Erreur lors du chargement des détails de l\\'entité.');\n            });\n    }\n}\n","import { BaseAction } from './BaseAction';\nimport EventUtil from '../utils/EventUtil';\nimport { NotificationHandler } from '../components/NotificationHandler';\nimport { AjaxErrorHandler } from '../components/AjaxErrorHandler';\nimport { CrudAction } from './CrudAction';\n\nexport class BulkAction extends CrudAction {\n\n    constructor(config, tableUI) {\n         super(config,tableUI);\n        this.config = config;\n        this.tableUI = tableUI;\n        this.successMessage = 'Action en masse effectuée avec succès.';\n        this.isSelectingRows = false;\n    }\n\n    init() {\n        this.bindRowSelectionWatcher();\n        this.bindBulkActionButton();\n    }\n\n    /**\n     * Surveille les changements de sélection dans les lignes.\n     */\n    bindRowSelectionWatcher() {\n\n        // let parent = this;\n        // $(document).on('change', `#realisationTache-data-container .check-row`, function() {\n\n        //     const selectedCount = parent.getSelectedIds().length;\n        //     parent.isSelectingRows = selectedCount > 0;\n        //     alert(selectedCount);\n        //     console.log(\"isSelectingRows :\", parent.isSelectingRows, \"Total :\", selectedCount);\n\n\n        // });\n\n        EventUtil.bindEvent('change', `${this.config.tableSelector} .check-row`, () => {\n            const selectedCount = this.getSelectedIds().length;\n            this.isSelectingRows = selectedCount > 0;\n            console.log(selectedCount);\n            console.log(\"isSelectingRows :\", this.isSelectingRows, \"Total :\", selectedCount);\n        });\n    }\n\n    /**\n     * Initialise l'événement sur les boutons bulk-action.\n     */\n    bindBulkActionButton() {\n        EventUtil.bindEvent('click', `${this.config.crudSelector} .bulkActionButton`, (e) => {\n            e.preventDefault();\n\n            const button = e.currentTarget;\n            const url = button.dataset.url;\n            const method = button.dataset.method || 'POST';\n            const confirmText = button.dataset.confirm || null;\n            const actionType = button.dataset.actionType || 'ajax';\n\n            const selectedIds = this.getSelectedIds();\n\n            // pour permttre mettre à jour TableUI\n            this.isSelectingRows = false;\n\n            const selectedCount = selectedIds.length;\n\n            if (selectedCount === 0) {\n                // Confussion avec edit note il affiche le message on click entrer dans la note\n                // in table\n                // NotificationHandler.showError('Veuillez sélectionner au moins une ligne.');\n                return;\n            }\n\n            const doAction = () => {\n                if (actionType === 'modal') {\n                    // Affichage d'un formulaire d'édition en masse dans une modale\n                    const finalUrl = this.appendParamsToUrl(url, this.viewStateService.getContextParams());\n\n                    this.tableUI.indexUI.modalUI.showLoading('Modification en masse...');\n\n                    $.get(finalUrl, { ids: selectedIds })\n                        .done((html) => {\n                            this.tableUI.indexUI.modalUI.showContent(html);\n                            this.executeScripts(html);\n                         \n                            this.tableUI.indexUI.modalUI.setTitle(window.modalTitle);\n                            this.tableUI.indexUI.formUI.init(() => this.submitEntity(), false);\n                            this.tableUI.indexUI.formUI.disableRequiredAttributes();\n\n                            // Active la checkbox correspondante à tout champ modifié\n                            EventUtil.bindEvent('change', `${this.config.formSelector} input, ${this.config.formSelector} select, ${this.config.formSelector} textarea`, (event) => {\n                                const input = event.currentTarget;\n                                const fieldName = input.name?.replace('[]', '');\n\n                                // Si le champ a un nom et une case à cocher correspondante\n                                if (fieldName) {\n                                    const checkbox = document.getElementById(`bulk_field_${fieldName}`);\n                                    if (checkbox) {\n                                        checkbox.checked = true;\n                                    }\n                                }\n                            });\n\n                        })\n                        .fail((xhr) => {\n                            this.tableUI.indexUI.modalUI.close();\n                            AjaxErrorHandler.handleError(xhr, 'Erreur lors du chargement du formulaire.');\n                        });\n                } else {\n                    // Traitement AJAX classique\n                    NotificationHandler.showToast('info', `Traitement de ${selectedCount} élément(s) en cours...`);\n\n                    $.ajax({\n                        url: this.appendParamsToUrl(url, this.viewStateService.getContextParams()),\n                        method: method,\n                        data: {\n                            ids: selectedIds,\n                            _token: this.config.csrfToken\n                        }\n                    })\n                        .done((data) => {\n                            NotificationHandler.show(data.type, data.title, data.message || `${selectedCount} élément(s) traité(s).`);\n                            this.tableUI.loadListAction.loadEntities();\n                        })\n                        .fail((xhr) => {\n                            AjaxErrorHandler.handleError(xhr, 'Erreur lors de l\\'action en masse.');\n                        });\n                }\n            };\n\n            if (confirmText) {\n                NotificationHandler.confirmAction('Confirmation', `${confirmText} (${selectedCount} élément(s))`, doAction);\n            } else {\n                doAction();\n            }\n        });\n    }\n\n    /**\n     * Envoie le formulaire en AJAX depuis le formulaire en masse.\n     */\n    submitEntity(onSuccess) {\n        const form = $(this.config.formSelector);\n        const actionUrl = form.attr('action');\n        const method = form.find('input[name=\"_method\"]').val() || 'POST';\n        const formData = form.serialize();\n\n        this.isSelectingRows = false;\n        this.tableUI.indexUI.formUI.loader.show();\n\n        if (!this.tableUI.indexUI.formUI.validateForm()) {\n            NotificationHandler.showError('Validation échouée. Veuillez corriger les erreurs.');\n            this.tableUI.indexUI.formUI.loader.hide();\n            return;\n        }\n\n        $.ajax({\n            url: actionUrl,\n            method: method,\n            data: formData\n        })\n            .done((data) => {\n\n                // Affichage de message de progression de traitement\n                const traitement_token = data.data?.traitement_token;\n                if (traitement_token) {\n                    this.pollTraitementStatus(traitement_token, () => {\n                         NotificationHandler.show(data.type, data.title, data.message);\n                    });\n                }else{\n                     NotificationHandler.show(data.type, data.title, data.message);\n                }\n\n\n                this.tableUI.indexUI.formUI.loader.hide();\n               \n                this.tableUI.indexUI.modalUI.close();\n                if (typeof onSuccess === 'function') {\n                    onSuccess();\n                }\n                this.tableUI.loadListAction.loadEntities();\n            })\n            .fail((xhr) => {\n                this.tableUI.indexUI.formUI.loader.hide();\n\n                if (xhr.responseJSON?.errors) {\n                    this.tableUI.indexUI.formUI.showFieldErrors(xhr.responseJSON.errors);\n                }\n\n                AjaxErrorHandler.handleError(xhr, \"Erreur lors du traitement du formulaire.\");\n            });\n    }\n\n    /**\n     * Récupère les IDs sélectionnés dans le tableau.\n     * @returns {Array} Liste des IDs sélectionnés.\n     */\n    getSelectedIds() {\n        const checkboxes = document.querySelectorAll(`${this.config.crudSelector} .check-row:checked`);\n        return Array.from(checkboxes).map(cb => cb.dataset.id);\n    }\n}","import { NotificationHandler } from \"../NotificationHandler\";\n\nexport class OrdreColumn {\n    constructor(config, tableUI) {\n        this.config = config;\n        this.tableUI = tableUI;\n        this.entityEditor = this.tableUI.entityEditor; // fourni via CrudManager\n    }\n\n    init() {\n        if(this.config.canEdit){\n             this.initSortable();\n        }\n    }\n\n    initSortable() {\n        const self = this;\n\n        $(`${this.config.tableSelector} tbody`).sortable({\n            items: \"tr\",\n            cursor: \"move\",\n            axis: \"y\",\n            handle: \".sortable-button\", // la classe HTML définie sur <span>\n            placeholder: \"sortable-placeholder\",\n            forcePlaceholderSize: true,\n            tolerance: \"pointer\",\n            update: function (event, ui) {\n                const trElement = ui.item;\n                const id = trElement.attr('id')?.replace(/^.*-/, ''); // ex: \"workflowTache-row-5\" → \"5\"\n\n                if (!id) return;\n\n                const newPosition = trElement.index() + 1;\n\n                self.entityEditor.update_attributes(\n                    { id: id, ordre: newPosition },\n                    () => {\n                        NotificationHandler.showSuccess('Ordre mis à jour.');\n                        self.tableUI.loadListAction.loadEntities();\n                    }\n                );\n            }\n        });\n\n        $(`${this.config.tableSelector} .sortable-button`).css('cursor', 'move');\n    }\n}\n","import { Action } from \"../../actions/Action\";\nimport { CrudAction } from \"../../actions/CrudAction\";\nimport EventUtil from \"../../utils/EventUtil\";\nimport { FormUI } from \"../FormUI\";\nimport { LoadingIndicator } from \"../LoadingIndicator\";\nimport { NotificationHandler } from \"../NotificationHandler\";\n\n/**\n * Gère l'édition inline d'un champ dans un tableau CRUD.\n */\nexport class InlineEdit extends CrudAction {\n    constructor(config, tableUI) {\n        super(config,tableUI);\n        this.config = config;\n        this.tableUI = tableUI;\n        this.entityEditor = tableUI.entityEditor;\n        this.activeCell = null;\n       \n    }\n\n    /**\n     * Initialise les événements et gère un éventuel clic en attente.\n     */\n    init() {\n        this.loader = new LoadingIndicator(this.config.tableSelector);\n        this._bindInlineEditEvents();\n        this._openPendingClick();\n    }\n\n    /**\n     * Attache les clics et le survol sur les cellules éditables,\n     * ainsi que le clic global pour sortir de l'édition.\n     */\n    _bindInlineEditEvents() {\n        const selector = `${this.config.tableSelector} .editable-cell`;\n\n        // Clic sur cellule\n        EventUtil.bindEvent('dblclick', selector, e => {\n            const $cell = $(e.currentTarget);\n            e.preventDefault();\n\n            // si une autre cellule est en édition\n            if (this.activeCell && !this.activeCell.is($cell)) {\n                // enregistrer le clic en attente\n                const pending = { field: $cell.data('field'), id: $cell.data('id') };\n                localStorage.setItem('inlineEditPending', JSON.stringify(pending));\n                // valider la cellule active (restart init + reload)\n                this._submitActiveCell();\n                return;\n            }\n\n            // sinon ouvrir l'éditeur\n            this._openEditor($cell);\n        });\n\n        // Clic en dehors\n        EventUtil.bindEvent('click', 'body', e => {\n            if (!this.activeCell) return;\n            const $t = $(e.target);\n            if (!$t.closest(this.activeCell).length && !$t.closest(this.config.tableSelector).length) {\n                this._submitActiveCell();\n            }\n        });\n\n        // survol\n        EventUtil.bindEvent('mouseenter', selector, e => {\n            $(e.currentTarget).css({ cursor: 'cell', backgroundColor: '#e9ecef' });\n        });\n        EventUtil.bindEvent('mouseleave', selector, e => {\n            $(e.currentTarget).css({ cursor: '', backgroundColor: '' });\n        });\n    }\n\n    /**\n     * Ouvre l'éditeur inline pour la cellule donnée.\n     */\n    async _openEditor($cell) {\n        if ($cell.data('original') !== undefined) return;\n        const field = $cell.data('field');\n        const id    = $cell.data('id');\n        if (!field || !id) return;\n\n        this._cancelEdit();\n        this.activeCell = $cell;\n        const rowId = $cell.attr('id') || $cell.closest('tr').attr('id');\n        const formUI = new FormUI(this.config, this.tableUI.indexUI, `#${rowId}`);\n        const url = this.config.editUrl.replace(':id', id);\n\n   \n\n        this.loader.showNomBloquante(\"Chargement de formulaire\");\n           \n\n            $.get(url)\n            .done((resp) => {\n\n                        const $html = $('<div>').html(resp);\n                        this.executeScripts($html);\n                        const $grp = $html.find(`[name=\"${field}\"]`).closest('.form-group');\n                        if (!$grp.length) { console.warn(`Champ '${field}' introuvable.`); this.activeCell = null; return; }\n\n                        $cell.data('original', $cell.html()).empty().append($grp.contents());\n                        $grp.find('label').hide();\n                        formUI.init(() => {}, false);\n                        const $input = $cell.find(`[name=\"${field}\"]`);\n                        $input.focus();\n\n                        this.loader.hide();\n                        // key events\n                        $input.on('keydown.inlineEdit', evt => {\n                            if (evt.key === 'Escape') this._cancelEdit();\n                            if (evt.key === 'Enter') this._submitActiveCell();\n                        });\n                        // change auto\n                        if ($input.is('select') || $input.is(':checkbox')) {\n                            $input.on('change.inlineEdit', () => this._submitActiveCell());\n                        }\n\n\n            \n            })\n            .fail((xhr) => {\n                console.error('Erreur chargement inline:', xhr);\n                NotificationHandler.showError(\"Erreur lors de l'ouverture de l'éditeur inline.\");\n                this.activeCell = null;\n            })\n            .always(() => {\n                // Masquer l'indicateur de chargement\n              \n            });\n\n\n\n\n\n\n\n    \n\n           \n        \n    }\n\n    /**\n     * Valide et soumet la mise à jour de la cellule active.\n     */\n    _submitActiveCell() {\n        if (!this.activeCell) return;\n        const $cell = this.activeCell;\n        const field = $cell.data('field');\n        const id    = $cell.data('id');\n        const $input = $cell.find('input, select');\n\n        const rowId = $cell.attr('id') || $cell.closest('tr').attr('id');\n        const formUI = new FormUI(this.config, this.tableUI.indexUI, `#${rowId}`);\n        if (!formUI.validateForm()) { this._cancelEdit(); return; }\n\n        const payload = { id, [field]: $input.val() };\n        this.entityEditor.update_attributes(payload, (res, is_traitement_token) => {\n            \n            // if(!is_traitement_token){\n                this.tableUI.loadListAction.loadEntities().done(() => {\n                // après reload, on ré-init pour gérer le pending\n               // this.init();\n                });\n            // }\n          \n        });\n        this.activeCell = null;\n    }\n\n    /**\n     * Annule l'édition courante et restaure la cellule.\n     */\n    _cancelEdit() {\n        if (!this.activeCell) return;\n        const $cell = this.activeCell;\n        const orig = $cell.data('original');\n        if (orig !== undefined) {\n            $cell.off('.inlineEdit').empty().html(orig);\n            $cell.removeData('original');\n        }\n        this.activeCell = null;\n    }\n\n    /**\n     * Ouvre l'éditeur sur le clic stocké en attente.\n     */\n    _openPendingClick() {\n        const raw = localStorage.getItem('inlineEditPending');\n        if (!raw) return;\n        let pending;\n        try { pending = JSON.parse(raw); } catch { return; }\n        localStorage.removeItem('inlineEditPending');\n\n        const selector = `${this.config.tableSelector} .editable-cell[data-field=\\\"${pending.field}\\\"][data-id=\\\"${pending.id}\\\"]`;\n        const $cell = $(selector).first();\n        if ($cell.length) this._openEditor($cell);\n    }\n}\n","import { LoadListAction } from \"../actions/LoadListAction\";\n\nimport { CreateAction } from '../actions/CreateAction';\nimport { ShowAction } from '../actions/ShowAction';\nimport { EditAction } from '../actions/EditAction';\nimport { DeleteAction } from '../actions/DeleteAction';\nimport EventUtil from './../utils/EventUtil';\nimport { EntityAction } from './../actions/EntityAction';\nimport { IndexViewSwitcherAction } from \"../actions/IndexViewSwitcherAction\";\nimport { ShowIndexAction } from \"../actions/ShowIndexAction\";\nimport { BulkAction } from \"../actions/BulkAction\";\nimport { OrdreColumn } from \"./TableUI/OrdreColumn\";\nimport { InlineEdit } from \"./TableUI/InlineEdit\";\n\nexport class TableUI {\n    constructor(config, indexUI) {\n       \n        this.config = config;\n        this.indexUI = indexUI;\n    \n        // Initialisation des actions CRUD\n        this.entityCreator = new CreateAction(config,this);\n        this.entityViewer = new ShowAction(config,this);\n        this.showIndex = new ShowIndexAction(config,this);\n        this.entityEditor = new EditAction(config,this);\n        this.entityDeleter = new DeleteAction(config,this);\n        this.loadListAction = new LoadListAction(config,this);\n        this.entityAction = new EntityAction(config,this);\n        this.bulkAction = new BulkAction(config,this);\n        this.viewSwitcherAction = new IndexViewSwitcherAction(config, this);\n        this.ordreColumn = new OrdreColumn(config, this);\n        this.inlineEdit = new InlineEdit(config, this);\n    }\n\n    init(){\n        this.viewSwitcherAction.init();\n        this.entityEditor.init();\n        this.entityCreator.init(); \n        this.entityDeleter.init();\n        this.entityViewer.init();\n        this.showIndex.init();\n        this.entityAction.init();\n        this.bulkAction.init();\n        this.handleSorting();\n        TableUI.initTooltip();\n        this.initTruncatText();\n        this.initWidgets();\n        this.ordreColumn.init();\n        this.inlineEdit.init();\n    }\n\n    \n    updateSortArray(sortArray, column) {\n\n      \n        // Trouver le tri existant pour la colonne\n        const existingSort = sortArray.find((s) => s.startsWith(column + '_'));\n    \n        if (existingSort) {\n\n            // Récupérer la direction actuelle (asc ou desc)\n            const direction = existingSort.split('_').pop(); \n\n            if (direction === 'asc') {\n                // Si actuellement trié en ascendant, passe à descendant\n                return sortArray.map((s) =>\n                    s.startsWith(column + '_') ? `${column}_desc` : s\n                );\n            } else if (direction === 'desc') {\n                // Si actuellement trié en descendant, supprime le tri\n                return sortArray.filter((s) => !s.startsWith(column + '_'));\n            }\n        }\n    \n        // Si aucun tri existant, ajouter tri ascendant\n        return [...sortArray, `${column}_asc`];\n    }\n    \n\n    handleSorting() {\n        EventUtil.bindEvent('click', this.config.sortableColumnSelector, (e) => {\n            e.preventDefault();\n    \n            // 🔹 Récupérer le nom complet de la colonne à trier (ex: realisationTache.RealisationProjet.Apprenant_id)\n            const column = $(e.currentTarget).data('sort');\n    \n            // 🔹 Lire le tri actuel depuis le ViewState\n            const currentSortVars = this.config.viewStateService.getSortVariables();\n    \n            // 🔹 Récupérer la direction actuelle de la colonne\n            const currentDirection = currentSortVars[column];\n    \n            // 🔹 Déterminer la nouvelle direction (asc → desc → none)\n            let newSortValue = null;\n            if (currentDirection === 'asc') {\n                newSortValue = 'desc';\n            } else if (currentDirection === 'desc') {\n                newSortValue = null;\n            } else {\n                newSortValue = 'asc';\n            }\n    \n            // 🔹 Supprimer toutes les variables de tri du ViewState\n            Object.keys(currentSortVars).forEach(col => {\n                this.config.viewStateService.removeVariable(`sort.${this.config.entity_name}.${col}`);\n            });\n    \n            // 🔹 Ajouter le nouveau tri dans le ViewState\n            if (newSortValue !== null) {\n                this.config.viewStateService.setVariable(`sort.${this.config.entity_name}.${column}`, newSortValue);\n            }\n    \n            // 🔹 Construire sort string à partir du ViewState\n            const updatedSortVars = this.config.viewStateService.getSortVariables();\n\n\n            this.updateSortInURL(updatedSortVars);\n    \n            // 🔹 Recharger les entités avec les nouveaux paramètres\n            this.loadListAction.loadEntities(1);\n        });\n    }\n    \n    updateSortInURL(sortVars) {\n        const url = new URL(window.location.href);\n    \n        // 🔹 Supprimer tous les paramètres sort liés à l'entité (sort.entityName.xxx)\n        const entityPrefix = `sort.${this.config.entity_name}.`;\n        for (const [key] of url.searchParams.entries()) {\n            if (key.startsWith(entityPrefix)) {\n                url.searchParams.delete(key);\n            }\n        }\n    \n        // 🔹 Ajouter les nouveaux paramètres \"sort.entityName.col\" = direction\n        Object.entries(sortVars).forEach(([col, value]) => {\n            url.searchParams.set(`sort.${this.config.entity_name}.${col}`, value);\n        });\n    \n        window.history.replaceState({}, '', url);\n    }\n\n initTruncatText() {\n        // Supprime les tooltips UNIQUEMENT sur les éléments text-truncate\n        $('.text-truncate[data-toggle=\"tooltip\"]').tooltip('dispose');\n    \n        // Parcourt tous les éléments text-truncate\n        $('.text-truncate').each(function () {\n            const $el = $(this);\n            const isTruncated = this.offsetWidth < this.scrollWidth;\n    \n            if (isTruncated) {\n                // Si texte tronqué → on ajoute le tooltip Bootstrap\n                $el.attr('title', $el.text().trim());\n                $el.attr('data-toggle', 'tooltip');\n            } else {\n                // Sinon, on supprime les attributs liés au tooltip\n                $el.removeAttr('title').removeAttr('data-toggle');\n            }\n        });\n    \n        // Réactiver seulement les tooltips sur les éléments text-truncate tronqués\n        $('.text-truncate[data-toggle=\"tooltip\"]').tooltip({\n            placement: 'auto'\n        }).on('shown.bs.tooltip', function () {\n            const $this = $(this);\n            setTimeout(() => {\n                $this.tooltip('hide');\n            }, 3000);\n        });\n    }\n    \n\n    static initTooltip(){\n\n\n        // Supprimer les tooltip existant avant d'initialiser\n        $('.tooltip').remove();\n\n        // // tooltip-inner\n        // // Supprimer tous les tooltips existants avant d'en créer de nouveaux\n        $('[data-toggle=\"tooltip\"]').tooltip('dispose');\n            \n\n        // Supprime tous les tooltips actifs avant de les recréer\n        const tooltips = $('[data-toggle=\"tooltip\"]').tooltip({\n             placement: \"auto\"\n        });\n\n        tooltips.on('shown.bs.tooltip', function () {\n            const $this = $(this);\n            setTimeout(() => {\n                $this.tooltip('hide'); // Cache le tooltip\n            }, 3000); // Temps en ms avant de cacher le tooltip (ici 3 secondes)\n        });\n\n        // $('[data-toggle=\"tooltip\"]').tooltip();\n      \n    }\n\n    // TODO : Création d'un composant : WidgetUI pour traiter lew Widget\n    initWidgets(){\n\n        const self = this; // pour conserver `this` dans update\n\n          // Make the dashboard widgets sortable Using jquery UI\n        $('.widgets_container').sortable({\n            placeholder: 'sort-highlight',\n            handle: '.card-header, .nav-tabs, .icon',\n            forcePlaceholderSize: true,\n            zIndex: 999999 ,\n            tolerance: \"pointer\",\n            update: function (event, ui) {\n                const widgetElement = ui.item;\n                const id = widgetElement.data(\"id\");\n                const newPosition = widgetElement.index() + 1;\n            \n                self.entityEditor.update_attributes(\n                        { id: id, ordre: newPosition },\n                        () => NotificationHandler.showSuccess('Ordre mis à jour.')\n                );\n            }\n        })\n        $('.widgets_container .card-header').css('cursor', 'move')\n        $('.widgets_container .icon').css('cursor', 'move')\n\n        const widget_remove_buton_selector = `${this.config.dataContainerOutSelector} [data-card-widget=\"remove\"]`\n        EventUtil.bindEvent('click', widget_remove_buton_selector, (e) => {\n            e.preventDefault();\n\n            const $button = $(e.currentTarget); // 🔥 Le vrai bouton cliqué\n            const $widget = $button.closest('.widget');\n            const id = $widget.data('id');\n\n            if (!id) return;\n\n            self.entityEditor.update_attributes(\n                { id: id, visible: 0 },\n                () => {\n                    $widget.fadeOut();\n                    NotificationHandler.showSuccess('Widget masqué avec succès.');\n                }\n            );\n        });\n\n        this.widgetStateLocalStorage();\n    }\n\n    widgetStateLocalStorage() {\n        document.querySelectorAll('[data-card-widget=\"collapse\"]').forEach(button => {\n            const card = button.closest('.card');\n            const key = button.dataset.storeKey;\n    \n            if (!card || !key) return;\n    \n            // 🟢 Appliquer l'état initial\n            const savedState = localStorage.getItem(key);\n            if (savedState === 'collapsed' && !card.classList.contains('collapsed-card')) {\n                button.click();\n            }\n    \n            // 👁️ Observer le changement de classe collapsed-card\n            const observer = new MutationObserver((mutationsList) => {\n                for (const mutation of mutationsList) {\n                    if (mutation.attributeName === 'class') {\n                        if (card.classList.contains('collapsed-card')) {\n                            localStorage.setItem(key, 'collapsed');\n                        } else {\n                            localStorage.setItem(key, 'expanded');\n                        }\n                    }\n                }\n            });\n    \n            observer.observe(card, { attributes: true });\n        });\n    }\n}\n\n\n","import EventUtil from './../utils/EventUtil';\n\n/**\n * Gère les actions en masse (bulk) sur une table CRUD.\n */\nexport class BulkActionsUI {\n    /**\n     * @param {Object} config - Configuration générale.\n     * @param {Object} indexUI - Référence à l'interface principale.\n     */\n    constructor(config, indexUI) {\n        this.config = config;\n        this.indexUI = indexUI;\n    }\n\n    /**\n     * Initialise le composant des actions en masse.\n     */\n    init() {\n        this.config.init();\n        this.bindCheckAllHandler();\n        this.bindCheckRowHandler();\n        this.updateCheckAllState();\n    }\n\n    /**\n     * Met à jour l'état de la case \"tout sélectionner\" et la barre d'actions.\n     */\n    updateCheckAllState() {\n        const checkboxes = document.querySelectorAll(`${this.config.crudSelector} .check-row`);\n        const checkAll = document.querySelector(`${this.config.crudSelector} .check-all-rows`);\n        const checkedCount = document.querySelectorAll(`${this.config.crudSelector} .check-row:checked`).length;\n\n        // Si l'édition bulk n'est pas activé\n        if(!checkAll) return;\n\n        checkAll.checked = (checkedCount === checkboxes.length);\n        checkAll.indeterminate = (checkedCount > 0 && checkedCount < checkboxes.length);\n\n        const bulkActionBar = document.querySelector(`${this.config.crudSelector} .crud-bulk-action`);\n        const countDisplay = document.querySelector(`${this.config.crudSelector} .bulk-selected-count`);\n\n        if (bulkActionBar && countDisplay) {\n            if (checkedCount > 0) {\n                bulkActionBar.classList.remove('d-none');\n\n                // Afficher la bar de filtre car, peut être hide()\n                const $contentToToggle= $(`${this.config.crudSelector} .card-header:not(:first)`);\n                $contentToToggle.show();\n\n                      \n                countDisplay.textContent = checkedCount;\n            } else {\n\n          \n                bulkActionBar.classList.add('d-none');\n\n                // Revenire à l'état initial de bar filtre\n                this.indexUI.filterUI.initFilterToogle();\n\n                countDisplay.textContent = 0;\n            }\n        }\n    }\n\n    /**\n     * Gère l'événement de \"tout sélectionner\".\n     */\n    bindCheckAllHandler() {\n        EventUtil.bindEvent('change', `${this.config.crudSelector} .check-all-rows`, (e) => {\n            const isChecked = e.currentTarget.checked;\n            const checkboxes = document.querySelectorAll(`${this.config.crudSelector} .check-row`);\n           \n            checkboxes.forEach(cb => {\n                cb.checked = isChecked;\n                // dans event change on calcule les champs selection, qui bloque la notification\n                cb.dispatchEvent(new Event('change', { bubbles: true })); // ✅ simule le \"change\"\n            });\n            \n            this.updateCheckAllState();\n        });\n    }\n\n    /**\n     * Gère l'événement de sélection d'une ligne.\n     */\n    bindCheckRowHandler() {\n        EventUtil.bindEvent('change', `${this.config.crudSelector} .check-row`, () => {\n            this.updateCheckAllState();\n        });\n    }\n}\n","import { TableUI } from './TableUI';\nimport EventUtil from './../utils/EventUtil';\nimport DynamicDropdownTreatment from '../treatments/global/DynamicDropdownTreatment';\nimport { BulkActionsUI } from './BulkActionsUI';\n\nexport class FilterUI {\n\n\n    constructor(config, indexUI) {\n        this.config = config;\n        this.indexUI = indexUI;\n        // Temps de délai pour limiter les requêtes fréquentes\n        this.debounceTimeout = null;\n        this.debounceDelay = 500; // Par défaut : 500ms\n        this.page = 0;\n    }\n\n    init() {\n        this.config.init();\n        this.initFilterToogle();\n        this.handleFormInput(); // Gérer les entrées dans le formulaire (recherche + filtres)\n        this.adapterPourContext(); // Masquer les filtres dynamiquement selon le contexte\n        this.initializeFilterResetHandler();\n        this.initStats();\n     \n\n        // DynamicDropdownTreatment\n        document.querySelectorAll(this.config.filterFormSelector + \" [data-target-dynamic-dropdown]\").forEach((element) => {\n            new DynamicDropdownTreatment(element,this.config);\n        });\n    }\n\n\n    /**\n     * Récupère les valeurs de tous les champs du formulaire (recherche + filtres).\n     * @returns {Object} - Un objet contenant les données du formulaire.\n     */\n    getFormData(withEmpty = false) {\n\n        const form = $(this.config.filterFormSelector);\n        const formData = {};\n        \n        // serializeArray() récupère tous les champs du formulaire sous forme [{ name, value }]\n        const dataArray = form.serializeArray();\n        \n        // ✅ On construit formData : si un champ a plusieurs entrées (ex: hidden + checkbox), seule la dernière est conservée\n        dataArray.forEach(({ name, value }) => {\n            formData[name] = value;\n        });\n       \n        // Parcourir les champs du formulaire\n        form.serializeArray().forEach((field) => {\n            const value = field.value.trim(); // Supprimer les espaces inutiles\n            if (withEmpty || value) { // Inclure les champs vides seulement si demandé\n                field.name = field.name.replace(\"/\",\".\");\n                formData[field.name] = value;\n            }\n        });\n\n\n\n        return formData;\n    }\n\n    /**\n     * get les varaibles à ajouter dans le context pour assurer la persistance des valeurs de\n     * de filtre dans tous les interface\n     */\n    getFormDataAsStateVariables(){\n        const data = {};\n        const formData  = this.getFormData(true)\n        Object.entries(formData).forEach(([key, value]) => {\n            data[`filter.${this.config.entity_name}.${key}`] = value;\n        });\n\n     \n         \n        return data;\n    }\n\n    getUrlParams() {\n        const prefixedContext = {};\n        Object.entries(this. getFormData()).forEach(([key, value]) => {\n            prefixedContext[`${key}`] = value;\n        });\n        return new URLSearchParams(prefixedContext).toString();\n    }\n\n    /**\n     * Soumet le formulaire en récupérant les données et recharge les entités.\n     * @param {number} page - Numéro de la page à charger (par défaut : 1).\n     */\n    submitForm(page = 1) {\n        const formData = this.getFormData(true); // Récupérer les données du formulaire\n\n       \n        formData.page = page; // Ajouter le numéro de page aux données\n    \n        // ✅ Ajouter le flag \"reset_filter\" si nécessaire\n       \n        \n        // View State Filter \n        this.config.viewStateService.updatFilterVariables(this.getFormData(true));\n        // Mettre à jour l'URL avec les paramètres non vides\n        this.indexUI.updateURLParameters(this.getFormDataAsStateVariables());\n    \n        // Charger les entités avec les paramètres\n        this.indexUI.tableUI.loadListAction.loadEntities(page, formData);\n\n        // TODO \n        // Update Context : ajouter ou supprimer les filtre de contexte pour adapter le formulaire \n        // Création au filtre, c'est appliquer les valeurs de filtre pour les valeurs de formulaire\n        // Il faut gérer l'insertion et la suppression\n    }\n\n    /**\n     * Gère les événements du formulaire (recherche et filtres) avec délai (debounce).\n     */\n    handleFormInput() {\n        const formSelector = this.config.filterFormSelector;\n\n        // Sur saisie dans les champs de recherche ou filtres\n        EventUtil.bindEvent('input', `${formSelector} input, ${formSelector} select`, () => {\n            clearTimeout(this.debounceTimeout);\n            this.debounceTimeout = setTimeout(() => {\n                this.updateFilterState();\n                this.submitForm(); // Soumettre le formulaire après un délai\n            }, this.debounceDelay);\n        });\n\n        // Soumission explicite du formulaire (par bouton ou utilisateur)\n        EventUtil.bindEvent('submit', formSelector, (e) => {\n            e.preventDefault();\n            this.submitForm();\n        });\n    }\n\n\n    /**\n     * Masque les éléments <select> dont l'id correspond à une clé dans le contexte (state).\n     */\n    adapterPourContext() {\n        \n        const scopeData = this.config.viewStateService.getScopeVariables();\n        const filterData = this.config.viewStateService.getFilterVariables();\n    \n        // Appliquer les variables de scope pour masquer ou surligner les filtres\n        Object.keys(scopeData).forEach((key) => {\n            const filterElement = document.querySelector(`${this.config.filterFormSelector} [name=\"${key}\"]`);\n            if (filterElement) {\n                if (this.config.isDebug) {\n                    filterElement.parentElement.style.backgroundColor = 'lightblue'; // Mode debug : surligner\n                } else {\n                    filterElement.parentElement.style.display = 'none'; // Masquer l'élément du filtre\n                }\n            }\n        });\n    \n        // Appliquer les valeurs des filtres et masquer si nécessaire\n        // Seulement dans le cas de insert, dans le cas de edit il faut garder les valeurs de l'objet\n        Object.keys(filterData).forEach((key) => {\n            const filterElement = document.querySelector(`${this.config.filterFormSelector} [name=\"${key}\"]:not([data-filter-ignore])`);\n            if (filterElement) {\n                    if (filterElement.type === \"checkbox\") {\n                    // Si la valeur est \"1\", on coche la case, sinon on décoche\n                    filterElement.checked = filterData[key] === \"1\" || filterData[key] === 1 || filterData[key] === true;\n                    } else if (filterElement.tagName === \"INPUT\" || filterElement.tagName === \"TEXTAREA\") {\n                        filterElement.value = filterData[key];\n                    } else if (filterElement.tagName === \"SELECT\") {\n                        filterElement.value = filterData[key];\n                        filterElement.dispatchEvent(new Event(\"change\"));\n                    }\n            }\n        });\n    }\n    \n\n      // Fonction pour vérifier l'état des filtres\n      updateFilterState (){\n        const filterIcon = document.querySelector(this.config.filterIconSelector);\n        const filterForm = document.querySelector(this.config.filterFormSelector);\n        if(!filterForm) \n            return;\n        const filters = new FormData(filterForm);\n        \n        let hasActiveFilters = false;\n\n        for (let [key, value] of filters.entries()) {\n            if (value.trim() !== '' && key !== 'page') {\n                hasActiveFilters = true;\n                break;\n            }\n        }\n\n        if (hasActiveFilters) {\n            filterIcon.classList.remove('fa-filter');\n            filterIcon.classList.add('fa-times-circle');\n        } else {\n            filterIcon.classList.remove('fa-times-circle');\n            filterIcon.classList.add('fa-filter');\n        }\n    };\n\n\n    initializeFilterResetHandler() {\n        const filterIcon = document.querySelector(this.config.filterIconSelector);\n        const filterForm = document.querySelector(this.config.filterFormSelector);\n    \n\n        EventUtil.bindEvent('click', this.config.filterIconSelector, (e) => {\n            filterForm.querySelectorAll('input, select').forEach((field) => {\n                field.value = ''; // Réinitialiser les champs\n            });\n\n             // Réinitialiser Select2\n            $(filterForm).find('.select2').val(null).trigger('change');\n\n\n            this.updateFilterState();\n            this.submitForm(); // Soumettre le formulaire après réinitialisation\n\n\n        });\n\n      \n        // Réinitialiser les filtres au clic sur l'icône\n        // filterIcon.addEventListener('click', () => {\n        //     filterForm.querySelectorAll('input, select').forEach((field) => {\n        //         field.value = ''; // Réinitialiser les champs\n        //     });\n\n        //      // Réinitialiser Select2\n        //     $(filterForm).find('.select2').val(null).trigger('change');\n\n\n        //     this.updateFilterState();\n        //     this.submitForm(); // Soumettre le formulaire après réinitialisation\n        // });\n    \n        // Vérifier l'état des filtres au chargement et sur modification\n        this.updateFilterState();\n    }\n\n\n/**\n * Initialise l'affichage des statistiques.\n */\ninitStats() {\n    // Sélectionner le conteneur des statistiques\n    const statsContainer = document.querySelector(`${this.config.crudSelector} .stats-summary-items`);\n\n    if (!statsContainer) {\n        console.warn(\"Le conteneur des statistiques n'a pas été trouvé.\");\n        return;\n    }\n\n    // Récupérer les statistiques depuis le service de contexte\n    const statsData = this.config.viewStateService.getStatsVariables();\n\n    // Vérifier si l'objet statsData et statsData.stats existent et sont valides\n    if (!statsData || !Array.isArray(statsData.stats) || statsData.stats.length === 0) {\n        statsContainer.innerHTML = '<span class=\"text-muted\">Aucune statistique disponible</span>';\n        return;\n    }\n\n    // Générer les badges de statistiques dynamiquement\n    statsContainer.innerHTML = statsData.stats\n        .map(stat => `\n            <span class=\"badge badge-info mr-2 p-1\" style=\"margin-bottom: 4px\">\n                <i class=\"${stat.icon}\"></i> ${stat.label} : ${stat.value}\n            </span>\n        `)\n        .join(\"\");\n}\n\n//   \n\ninitFilterToogle() {\n    const toggleButtonSelector = `${this.config.crudSelector} #toggle-filter`;\n    const $btn = $(toggleButtonSelector);\n    const $card = $(`${this.config.crudSelector} #card_crud`);\n    const storageKey = `toggle_filter_state_${this.config.crudSelector}`;\n    const $contentToToggle = $card.find('.card-header:not(:first)');\n\n    // Fonction pour cacher/montrer les filtres\n    const setFilterVisibility = (visible) => {\n        if (visible) {\n            $contentToToggle.show();\n            $btn.attr('data-visible', '1');\n        } else {\n            $contentToToggle.hide();\n            $btn.attr('data-visible', '0');\n        }\n        $btn.html('<i class=\"fas fa-filter\"></i>');\n        localStorage.setItem(storageKey, visible ? '1' : '0');\n    };\n\n    // 🔹 Rétablir l'état au chargement\n    const savedState = localStorage.getItem(storageKey);\n    setFilterVisibility(savedState === '1');\n\n    // 🔸 Gérer le clic sur le bouton\n    EventUtil.bindEvent('click', toggleButtonSelector, (e) => {\n        e.preventDefault();\n        const self = $(e.currentTarget);\n        const isVisible = self.attr('data-visible') === '1';\n        setFilterVisibility(!isVisible);\n    });\n}\n\n\n\n\n}\n","import EventUtil from './../utils/EventUtil';\n\nexport class PaginationUI {\n    constructor(config, indexUI) {\n        this.config = config;\n        this.indexUI = indexUI; // Référence à `TableUI`\n        this.page = 1;\n    }\n\n    /**\n     * Initialise la gestion des événements de pagination.\n     */\n    init() {\n        this.handlePaginationClick(); // Gérer les clics de pagination\n    }\n\n    /**\n     * Gère les clics sur les liens de pagination.\n     */\n    handlePaginationClick() {\n        EventUtil.bindEvent('click', this.config.paginationSelector, (e) => {\n            e.preventDefault();\n    \n            const page = $(e.currentTarget).data('page') || $(e.target).text().trim();\n    \n            if (page) {\n                const filters = this.indexUI.filterUI.getFormData(true); // Inclure tous les champs, même vides\n                filters.page = page; // Ajouter le numéro de page\n                this.page = page;\n    \n                // Mettre à jour l'URL avec tous les paramètres\n                this.indexUI.updateURLParameters(filters);\n    \n                // Charger les entités avec les filtres et la page\n                this.indexUI.tableUI.loadListAction.loadEntities(page, filters);\n            }\n        });\n    }\n\n}\n","import { LoadingIndicator } from \"../components/LoadingIndicator\";\nimport { NotificationHandler } from \"../components/NotificationHandler\";\nimport EventUtil from \"../utils/EventUtil\";\n\nexport class NotificationUI {\n    static autoRefreshStarted = false;\n\n    constructor(config, indexUI) {\n        this.config = config;\n        this.indexUI = indexUI;\n        this.loader = new LoadingIndicator(\"#notificationUI\");\n        this.isTabActive = true; // ✅ On considère actif par défaut\n        this.initVisibilityDetection(); // ➡️ Ajouter la détection\n    }\n\n    /**\n     * Initialise les événements pour les notifications.\n     */\n    init() {\n        this.loadNotifications();\n        if (!NotificationUI.autoRefreshStarted) {\n            this.startAutoRefresh();\n            NotificationUI.autoRefreshStarted = true;\n        }\n    }\n\n    /**\n     * Lance un auto-refresh toutes les 5 secondes.\n     */\n    startAutoRefresh() {\n\n        const is_xdebug = this.config.viewStateService.getVariable(\"app.is_xdebug\");\n\n        if(!is_xdebug){\n            setInterval(() => {\n                if (this.isTabActive) { // ✅ Ne charger que si l'onglet est actif\n                    this.loadNotifications();\n                    this.indexUI.tableUI.loadListAction.loadEntities(undefined, {},true);\n                }\n            }, 15000); // 10 secondes\n        }\n       \n    }\n    \n    /**\n     * Charge les notifications depuis le serveur.\n     */\n    loadNotifications() {\n        if (!this.config.getUserNotificationsUrl) {\n            return;\n        }\n\n        const dropdown = document.querySelector('#notificationDropdown');\n        const wasOpen = dropdown && dropdown.getAttribute('aria-expanded') === 'true';\n\n        // this.loader.show();\n\n        $.ajax({\n            url: this.config.getUserNotificationsUrl,\n            method: \"GET\",\n        })\n        .done((html) => {\n            this.updateNotificationUI(html);\n            if (wasOpen) {\n                const newDropdown = document.querySelector('#notificationDropdown');\n                $(newDropdown).dropdown('show');\n            }\n        })\n        .fail((xhr) => {\n           \n            const errorMessage = xhr.responseText || \"Erreur lors du chargement des notifications.\";\n            console.log(\"NotificationUI : \" + errorMessage);\n            console.log(xhr);\n            // il générer parfois une erreur 500\n            // NotificationHandler.showAlert(\"error\", \"Erreur Notifications\", errorMessage);\n        })\n        .always(() => {\n            // this.loader.hide();\n        });\n    }\n\n    /**\n     * Met à jour l'UI avec le HTML reçu.\n     * @param {string} html - HTML du composant notifications.\n     */\n    updateNotificationUI(html) {\n        const container = document.querySelector(\"#notificationUI\");\n        if (!container) return;\n\n        container.innerHTML = html;\n    }\n\n \n\n    /**\n     * Initialise la détection de visibilité du navigateur.\n     */\n    initVisibilityDetection() {\n        EventUtil.bindEvent('visibilitychange', document, () => {\n            this.isTabActive = !document.hidden;\n        });\n    \n        // window.addEventListener('focus', () => {\n        //     this.isTabActive = true;\n        // });\n    \n        // window.addEventListener('blur', () => {\n        //     this.isTabActive = false;\n        // });\n    }\n}\n","\n\nimport { ContexteStateEventHandler } from '../eventsHandler/ContexteStateEventHandler';\nimport { TableUI } from \"../components/TableUI\";\nimport { FilterUI } from \"../components/FilterUI\";\nimport { PaginationUI } from '../components/PaginationUI';\nimport { FormUI } from '../components/FormUI';\nimport { ModalUI } from '../components/ModalUI';\nimport { ShowAction } from './../actions/ShowAction';\nimport { BulkActionsUI } from '../components/BulkActionsUI';\nimport { NotificationUI } from '../components/NotificationUI';\nimport { ShowUI } from '../components/ShowUI';\n\n\nexport class CrudModalManager {\n    /**\n     * Constructeur de CrudModalManager.\n     * @param {Object} config - Configuration globale pour le CRUD.\n     */\n    constructor(config) {\n        this.config = config;\n        this.parent_manager = null;\n\n        // Initialisation des composants UI\n        this.notificationUI = new NotificationUI(config, this);\n        this.filterUI = new FilterUI(config, this);\n        this.tableUI = new TableUI(config, this);\n        this.bulkActionsUI = new BulkActionsUI(config, this);\n        this.paginationUI = new PaginationUI(config, this);\n        this.formUI = new FormUI(config,this);\n        this.showUI = new ShowUI(config,this);\n        this.modalUI = new ModalUI(config,this);\n        this.contexteEventHandler = new ContexteStateEventHandler(config);\n\n        if (window.crudModalManagers && this.config.parent_manager_id != null) {\n            this.parent_manager = window.crudModalManagers[this.config.parent_manager_id];\n        }\n       \n    }\n\n    /**\n     * Initialise tous les gestionnaires et actions CRUD.\n     */\n    init() {\n        // Init Components \n        this.filterUI.init();\n        this.tableUI.init();\n        this.bulkActionsUI.init();\n        this.paginationUI.init();\n        this.notificationUI.init();\n        if(this.config.isMany){\n            this.adapterUiPour_isMany();         \n        }\n\n        this.applyActionFromURL();\n\n        this.config.debugInfo(\"Init : \" + this.config);\n    }\n\n    adapterUiPour_isMany(){\n        const crud_header = document.querySelector(`#${this.config.entity_name}-crud-header`);\n        if (crud_header) {\n            crud_header.style.display = 'none'; // Masquer le filtre\n        }\n\n        const crud_table_card = document.querySelector(`#${this.config.entity_name}-crud-table #card_crud`);\n        if (crud_table_card) {\n            crud_table_card.classList.remove(\"card-info\");\n        }\n    }\n    /**\n     * Met à jour les paramètres dans l'URL sans recharger la page.\n     * @param {Object} params - Données à inclure dans l'URL.\n     */\n    updateURLParameters(params) {\n    const url = new URL(window.location.href);\n\n    // Supprimer uniquement les anciens paramètres liés aux filtres\n    Object.entries(params).forEach(([key, value]) => {\n        if (value === undefined || value === null || value === '') {\n            // Supprimer les filtres qui sont vides ou null\n            url.searchParams.delete(key);\n        } else {\n            // Mettre à jour ou ajouter les autres paramètres\n            url.searchParams.set(key, value);\n        }\n    });\n\n    // Mettre à jour l'URL sans recharger la page\n    window.history.replaceState({}, '', url);\n}\n\n    /**\n     * Exécute une action basée sur les paramètres de l'URL (edit, show).\n     */\n    applyActionFromURL() {\n        const url = new URL(window.location.href);\n        const actionName = url.searchParams.get(\"action\");\n        const actionId = url.searchParams.get(\"id\");\n        const contextKey = url.searchParams.get(\"contextKey\");\n    \n        if(contextKey && this.config.contextKey != contextKey) {\n            return;\n        }\n\n        if (!actionName || !actionId) return; // Vérification : si action ou id est manquant, on arrête l'exécution\n\n        switch (actionName.toLowerCase()) {\n            case \"edit\":\n                this.tableUI.entityEditor.editEntity(actionId);\n                break;\n            case \"show\":\n                this.tableUI.entityEditor.showEntity(actionId); // Correction : appel correct de la méthode\n                break;\n            default:\n                console.warn(`Action inconnue : ${actionName}`);\n                break;\n        }\n    }\n\n}\n","import { ContexteStateEventHandler } from '../eventsHandler/ContexteStateEventHandler';\nimport { FormUI } from '../components/FormUI';\nimport { NotificationHandler } from '../components/NotificationHandler';\nimport { FilterUI } from '../components/FilterUI';\nimport { TableUI } from '../components/TableUI';\nimport { PaginationUI } from '../components/PaginationUI';\nimport { ModalUI } from '../components/ModalUI';\nimport EventUtil from './../utils/EventUtil';\n \n/**\n * Classe principale pour Edit with HasMany\n */\nexport class EditWithTabPanelManager {\n    /**\n     * Constructeur de CrudModalManager.\n     * @param {Object} config - Configuration globale pour le CRUD.\n     */\n    constructor(config) {\n        this.config = config;\n\n        // Initialisation des composants UI\n        // this.filterUI = new FilterUI(config, this);\n        // this.tableUI = new TableUI(config, this);\n        // this.paginationUI = new PaginationUI(config, this);\n        this.formUI = new FormUI(config,this);\n        this.modalUI = new ModalUI(config,this);\n        this.contexteEventHandler = new ContexteStateEventHandler(config);\n    }\n\n    /**\n     * Initialise tous les gestionnaires et actions CRUD.\n     */\n    init() {\n        // this.tableUI.indexUI.formUI.hideSelectsByIdFromContext();\n        // this.handleButtonSaveCardWithHasMany();\n        this.contexteEventHandler.init();\n\n        this.config.debugInfo(\"Init : \" + this.config);\n    }\n\n\n    // handleButtonSaveCardWithHasMany(){\n    //     EventUtil.bindEvent('click', `${this.config.cardTabSelector} .btn-card-header`, (e) => {\n    //         e.preventDefault();\n    //         this.submitEntityAndRedirect(this.config.indexUrl);\n         \n\n    //     });\n    // }\n\n    submitEntityAndRedirect(url){\n\n        this.submitEntity(() => {\n            // Redirection vers l'index après la réussite de l'appel AJAX\n            window.location.href = this.config.indexUrl;\n        });\n    }\n\n\n\n\n\n\n\n\n\n\n\n      /**\n         * Soumet le formulaire de modification via AJAX.\n         */\n        submitEntity(onSuccess) {\n            const form = $(this.config.formSelector);\n            const actionUrl = form.attr('action'); // URL définie dans le formulaire\n            const method = form.find('input[name=\"_method\"]').val() || 'POST'; // Méthode HTTP\n            const formData = form.serialize(); // Sérialisation des données du formulaire\n            \n            this.tableUI.indexUI.formUI.loader.show();\n    \n            // Valider le formulaire avant la soumission\n            if (!this.tableUI.indexUI.formUI.validateForm()) {\n                NotificationHandler.showError('Validation échouée. Veuillez corriger les erreurs.');\n                this.tableUI.indexUI.formUI.loader.hide();\n                return; // Ne pas soumettre si la validation échoue\n            }\n    \n            // Envoyer les données via une requête AJAX\n            $.ajax({\n                url: actionUrl,\n                method: method,\n                data: formData,\n            })\n                .done(() => {\n                    this.tableUI.indexUI.formUI.loader.hide();\n                    NotificationHandler.showSuccess(this.SuscesMessage);\n                    // Appeler le callback de succès si fourni\n                    if (typeof onSuccess === 'function') {\n                        onSuccess();\n                    }\n                })\n                .fail((xhr) => {\n                    this.tableUI.indexUI.formUI.loader.hide();\n                    const errorMessage = xhr.responseJSON?.message || 'Une erreur s\\'est produite lors de la modification.';\n                    this.handleError(errorMessage); // Afficher une erreur\n                });\n        }\n    \n}\n","\n\nimport ConfigCrudManagerHelper  from \"./helpers/ConfigCrudManagerHelper\";\nimport ConfigWithTabPanelManageHelper  from \"./helpers/ConfigWithTabPanelManageHelper\";\nimport { CrudModalManager } from './managers/CrudModalManager';\nimport { EditWithTabPanelManager } from './managers/EditWithTabPanel';\n\nexport default class InitUIManagers {\n    \n    static processedManagers = new Set(); // Stocke les identifiants des entités déjà traitées\n\n    static init() {\n        InitUIManagers.initCrudModalManagers();\n        InitUIManagers.initEditWithTabPanelManagers();\n\n        window.crudModalManagersConfig = [];\n        window.editWithTabPanelManagersConfig = [];\n    }\n\n    static initCrudModalManagers() {\n        if (!window.crudModalManagersConfig || !Array.isArray(window.crudModalManagersConfig)) {\n            return; // Si la configuration des entités est absente ou invalide, on arrête\n        }\n        \n        window.crudModalManagersConfig.forEach((crudModalManagerData) => {\n\n            const configHelper = new ConfigCrudManagerHelper(crudModalManagerData);\n\n            const uniqueKey = configHelper.id || JSON.stringify(crudModalManagerData);\n            \n            // if (InitUIManagers.processedManagers.has(uniqueKey)) {\n                \n            //     const crudModalManager = window.crudModalManagers[configHelper.id];\n            //     crudModalManager.init();\n\n            // }else{\n\n                InitUIManagers.processedManagers.add(uniqueKey);\n                const crudModalManager = new CrudModalManager(configHelper);\n                crudModalManager.init();\n                if (!window.crudModalManagers) {\n                    window.crudModalManagers = {};\n                }\n                configHelper.managerInstance = crudModalManager;\n                window.crudModalManagers[configHelper.id] = crudModalManager;\n\n            // }\n              \n            \n            \n           \n           \n\n           \n        });\n    }\n\n    static initEditWithTabPanelManagers() {\n        if (!window.editWithTabPanelManagersConfig || !Array.isArray(window.editWithTabPanelManagersConfig)) {\n            return; // Si la configuration des entités est absente ou invalide, on arrête\n        }\n        \n        window.editWithTabPanelManagersConfig.forEach((editWithTabPanelManagerData) => {\n            const configHelper = new ConfigWithTabPanelManageHelper(editWithTabPanelManagerData);\n            \n            const uniqueKey = configHelper.id || JSON.stringify(editWithTabPanelManagerData);\n           \n            // if (InitUIManagers.processedManagers.has(uniqueKey)) {\n            //     const editWithTabPanelManager = window.editWithTabPanelManagers[configHelper.id];\n            //     editWithTabPanelManager.init();\n            // }else{\n                // InitUIManagers.processedManagers.add(uniqueKey);\n            \n                const editWithTabPanelManager = new EditWithTabPanelManager(configHelper);\n                editWithTabPanelManager.init();\n    \n                if (!window.editWithTabPanelManagers) {\n                    window.editWithTabPanelManagers = {};\n                }\n                window.editWithTabPanelManagers[configHelper.id] = editWithTabPanelManager;\n            // }\n          \n        });\n    }\n}\n","\n\nimport { AjaxErrorHandler } from \"../../components/AjaxErrorHandler\";\nimport { LoadingIndicator } from '../../components/LoadingIndicator';\nimport EventUtil from '../../utils/EventUtil';\nimport { CrudAction } from './../../actions/CrudAction';\n\nexport class DataCalculTreatment {\n    /**\n     * Constructeur pour initialiser la gestion des calculs dynamiques.\n     * @param {string} formSelector - Sélecteur du formulaire à gérer.\n     * @param {string} calculationUrl - URL de l’API pour recalculer les valeurs dépendantes.\n     */\n    constructor(config, formUI) {\n        this.formUI = formUI;\n        this.config = config;\n        this.debounceDelay = 500; // Délai pour limiter les appels AJAX\n        this.currentRequest = null; // Stocke la requête en cours\n        this.lastSentData = null; // Stocke les dernières données envoyées\n        this.loader = new LoadingIndicator(this.config.formSelector);\n        this.disableCalcul = true;\n\n        this.CrudAction = new CrudAction(this.config,this.formUI.indexUI.tableUI);\n    }\n\n    /**\n     * Initialise la gestion des événements pour détecter les modifications des champs dynamiques.\n     */\n    init() {\n        // Gestion des champs texte, nombre, textarea\n        EventUtil.bindEvent('input', `${this.config.formSelector} [data-calcul=\"true\"]:not(select, [type=\"checkbox\"], [type=\"radio\"])`, (e) => {\n            this.debouncedCalculate(e.currentTarget);\n        });\n    \n        // Gestion des <select> et des cases à cocher avec \"change\"\n        EventUtil.bindEvent('change', `${this.config.formSelector} [data-calcul=\"true\"]`, (e) => {\n            this.debouncedCalculate(e.currentTarget);\n        });\n    }\n\n    /**\n     * Applique un délai avant d'envoyer la requête AJAX pour éviter les requêtes excessives.\n     * @param {HTMLElement} field - Champ modifié.\n     */\n    debouncedCalculate(field) {\n        if (!this.disableCalcul) return; // ⛔ Ne pas exécuter si verrou actif\n        clearTimeout(this.debounceTimeout);\n        this.debounceTimeout = setTimeout(() => {\n            this.triggerCalculation(field);\n        }, this.debounceDelay);\n    }\n\n    /**\n     * Envoie une requête AJAX au serveur pour recalculer les valeurs dépendantes.\n     * @param {HTMLElement} field - Champ modifié.\n     */\n    triggerCalculation(sourceField) {\n        const form = $(this.config.formSelector);\n\n         // Supprimer la méthode put en cas de update\n        let formData = form.serializeArray();\n        formData = formData.filter(field => field.name !== \"_method\");\n        formData = $.param(formData);\n\n\n        // Vérifier si les données envoyées sont identiques à la dernière requête pour éviter les doublons\n        if (this.lastSentData === formData) return;\n        this.lastSentData = formData;\n\n        // Annuler la requête précédente si elle est en cours\n        if (this.currentRequest !== null) {\n             this.currentRequest.abort();\n        }\n\n        // Il dirrange l'utilisateur\n        this.loader.showNomBloquante();\n        this.currentRequest = $.ajax({\n            url: this.config.calculationUrl,\n            method: 'POST',\n            data: formData,\n            dataType: 'json',\n        })\n            .done((response) => {\n                // sourceField.prop('disabled', false);\n                console.log(response);\n                // Affichage de message de progression de traitement\n                const traitement_token = response.traitement_token;\n                console.log(traitement_token);\n                if (traitement_token) {\n                    this.CrudAction.pollTraitementStatus(traitement_token, () => {\n                        // NotificationHandler.show(response.type, response.title, response.message);\n                    });\n                }else{\n                       // NotificationHandler.show(response.type, response.title, response.message);\n                }\n\n\n                this.updateDependentFields(sourceField,response.entity);\n            })\n            .fail((xhr, textStatus) => {\n                // Ignorer les erreurs d'annulation de requête AJAX\n                if (textStatus === 'abort') {\n                    return;\n                }\n                if (xhr.responseJSON?.errors) {\n                    this.formUI.showFieldErrors(xhr.responseJSON.errors);\n                } else {\n                   \n                    AjaxErrorHandler.handleError(xhr, \"Erreur lors du recalcul.\");\n                }\n            })\n            .always(() => {\n                this.loader.hide();\n                this.currentRequest = null;\n            });\n    }\n\n    /**\n     * Met à jour les champs dépendants avec les nouvelles valeurs reçues du serveur.\n     * @param {Object} response - Données mises à jour reçues du serveur.\n     */\n    updateDependentFields(sourceField, response) {\n\n        const { hasManyInputsToUpdate, ...fields } = response;\n\n        this.formUI.showFields(fields,sourceField, hasManyInputsToUpdate);\n       \n       \n    }\n    \n}\n","import EventUtil from './../../utils/EventUtil';\n\n/**\n * Ce traitement permet de mémoriser la valeur d’un champ dans le localStorage\n * et de la restaurer automatiquement au chargement du formulaire.\n * Il fonctionne sur tout champ contenant l’attribut data-store-key.\n */\nexport default class LocalStorageDefaultTreatment {\n    constructor(config, formUI) {\n        this.formUI = formUI;\n        this.config = config;\n        this.formSelector = this.config.formSelector;\n    }\n\n    init() {\n        const fields = document.querySelectorAll(`${this.formSelector} [data-store-key]`);\n    \n        fields.forEach(input => {\n            const key = input.dataset.storeKey;\n    \n            // 🟢 Récupérer et appliquer la valeur sauvegardée\n            const savedValue = localStorage.getItem(key);\n    \n            if (input.type === 'checkbox') {\n                if (savedValue !== null) {\n                    input.checked = savedValue === 'true';\n                }\n            } else if (savedValue !== null && input.value === '') {\n                input.value = savedValue;\n            }\n    \n            // 🔄 Définir le bon type d'événement\n            const eventType = ['checkbox', 'radio', 'select-one'].includes(input.type) || input.tagName === 'SELECT'\n                ? 'change'\n                : 'input';\n    \n            // 💾 Sauvegarde dans le localStorage\n            EventUtil.bindEvent(eventType, input, () => {\n                if (input.type === 'checkbox') {\n                    localStorage.setItem(key, input.checked.toString());\n                } else {\n                    localStorage.setItem(key, input.value);\n                }\n            });\n        });\n    }\n    \n}\n","import { LoadingIndicator } from \"./LoadingIndicator\";\nimport { ViewStateService } from './ViewStateService';\nimport DynamicFieldVisibilityTreatment from \"../treatments/form/DynamicFieldVisibilityTreatment\";\nimport { CodeJar } from 'codejar';\nimport EventUtil from './../utils/EventUtil';\n// import { withLineNumbers } from 'codejar/linenumbers';\n\nimport Prism from 'prismjs';\nimport 'prismjs/themes/prism.css'; \nimport 'prismjs/components/prism-json';\nimport InitUIManagers from \"../InitUIManagers\";\n\n// Import Flatpickr\nimport flatpickr from 'flatpickr';\n// Import the French locale\nimport { French } from 'flatpickr/dist/l10n/fr.js';\nimport { DataCalculTreatment } from \"../treatments/form/DataCalculTreatment\";\nimport { NotificationHandler } from \"./NotificationHandler\";\nimport DynamicDropdownTreatment from \"../treatments/global/DynamicDropdownTreatment\";\nimport LocalStorageDefaultTreatment from \"../treatments/form/LocalStorageDefaultTreatment\";\n\n\nexport class FormUI  {\n    /**\n     * Constructeur de la classe FormUI.\n     * @param {string} formSelector - Sélecteur CSS du formulaire à gérer.\n     * @param {ModalUI} modalUI - Instance de ModalUI pour gérer les interactions modales.\n     */\n    constructor(config, indexUI , formSelector =\"\") {\n        this.config = config;\n        this.indexUI = indexUI;\n        this.formSelector = formSelector;\n        if(this.formSelector  == \"\") {\n            this.formSelector = this.config.formSelector\n        }\n        \n        this.viewStateService = this.config.viewStateService;\n        this.loader = new LoadingIndicator(this.formSelector);\n        this.dynamicCalculationTreatment = new DataCalculTreatment(config,this);\n        this.localStorageDefaultTreatment = new LocalStorageDefaultTreatment(config,this)\n        \n        // Update HasManyComponsats on reloadData\n        this.reloadHasManyComposants = true;\n        \n    }\n\n    /**\n     * Initialise le gestionnaire de formulaire.\n     */\n    init(submitHandler, isCreate = true) {\n\n\n        InitUIManagers.init()\n\n        this.handleCancelButton();\n        this.handleCardFooter();\n        this.handleFormSubmission(submitHandler);\n        this.loader.init();\n        this.adapterPourContext(isCreate);\n        this.initializeSelect2_in_modal();\n        FormUI.initializeRichText();\n        FormUI.initSelect2Color()\n        FormUI.initializeDate();\n        FormUI.initCodeJar();\n        FormUI.initTooltip();\n        // Initialisation de la gestion des calculs dynamiques\n        this.dynamicCalculationTreatment.init();\n        if(isCreate){\n            this.localStorageDefaultTreatment.init();\n        }\n       \n\n        if(window.dynamicFieldVisibilityTreatments){\n            new DynamicFieldVisibilityTreatment(window.dynamicFieldVisibilityTreatments)\n            .initialize();\n        }\n\n         // DynamicDropdownTreatment\n         document.querySelectorAll(this.formSelector +  \" [data-target-dynamic-dropdown]\").forEach((element) => {\n            new DynamicDropdownTreatment(element,this.config);\n        });\n\n\n\n       // ——————— Clamp automatique des inputs number[max] avec EventUtil ———————\n        EventUtil.bindEvent(\n        'input',\n        `${this.formSelector} input[type=\"number\"][max]`,\n        (e) => {\n            const el   = e.target;\n            const min  = parseFloat(el.min) || 0;\n            const max  = parseFloat(el.max);\n            let   val  = parseFloat(el.value);\n\n            if (!isNaN(max)) {\n            if (val > max) el.value = max;\n            else if (val < min) el.value = min;\n            } else if (val < min) {\n            el.value = min;\n            }\n        }\n        );\n\n    }\n\n    disableRequiredAttributes() {\n        const form = document.querySelector(this.formSelector);\n        if (!form) return;\n    \n        form.querySelectorAll('[required]').forEach((el) => {\n            el.removeAttribute('required');\n        });\n    }\n    \n    /**\n         * Masque les éléments <select> dont l'id correspond à une clé dans le contextState.\n         */\n    adapterPourContext(isCreate) {\n\n        const scopeData = this.config.viewStateService.getScopeFormVariables();\n        const formData = this.config.viewStateService.getFormVariables();\n\n        Object.keys(scopeData).forEach((key) => {\n            const filterElement = document.querySelector(`${this.formSelector} #${key}`);\n            if (filterElement) {\n                if (this.config.isDebug) {\n                    filterElement.parentElement.style.backgroundColor = 'lightblue'; // Mode debug : surligner\n                } else {\n                    filterElement.parentElement.style.display = 'none'; // Masquer l'élément du filtre\n                }\n            }\n        });\n       \n        // Appliquer les valeurs des form : form et scope et masquer si nécessaire\n        // Dans le cas de create seulement\n        if(isCreate){\n            Object.keys(formData).forEach((key) => {\n                const filterElement = document.querySelector(`${this.formSelector} #${key}`);\n                if (filterElement) {\n                        if (filterElement.tagName === \"INPUT\" || filterElement.tagName === \"TEXTAREA\") {\n                            filterElement.value = formData[key];\n                        } else if (filterElement.tagName === \"SELECT\") {\n                            filterElement.value = formData[key];\n                            filterElement.dispatchEvent(new Event(\"change\"));\n                        }\n                }\n            });\n        }\n       \n    }\n\n\n\n\n\n\n    /**\n     * Gère le bouton d'annulation pour fermer le modal.\n     */\n    handleCancelButton() {\n        EventUtil.bindEvent('click', `${this.formSelector} .form-cancel-button`, (e) => {\n            e.preventDefault();\n            this.indexUI.modalUI.close();\n        });\n        EventUtil.bindEvent('click', `${this.config.dynamicModalSelector} .form-cancel-button`, (e) => {\n            e.preventDefault();\n            this.indexUI.modalUI.close();\n        });\n        \n    }\n\n    /**\n     * Modifie le style des pieds de formulaire (footers).\n     */\n        handleCardFooter() {\n        // on cible à la fois le formulaire et l'affichage show\n        const contexts = `${this.formSelector}`;\n\n        // on trouve les footers et on bascule la classe\n        $(contexts)\n            .find('.card-footer')\n            .removeClass('card-footer')\n            .addClass('modal-footer');\n\n        // on enlève simplement la classe card-body\n        $(contexts)\n            .find('.card-body')\n            .removeClass('card-body');\n        }\n   /**\n     * Attache un gestionnaire d'événements pour la soumission du formulaire.\n     * @param {Function} submitHandler - Fonction personnalisée pour gérer la soumission.\n     */\n   handleFormSubmission(submitHandler) {\n    $(document).off('submit', this.formSelector); // Supprime tout gestionnaire précédent pour éviter les doublons\n    EventUtil.bindEvent('submit', this.formSelector, (e) => {\n        e.preventDefault(); // Empêche le rechargement de la page\n        submitHandler(); // Appelle la fonction de soumission passée\n    });\n}\n\n    /**\n     * Configure le formulaire pour le mode lecture seule.\n     */\n    setToReadOnly() {\n        const form = $(this.formSelector);\n        form.find('input, select, textarea, button').each(function () {\n            const element = $(this);\n            if (element.is('input') || element.is('textarea')) {\n                element.attr('readonly', true);\n            } else if (element.is('select')) {\n                element.attr('disabled', true);\n            } else if (element.is('button')) {\n                element.attr('disabled', true);\n            }\n        });\n\n        form.find('.btn').not('.form-cancel-button').addClass('d-none');\n    }\n\n    /**\n     * Réinitialise le formulaire à son état par défaut.\n     */\n    resetForm() {\n        const form = $(this.formSelector);\n        form.trigger('reset');\n        form.find('input, select, textarea, button').each(function () {\n            $(this).removeAttr('readonly').removeAttr('disabled');\n        });\n\n        form.find('.btn').removeClass('d-none');\n    }\n\n    /**\n     * Sérialise et valide les données du formulaire avant l'envoi.\n     * @returns {Object|null} - Données sérialisées ou null si la validation échoue.\n     */\n    getFormData() {\n        const form = $(this.formSelector);\n        const data = form.serializeArray();\n        const isValid = this.validateForm(data);\n        return isValid ? data : null;\n    }\n\n\n    /**\n     * Valide les données du formulaire.\n     * @param {Array} formData - Données du formulaire sérialisées.\n     * @returns {boolean} - Retourne `true` si les données sont valides, sinon `false`.\n     */\n\n    validateForm() {\n        const form = $(this.formSelector);\n        let isValid = true;\n    \n        // Remove previous error messages\n        form.find('.error-message').remove();\n\n        form.find('[required]').each(function () {\n            const field = $(this);\n            const value = field.val();\n    \n            if (field.is(':checkbox')) {\n                // Valider une case à cocher\n                if (!field.is(':checked')) {\n                    field.addClass('is-invalid');\n\n                    // Add an error message if not already added\n                    if (!field.next('.error-message').length) {\n                        field.after('<span class=\"error-message text-danger\">Ce champ est obligatoire..</span>');\n                    }\n\n                    isValid = false;\n                } else {\n                    field.removeClass('is-invalid');\n                }\n            } else if (field.is('select[multiple]')) {\n                // Valider une liste déroulante multiple\n                if (!value || value.length === 0) {\n                    field.addClass('is-invalid');\n                    // Ajouter un message d'erreur sous le champ\n                    field.after('<span class=\"error-message text-danger\">Veuillez sélectionner au moins un élément.</span>');\n                    isValid = false;\n                } else {\n                    field.removeClass('is-invalid');\n                }\n            } \n            \n\n            else if (field.is('select')) {\n                // Validate a single select dropdown\n                if (!value || value === 'default') { // Assuming 'default' is your placeholder value\n                    field.addClass('is-invalid');\n                    if (!field.next('.error-message').length) {\n                        field.after('<span class=\"error-message text-danger\">Veuillez sélectionner une option.</span>');\n                    }\n                    isValid = false;\n                } else {\n                    field.removeClass('is-invalid');\n                }\n\n            }\n\n\n\n\n\n\n\n            else if (field.hasClass('richText')) {\n                // Validate rich text areas (e.g., Summernote)\n                const richTextContent = field.val().trim(); // Get Summernote content\n                const richTextContainer = field.next('.note-editor'); // Get Summernote container\n    \n                if (!richTextContent || richTextContent === '<br>') {\n                    richTextContainer.addClass('richText_is_invalid');\n    \n                    // Add an error message if not already added\n                    if (!richTextContainer.next('.error-message').length) {\n                        richTextContainer.after('<span class=\"error-message text-danger\">Ce champ ne peut pas être vide.</span>');\n                    }\n    \n                    isValid = false;\n                } else {\n                    richTextContainer.removeClass('richText_is_invalid');\n                    richTextContainer.next('.error-message').remove();\n                }\n            } \n            \n            \n            else {\n                // Valider les autres champs (texte, email, etc.)\n                if (typeof value !== 'string' || !value.trim()) {\n                    field.addClass('is-invalid');\n                    // Add an error message if not already added\n                    if (!field.next('.error-message').length) {\n                        field.after('<span class=\"error-message text-danger\">Ce champ ne peut pas être vide.</span>');\n                    }\n                    isValid = false;\n                } else {\n                    field.removeClass('is-invalid');\n                }\n            }\n        });\n    \n        return isValid;\n    }\n\n\n\n    initializeSelect2_in_modal() {\n        \n\n        //  TODO Il faut ajouter  allowClear: true si le champs nullable\n        $(`.select2`).each(function () {\n\n            const $el = $(this);\n            if (!$el.is('select')) return;\n\n            let placeholder = $(this).data('label') || \"Sélectionnez une option\"; // Récupérer data-label ou valeur par défaut\n\n            $(this).select2({\n                placeholder: placeholder, // Utiliser data-label comme placeholder\n                width: '100%',\n                allowClear: true,\n            });\n        });\n\n\n     \n        // Initialise les éléments Select2 avec thème Bootstrap 4\n        // $(`.select2bs4`).select2({\n        //     theme: 'bootstrap4',\n        // });\n    }\n\n    static initSelect2Color(){\n\n        function formatColor(option) {\n            if (!option.id) {\n                return option.text;\n            }\n            let color = $(option.element).data('color');\n            return $('<span class=\"color-option\"><span class=\"color-box\" style=\"background-color:' + color + ';\"></span>' + option.text + '</span>');\n        }\n\n        // Initialiser les .select2Color\n        $('.select2Color').each(function () {\n\n            const $el = $(this);\n            if (!$el.is('select')) return;\n\n            if (!$el.data('initialized')) {\n                $el.select2({\n                    templateResult: formatColor,\n                    templateSelection: formatColor,\n                    width: '100%'\n                });\n                $el.data('initialized', true);\n                console.log($el.data('initialized'));\n            }\n        });\n\n    }\n    static initializeSelect2() {\n        // Initialise les éléments Select2\n        $('.select2').each(function() {\n\n            const $el = $(this);\n            if (!$el.is('select')) return;\n\n            let placeholder = $(this).data('label') || \"Sélectionnez une option\"; // Récupérer data-label ou valeur par défaut\n\n            // TODO Il faut ajouter  allowClear: true si le champs nullable\n            $(this).select2({\n                placeholder: placeholder, // Utiliser data-label comme placeholder\n                width: '100%',\n                allowClear: true,\n            });\n        });\n    }\n    static initializeRichText() {\n        $('.richText').each(function () {\n            const $textarea = $(this);\n            const isDisabled = $textarea.prop('disabled');\n\n            // Initialisation de Summernote\n            $textarea.summernote({\n                height: 80,\n                toolbar: isDisabled ? false : undefined,\n                airMode: isDisabled ? false : undefined,\n                callbacks: isDisabled ? {\n                    onInit: function () {\n                        $textarea\n                            .siblings('.note-editor')\n                            .find('.note-editable')\n                            .attr('contenteditable', false);\n                    }\n                } : {}\n            });\n\n            // Synchroniser le textarea => Summernote\n            $textarea.on('input', function () {\n                $textarea.summernote('code', $textarea.val());\n            });\n\n            // Synchroniser Summernote => textarea\n            $textarea.on('summernote.change', function (e, contents) {\n                $textarea.val(contents);\n            });\n        });\n    }\n\n\n\n    getFormDataArray() {\n        const form = $(this.formSelector);\n    \n        // Sérialiser les données en tableau\n        const dataArray = form.serializeArray();\n    \n        return dataArray;\n    }\n\n    static initializeDate(){\n\n        // document.querySelectorAll('.datetimepicker').forEach(input => {\n        //     alert( input.value);\n        //     if (input.value && input.value.match(/^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}$/)) {\n        //         // Convertir \"2025-04-21 15:20:00\" => \"2025-04-21 15:20\"\n        //         // 2025-04-21 15:20:00\n        //         input.value = input.value.slice(0, 16);\n        //         alert( input.value);\n        //     }\n        // });\n\n        \n         // Apply Flatpickr to any element with the class 'datetimepicker'\n         flatpickr('.datetimepicker', {\n            enableTime: true,\n            dateFormat: 'Y-m-d H:i',  // flatpickr comprendra maintenant le S\n            time_24hr: true,\n            locale: 'fr',\n            allowInput: true,\n            weekNumbers: true\n        });\n    }\n\n    static initCodeJar() {\n        // Sélectionner tous les éditeurs avec la classe 'code-editor'\n        const editors = document.querySelectorAll('.code-editor');\n\n        editors.forEach((editor) => {\n            // Trouver l'input caché associé à cet éditeur\n            const hiddenInput = editor.nextElementSibling;\n\n\n\n            // Fonction de coloration syntaxique\n            const highlight = (editorItem) => {\n                try {\n                    const formattedJSON = JSON.stringify(JSON.parse(editorItem.textContent), null, 2);\n                    editorItem.innerHTML = Prism.highlight(formattedJSON, Prism.languages.json, 'json');\n                } catch (error) {\n                    editorItem.innerHTML = Prism.highlight(editorItem.textContent, Prism.languages.json, 'json');\n                }\n            };\n\n            // Initialiser CodeJar pour cet éditeur\n            const jar = CodeJar(editor, highlight);\n\n            // Synchroniser avec l'input caché lors de chaque mise à jour\n            jar.onUpdate((editorData) => {\n                try {\n                    const formattedJSON = JSON.stringify(JSON.parse(editor.textContent), null, 2);\n                    editor.style.borderColor = ''; // Bordure normale si valide\n                    hiddenInput.value = formattedJSON; // Mettre à jour l'input caché\n                } catch (error) {\n                    editor.style.borderColor = 'red'; // Bordure rouge si invalide\n                }\n            });\n\n           // Ajouter un écouteur d'événement sur le hiddenInput\n            hiddenInput.addEventListener('change', () => {\n                try {\n                    editor.textContent = JSON.stringify(JSON.parse(hiddenInput.value), null, 2);\n                    highlight(editor);\n                } catch (error) {\n                    console.error(\"Erreur lors de la mise à jour de l'éditeur :\", error);\n                }\n            });\n\n            EventUtil.bindEvent('change', `#${hiddenInput.id}`, () => {\n                try {\n                    editor.textContent = hiddenInput.value;\n                    highlight(editor);\n                } catch (error) {\n                    NotificationHandler.showError(\"Mettre à jour JSON : \" + error);\n                    console.error(\"Erreur lors de la mise à jour de l'éditeur :\", error);\n                }\n            });\n\n\n            // Charger le contenu initial, s'il existe\n            if (hiddenInput.value) {\n                editor.textContent = JSON.stringify(JSON.parse(hiddenInput.value), null, 2);\n                highlight(editor);\n            }\n        });\n    }\n\n\n    /**\n     * Affiche les erreurs sous les champs concernés\n     * @param {Object} errors - Erreurs renvoyées par le serveur (format Laravel)\n     */\n    showFieldErrors(errors) {\n        const form = $(this.formSelector);\n        form.find('.error-message').remove(); // Supprime les anciens messages d'erreur\n\n        Object.entries(errors).forEach(([field, messages]) => {\n            let input = form.find(`[name=\"${field}\"]`);\n            if (input.length > 0) {\n                input.addClass('is-invalid');\n                messages.forEach(msg => {\n                    input.after(`<div class=\"error-message text-danger\">${msg}</div>`);\n                });\n            }\n        });\n    }\n\n\n    static initTooltip(){\n\n\n        // Supprimer les tooltip existant avant d'initialiser\n        $('.tooltip').remove();\n\n        // // tooltip-inner\n        // // Supprimer tous les tooltips existants avant d'en créer de nouveaux\n        $('[data-toggle=\"tooltip\"]').tooltip('dispose');\n            \n\n        // Supprime tous les tooltips actifs avant de les recréer\n        const tooltips = $('[data-toggle=\"tooltip\"]').tooltip({\n             placement: \"auto\"\n        });\n\n        tooltips.on('shown.bs.tooltip', function () {\n            const $this = $(this);\n            setTimeout(() => {\n                $this.tooltip('hide'); // Cache le tooltip\n            }, 3000); // Temps en ms avant de cacher le tooltip (ici 3 secondes)\n        });\n\n        // $('[data-toggle=\"tooltip\"]').tooltip();\n      \n    }\n\n    /**\n     * Recharge les données d'une entité dans le formulaire via une requête AJAX,\n     * en utilisant l'ID présent dans le champ `name=\"id\"`.\n     *\n     * Cette méthode appelle l'URL définie dans `config.getEntityUrl` (ex: `/realisationTaches/json/:id`),\n     * remplit automatiquement les champs du formulaire via `showFields()`,\n     * et recharge également les composants `hasMany` si la réponse les contient.\n     *\n     * @returns {void}\n     */\n    reloadData() {\n        const form = document.querySelector(this.formSelector);\n        if (!form) return;\n\n        const idInput = form.querySelector('[name=\"id\"]');\n        if (!idInput || !idInput.value) {\n            NotificationHandler.showError(\"Aucun ID trouvé pour le rechargement.\");\n            return;\n        }\n\n        const id = idInput.value;\n        const url = this.config.getEntityUrl.replace(':id', id); // URL: /realisationTaches/json/:id\n\n        this.loader.showNomBloquante(\"Mise à jour des données de formulaire\");\n\n        // Désactiver temporairement le calcul\n        this.dynamicCalculationTreatment.disableCalcul = false;\n        this.reloadHasManyComposants = false;\n\n        $.ajax({\n            url: url,\n            method: 'GET',\n            dataType: 'json',\n        })\n            .done((response) => {\n                // Tu peux enrichir ici si le back ne retourne pas { entity: ..., hasManyInputsToUpdate: ... }\n                this.showFields(response, \"\", {}); // on suppose aucun hasMany à recharger ici\n                // NotificationHandler.showSuccess(\"Formulaire mis à jour avec succès.\");\n            })\n            .fail((xhr) => {\n                const message = xhr.responseJSON?.message || \"Erreur lors du chargement des données.\";\n                NotificationHandler.showError(message);\n            })\n            .always(() => {\n                this.loader.hide();\n\n                // Réactiver le calcul après un petit délai (évite les conflits)\n                setTimeout(() => {\n                    this.dynamicCalculationTreatment.disableCalcul = true;\n\n                    this.reloadHasManyComposants = true;\n                }, 200);\n            });\n    }\n\n    showFields(fields,elseField = \"\", hasManyInputsToUpdate){\n         Object.entries(fields).forEach(([key, value]) => {\n         \n        // Sélectionner le champ en tenant compte des crochets `[]` pour `select multiple`\n        const field = $(`${this.config.formSelector} [name=\"${key}\"], ${this.config.formSelector} [name=\"${key}[]\"]`);\n\n        // Vérifier si c'est le champ qui a déclenché l'événement, éviter de le mettre à jour\n        if (field.is(elseField)) {\n            return;\n        }\n\n            if (field.length > 0) {\n\n                // Vérifier si c'est un select multiple\n                if (field.is('select[multiple]')) {\n                    let values = [];\n\n                    if (Array.isArray(value)) {\n                        // Extraire uniquement les IDs si les valeurs sont des objets\n                        values = value.map(v => (typeof v === 'object' && v !== null ? v.id : v));\n                    }\n                    field.val(values).trigger('change');\n                }\n\n                // Vérifier si c'est un select2\n                else if (!field.is('select[multiple]') && field.is('select')) {\n                    field.val(value).trigger('change'); // Mettre à jour et déclencher l'événement\n                } \n                // Vérifier si c'est un champ de type checkbox ou radio\n                else if (field.is(':checkbox, :radio')) {\n                    field.prop('checked', !!value);\n                } \n                // Vérifier si c'est un champ input classique ou textarea\n                else {\n                     field.val(value);\n\n                    // Si c'est un éditeur Summernote (richText)\n                    if (field.hasClass('richText') && typeof field.summernote === 'function') {\n                        field.summernote('code', value);\n                    } else {\n                        field.trigger('change');\n                    }\n                }\n            }\n        });\n\n         // Mise à jour des composants hasMany\n         \n        if (\n            this.reloadHasManyComposants \n            && hasManyInputsToUpdate \n            && typeof hasManyInputsToUpdate === 'object'\n        ) {\n            Object.entries(hasManyInputsToUpdate).forEach(([key, managerId]) => {\n                const crudManager = window.crudModalManagers?.[managerId];\n                if (crudManager) {\n                    crudManager.tableUI.loadListAction.loadEntities(); // recharge les entités\n                } else {\n                  //  console.warn(`⚠️ Composant hasMany non trouvé pour \"${managerId}\"`);\n                }\n            });\n        }\n    }\n  \n\n}\n","import { SessionStateService } from './SessionStateService';\nimport EventUtil from '../utils/EventUtil';\n\n\n// \"primary\":    $primary,\n// \"secondary\":  $secondary,\n// \"success\":    $success,\n// \"info\":       $info,\n// \"warning\":    $warning,\n// \"danger\":     $danger,\n// \"light\":      $light,\n// \"dark\":       $dark\n\n\n// $colors: () !default;\n// $colors: map-merge((\n//   \"blue\":       $blue,\n//   \"indigo\":     $indigo,\n//   \"purple\":     $purple,\n//   \"pink\":       $pink,\n//   \"red\":        $red,\n//   \"orange\":     $orange,\n//   \"yellow\":     $yellow,\n//   \"green\":      $green,\n//   \"teal\":       $teal,\n//   \"cyan\":       $cyan,\n//   \"white\":      $white,\n//   \"gray\":       $gray-600,\n//   \"gray-dark\":  $gray-800\n// ), $colors);\n\nexport class DashboardUI {\n\n    /**\n     * Constructeur de DashboardUI.\n     * @param {Object} config - Configuration contenant les paramètres du tableau de bord.\n     */\n    constructor(sessionState) {\n\n        this.sessionStatService = new SessionStateService(sessionState);\n\n        this.user =  {\n            role : this.sessionStatService.getValue(\"user_role\")\n        }; \n\n\n        this.mainSidebarSelector = \"#main-sidebar\";\n        this.dashboardContainer =  \"#dashboard-content\";\n    }\n\n    /**\n     * Initialise l'adaptation du tableau de bord à l'utilisateur.\n     */\n    init() {\n        this.customizeSidebar();\n    }\n\n    /**\n     * Personnalise le menu latéral en fonction des permissions utilisateur.\n     */\n    customizeSidebar() {\n        const mainSidebar = $(this.sidebarSelector); // Sélection correcte du sidebar\n    \n        // Supprimer les classes existantes qui commencent par \"sidebar-dark-secondary-\"\n        mainSidebar.removeClass(function(index, className) {\n            return (className.match(/(^|\\s)sidebar-dark-\\S+/g) || []).join(' ');\n        });\n    \n        // let colors = {\n        //     \"color1\": \"#2973B2\",\n        //     \"color2\": \"#0D92F4\",\n        //     \"color3\": \"#229799\",\n        // };\n\n        // // Appliquer la classe correspondant au rôle\n        // if (this.user.role === \"apprenant\") {\n        //     document.documentElement.style.setProperty(\"--gapp-info\", colors.color1);\n        // } else if (this.user.role === \"formateur\") {\n        //     document.documentElement.style.setProperty(\"--gapp-info\", colors.color2);\n        // } else if (this.user.role === \"gapp\") {\n        //     document.documentElement.style.setProperty(\"--gapp-info\", colors.color3);\n        // }else{\n        //     mainSidebar.addClass(\"sidebar-dark-info\");\n        // }\n    }\n\n\n}\n","\nexport default class AsideMenu {\n    static init(){\n\n        // Récupération des valeurs depuis localStorage\n        let sidebarState = localStorage.getItem('sidebarState') || 'collapsed';\n        let activeMenuPackageItems = JSON.parse(localStorage.getItem('activeMenuPackageItems')) || [];\n        // let activeMenuItem = localStorage.getItem('activeMenuItem') || '';\n   \n        let activeMenuItem =$('.nav-sidebar .nav-item:not(.has-treeview) .nav-link.active').parent().attr('id');\n        localStorage.setItem('activeMenuItem', activeMenuItem || '');\n\n    \n        // Appliquer l'état initial de la sidebar et restaurer l'état des menus actifs\n        if (sidebarState === 'collapsed') {\n            $('body').addClass('sidebar-collapse');\n            closeAllMenus();\n        } else {\n            restoreMenuState();\n        }\n    \n        // Gérer le bouton toggle de la sidebar\n        $('.nav-link[data-widget=\"pushmenu\"]').on('click', function () {\n            setTimeout(() => {\n                if ($('body').hasClass('sidebar-collapse')) {\n                    localStorage.setItem('sidebarState', 'collapsed');\n                    closeAllMenus();\n                } else {\n                    localStorage.setItem('sidebarState', 'expanded');\n                    restoreMenuState(); // Restaurer les menus actifs après l'expansion\n                }\n            }, 200);\n        });\n    \n        // Ouvrir la sidebar au survol (hover) si elle est réduite\n        $('.sidebar').hover(\n            function () {\n                if ($('body').hasClass('sidebar-collapse')) {\n                    $('body').removeClass('sidebar-collapse').addClass('sidebar-open');\n                    restoreMenuState(); // Restaurer les menus ouverts au survol\n                }\n            },\n            function () {\n                if ($('body').hasClass('sidebar-open')) {\n                    $('body').removeClass('sidebar-open').addClass('sidebar-collapse');\n                    closeAllMenus(); // Fermer les menus quand on quitte la sidebar\n                }\n            }\n        );\n    \n        // Gestion des clics sur les éléments de menu\n        $('.nav-sidebar .nav-link').on('click', function (e) {\n            let menuItem = $(this).parent();\n            let itemId = menuItem.attr('id');\n    \n\n            // Menu Package\n            if(menuItem.hasClass('has-treeview')){\n                closeOtherMenu(itemId);\n                if (menuItem.hasClass('menu-open')) {\n                  \n                    activeMenuPackageItems = activeMenuPackageItems.filter(item => item !== itemId);\n                } else {\n                    activeMenuPackageItems = [itemId];\n                } \n                localStorage.setItem('activeMenuPackageItems', JSON.stringify(activeMenuPackageItems));\n            }\n            // Enregistrer activeMenuItem\n            // if(menuItem.hasClass('nav-treeview')){\n            //     localStorage.setItem('activeMenuItem', itemId);                 \n            // }\n\n            // e.stopPropagation();\n        });\n    \n        // Fonction pour fermer tous les menus\n        function closeAllMenus() {\n            $('.nav-sidebar .nav-item').removeClass('menu-open');\n            $('.nav-sidebar .nav-item .nav-link').removeClass('active');\n            $('.nav-sidebar .nav-item .nav-treeview').slideUp();\n        }\n        function closeOtherMenu(itemId) {\n            $('.nav-sidebar .nav-item').each(function () {\n                let menuItem = $(this);\n                if (menuItem.attr('id') !== itemId) {\n                    menuItem.removeClass('menu-open');\n                    menuItem.children('.nav-link').removeClass('active');\n                    menuItem.children('.nav-treeview').slideUp();\n                }\n            });\n        }\n        // Fonction pour restaurer l'état des menus actifs\n        function restoreMenuState() {\n            $('.nav-sidebar .nav-item').each(function () {\n                let menuItem = $(this);\n                let itemId = menuItem.attr('id');\n    \n                if (activeMenuPackageItems.includes(itemId)) {\n                    menuItem.addClass('menu-open');\n                    menuItem.children('.nav-link').addClass('active');\n                    menuItem.children('.nav-treeview').show();\n                }\n\n                if (activeMenuItem == itemId) {\n                    menuItem.children('.nav-link').addClass('active');\n                    // menuItem.children('.nav-treeview').show();\n                }\n               \n            });   \n\n        }\n    }\n}\n\n ","\n// Utilisation de JQuery et Plugin JQuery sans Vite : car il ne sont pas ES6\n// Le chargement de JQuery doit être avant le chargement des fichiers Vite, car les classe Vite \n// utilise les plugin JQuery\n\n\n// Import Flatpickr CSS\nimport 'flatpickr/dist/flatpickr.min.css';\n\nimport { NotificationHandler } from './crud/components/NotificationHandler';\nimport { FormUI } from './crud/components/FormUI';\nimport { DashboardUI } from './crud/components/DashboardUI';\nimport InitUIManagers from './crud/InitUIManagers';\nimport { TableUI } from './crud/components/TableUI';\nimport AsideMenu from './AsideMenu';\n\n\n// Init CrudModalManagers in the page\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n\n    // Contexte State \n    let contextState = window.contextState;\n    let sessionState = window.sessionState;\n    \n    // Adaptation de Dashboard à l'utilisateur\n    const dashboardUI = new DashboardUI(sessionState);\n    dashboardUI.init();\n\n    // Initialisation des UI Manager comme CrudModalmanager, ..\n    InitUIManagers.init(),\n\n    // Affichage des notification global\n    window.notifications.forEach((notificationData) => {\n        new NotificationHandler(notificationData).show();\n    });\n    \n\n    \n    // TODO : il faut ajouter une condition pour gérer une page PageUIManager\n    FormUI.initializeSelect2();\n    FormUI.initSelect2Color();\n    FormUI.initializeRichText();\n    FormUI.initializeDate();\n    FormUI.initCodeJar();\n    TableUI.initTooltip();\n\n    AsideMenu.init();\n\n\n\n    // /**\n    //  * Gère le changement de valeur d'un champ de sélection et met à jour dynamiquement une liste d'options basée sur une requête API.\n    //  * @param {string} triggerSelector - Sélecteur du champ qui déclenche le changement.\n    //  * @param {string} targetSelector - Sélecteur du champ à mettre à jour.\n    //  * @param {string} apiUrlTemplate - Modèle d'URL pour récupérer les données dynamiquement.\n    //  */\n    // function setupDynamicDropdown(triggerSelector, targetSelector, apiUrlTemplate) {\n    //     const triggerElement = document.querySelector(triggerSelector);\n    //     const targetElement = document.querySelector(targetSelector);\n\n    //     if (!triggerElement || !targetElement) return;\n\n    //     triggerElement.addEventListener('change', async function () {\n    //         const selectedValue = this.value;\n    //         const apiUrl = apiUrlTemplate.replace('{id}', selectedValue);\n    //         const previousSelection = targetElement.value;\n\n    //         try {\n    //             const response = await fetch(apiUrl);\n    //             if (!response.ok) throw new Error('Erreur lors du chargement des données');\n                \n    //             const data = await response.json();\n    //             targetElement.innerHTML = ''; // Vider les anciennes options\n                \n    //             data.forEach(item => {\n    //                 const option = document.createElement('option');\n    //                 option.value = item.id;\n    //                 option.textContent = item.titre;\n    //                 targetElement.appendChild(option);\n    //             });\n\n    //             // Restaurer la sélection précédente si valide\n    //             if ([...targetElement.options].some(option => option.value == previousSelection)) {\n    //                 targetElement.value = previousSelection;\n    //             }\n    //         } catch (error) {\n    //             console.error('Erreur lors du chargement des options:', error);\n    //         }\n    //     });\n    // }\n\n    // // Initialisation avec des sélecteurs dynamiques et un modèle d'URL\n    // setupDynamicDropdown(\n    //     '[name=\"realisationProjet.affectation_projet_id\"]', \n    //     '[name=\"tache_id\"]', \n    //     'http://localhost/admin/PkgGestionTaches/taches/getTacheByAffectationProjetId/{id}'\n    // );\n\n    \n   \n\n});\n\n\n$('.widget').sortable({\n    placeholder: 'sort-highlight',\n    handle: '.handle',\n    forcePlaceholderSize: true,\n    zIndex: 999999\n})\n\n\n\n\n"],"names":["_assertClassBrand","e","n","_checkPrivateRedeclaration","_classPrivateFieldGet2","s","a","_classPrivateFieldInitSpec","_classPrivateFieldSet2","r","RESTORE_FOCUS_TIMEOUT","globalState","focusPreviousActiveElement","restoreActiveElement","returnFocus","resolve","x","y","swalPrefix","classNames","swalClasses","acc","className","icons","iconTypes","icon","consolePrefix","capitalizeFirstLetter","str","warn","message","error","previousWarnOnceMessages","warnOnce","warnAboutDeprecation","deprecatedParam","useInstead","callIfFunction","arg","hasToPromiseFn","asPromise","isPromise","getContainer","elementBySelector","selectorString","container","elementByClass","getPopup","getIcon","getIconContent","getTitle","getHtmlContainer","getImage","getProgressSteps","getValidationMessage","getConfirmButton","getCancelButton","getDenyButton","getInputLabel","getLoader","getActions","getFooter","getTimerProgressBar","getCloseButton","focusable","getFocusableElements","popup","focusableElementsWithTabindex","focusableElementsWithTabindexSorted","b","tabindexA","tabindexB","otherFocusableElements","otherFocusableElementsFiltered","el","isVisible$1","isModal","hasClass","isToast","isLoading","setInnerHtml","elem","html","parsed","head","child","body","classList","removeCustomClasses","params","applyCustomClass","customClass","addClass","getInput$1","inputClass","focusInput","input","val","toggleClass","target","condition","removeClass","getDirectChildByClass","children","applyNumericalStyle","property","value","show","display","hide","showWhenInnerHtmlPresent","toggle","setStyle","parent","selector","allButtonsAreHidden","isScrollable","hasCssAnimation","style","animDuration","transDuration","animateTimerProgressBar","timer","reset","timerProgressBar","stopTimerProgressBar","timerProgressBarWidth","timerProgressBarFullWidth","timerProgressBarPercent","isNodeEnv","sweetHTML","resetOldContainer","oldContainer","resetValidationMessage$1","addInputChangeListeners","file","range","rangeOutput","select","checkbox","textarea","getTarget","setupAccessibility","setupRTL","targetElement","init","oldContainerExisted","parseHtmlToContainer","param","handleObject","handleJqueryElem","i","renderActions","instance","actions","loader","renderButtons","confirmButton","denyButton","cancelButton","renderButton","handleButtonsStyling","button","buttonType","buttonName","renderCloseButton","closeButton","renderContainer","handleBackdropParam","handlePositionParam","handleGrowParam","backdrop","position","grow","privateProps","inputClasses","renderInput","innerParams","rerender","inputContainer","setAttributes","showInput","setCustomClass","renderInputType","getInputContainer","removeAttributes","attrName","inputAttributes","attr","setInputPlaceholder","setInputLabel","prependTo","label","labelClass","inputType","checkAndSetInputValue","inputValue","rangeInput","placeholder","radio","checkboxContainer","getMargin","initialPopupWidth","textareaResizeHandler","textareaWidth","renderContent","htmlContainer","renderFooter","footer","renderIcon","setContent","applyStyles","iconType","iconClassName","setColor","adjustSuccessIconBackgroundColor","popupBackgroundColor","successIconParts","successIconHtml","errorIconHtml","oldContent","newContent","iconContent","sel","content","renderImage","image","dragging","mousedownX","mousedownY","initialX","initialY","addDraggableListeners","down","move","up","removeDraggableListeners","event","clientXY","getClientXY","clientX","clientY","renderPopup","addClasses$1","showClass","renderProgressSteps","progressStepsContainer","progressSteps","currentProgressStep","step","index","stepEl","createStepElement","lineEl","createLineElement","renderTitle","title","render","isVisible","clickConfirm","_dom$getConfirmButton","clickDeny","_dom$getDenyButton","clickCancel","_dom$getCancelButton","DismissReason","removeKeydownHandler","addKeydownHandler","dismissWith","keydownHandler","setFocus","increment","_dom$getPopup","focusableElements","arrowKeysNextButton","arrowKeysPreviousButton","handleEnter","handleTab","handleArrows","handleEsc","btnIndex","key","buttons","sibling","buttonToFocus","privateMethods","setAriaHidden","unsetAriaHidden","isSafariOrIOS","iOSfix","offset","lockBodyScroll","preventTouchMove","shouldPreventTouchMove","isStylus","isZoom","undoIOSfix","measureScrollbar","scrollDiv","scrollbarWidth","previousBodyPadding","replaceScrollbarWithPadding","initialBodyOverflow","undoReplaceScrollbarWithPadding","removePopupAndResetState","didClose","triggerDidCloseAndDispose","removeBodyClasses","close","resolveValue","prepareResolveValue","swalPromiseResolve","triggerClosePopup","handleAwaitingPromise","handlePopupAnimation","rejectPromise","_globalState$eventEmi","animationIsSupported","animatePopup","swalCloseAnimationFinished","_globalState$swalClos","_globalState$eventEmi2","showLoading","buttonToReplace","Swal","replaceButton","handleInputOptionsAndValue","handleInputOptions","handleInputValue","getInputValue","getCheckboxValue","getRadioValue","getFileValue","processInputOptions","inputOptions","populateSelectOptions","formatInputOptions","populateRadioOptions","err","renderOption","optionLabel","optionValue","option","isSelected","inputOption","optgroup","o","radioValue","radioLabel","radioInput","radioLabelElement","radios","result","valueFormatted","handleConfirmButtonClick","handleConfirmOrDenyWithInput","confirm","handleDenyButtonClick","deny","handleCancelButtonClick","type","handleInputValidator","validationMessage","preDenyValue","rejectWith","succeedWith","preConfirmValue","hideLoading","domCache","showRelatedButton","getInput","setButtonsDisabled","disabled","setInputDisabled","enableButtons","disableButtons","enableInput","disableInput","showValidationMessage","resetValidationMessage","defaultParams","updatableParams","deprecatedParams","toastIncompatibleParams","isValidParameter","paramName","isUpdatableParameter","isDeprecatedParameter","checkIfParamIsValid","checkIfToastParamIsValid","checkIfParamIsDeprecated","isDeprecated","showWarningsForParams","update","validUpdatableParams","filterValidParams","updatedParams","_destroy","disposeWeakMaps","disposeSwal","unsetWeakMaps","obj","instanceMethods","handlePopupClick","handleToastClick","handleModalMousedown","handleContainerMousedown","handleModalClick","isAnyButtonShown","ignoreOutsideClick","isJqueryElement","isElement","argsToParams","args","name","fire","_len","_key","mixin","mixinParams","MixinSwal","priorityMixinParams","getTimerLeft","stopTimer","resumeTimer","remaining","toggleTimer","increaseTimer","ms","isTimerRunning","bodyClickListenerAdded","clickHandlers","bindClickHandler","bodyClickListener","template","EventEmitter","eventName","eventHandler","currentHandlers","_this","onceFn","_len2","_key2","on","once","off","staticMethods","Timer","callback","delay","running","swalStringParams","getTemplateParams","templateContent","showWarningsForElements","getSwalParams","getSwalFunctionParams","getSwalButtons","getSwalImage","getSwalIcon","getSwalInput","getSwalStringParams","showWarningsForAttributes","optionName","paramNames","tag","allowedElements","tagName","allowedAttributes","attribute","SHOW_CLASS_TIMEOUT","openPopup","addClasses","setScrollingVisibility","fixScrollContainer","swalOpenAnimationFinished","scrollbarPadding","defaultInputValidators","string","setDefaultInputValidators","validateCustomTargetElement","setParameters","currentInstance","_promise","SweetAlert","outerParams","userParams","isAwaitingPromise","prepareParams","populateDomCache","swalPromise","onFulfilled","onFinally","reject","dismiss","setupTimer","initFocus","templateParams","blurActiveElement","focusAutofocus","focusButton","autofocusElements","autofocusElement","now","initiationDate","ukrainianAnthem","NotificationHandler$1","NotificationHandler","text","onConfirm","LoadingIndicator","containerSelector","loadingDiv","msg","existingDiv","messageSpan","topPosition","msgDiv","_ViewStateService","contextKey","modelName","newViewState","contextData","types","filterData","filterKey","hasActiveFilters","sortData","newState","config","updatedConfig","contextParams","url","separator","__publicField","ViewStateService","EventUtil","eventType","DynamicFieldVisibilityTreatment","entitiesArray","entity","targetDropdownId","dataDefinitions","fieldMappings","typeField","initialValue","element","events","selectedValue","fieldId","$fieldElement","dataDefinition","def","globalWindow","CodeJar","editor","highlight","opt","options","window","document","listeners","history","at","focus","onUpdate","prev","doHighlight","pos","isLegacy","debounceHighlight","debounce","save","restore","recording","shouldRecord","isUndo","isRedo","debounceRecordHistory","recordHistory","fn","toString","handleNewLine","legacyNewLineFix","handleTabCharacters","handleSelfClosingCharacters","handleUndoRedo","isCopy","_event","handlePaste","handleCut","getSelection","anchorNode","anchorOffset","focusNode","focusOffset","node","visit","_a","_b","startNode","startOffset","endNode","endOffset","start","end","current","len","startEl","uneditable","endEl","beforeCursor","r0","afterCursor","before","after","padding","findPadding","newLinePadding","preventDefault","insert","open","wrapText","record","lastRecord","maxHistory","selection","visitor","queue","isCtrl","getKeyCode","cb","wait","timeout","j","newOptions","code","_self","Prism","lang","uniqueId","plainTextGrammar","_","encode","tokens","Token","deepClone","visited","clone","id","v","language","src","scripts","defaultActivation","no","redef","inside","root","grammar","ret","token","newToken","old","DFS","objId","propertyType","async","env","insertHighlightedCode","highlightedCode","worker","evt","rest","tokenList","LinkedList","addAfter","matchGrammar","toArray","hooks","callbacks","alias","matchedStr","stringify","aliases","attributes","matchPattern","pattern","lookbehind","match","lookbehindLength","startPos","rematch","patterns","patternObj","greedy","flags","currentNode","removeCount","from","to","p","k","matchStr","reach","removeFrom","removeRange","wrapped","nestedRematch","tail","list","next","newNode","count","array","immediateClose","script","highlightAutomaticallyCallback","readyState","module","global","includedCdataInside","markup","LOADING_MESSAGE","FAILURE_MESSAGE","status","FAILURE_EMPTY_MESSAGE","EXTENSIONS","STATUS_ATTR","STATUS_LOADING","STATUS_LOADED","STATUS_FAILED","SELECTOR","loadFile","success","xhr","parseRange","m","comma","pre","extension","autoloader","lines","elements","logged","SessionStateService","sessionState","prefix","prefixedSession","sessionParams","ConfigHelper","ConfigCrudManagerHelper","ConfigWithTabPanelManageHelper","contextState","ContexteStateEventHandler","targetClass","link","fullUrl","response","AjaxErrorHandler","customMessage","errors","parsedText","ModalUI","indexUI","errorMessage","originalColor","BaseAction","baseUrl","scriptText","scriptSrc","LoadListAction","tableUI","page","filters","discret","pageString","indexUrl","requestId","Action","successMessage","CrudAction","onDoneCallback","poll","res","progress","messageError","CreateAction","onSuccess","form","actionUrl","method","formData","data","traitement_token","_c","_d","_e","_f","rawId","entityId","hasValidId","action","reloadIndex","HOOKS","defaults","givenDate","date","week1","english","nth","pad","number","length","int","bool","t","arrayify","createElement","clearNode","findParent","createNumberInput","inputClassName","opts","wrapper","numInput","arrowUp","arrowDown","getEventTarget","path","doNothing","monthToStr","monthNumber","shorthand","locale","revFormat","dateObj","monthName","hour","day","amPM","shortMonth","seconds","unixSeconds","weekNum","weekNumber","year","ISODate","minutes","month","unixMillSeconds","tokenRegex","formats","createDateFormatter","l10n","isMobile","frmt","overrideLocale","c","arr","createDateParser","givenFormat","timeless","customLocale","parsedDate","dateOrig","format","datestr","matched","ops","matchIndex","regexStr","isBackSlash","escaped","compareDates","date1","date2","isBetween","ts","ts1","ts2","calculateSecondsSinceMidnight","hours","parseSeconds","secondsSinceMidnight","duration","getDefaultHours","minHour","minMinutes","minSeconds","maxHr","maxMinutes","_i","_loop_1","source","args_1","__assign","__spreadArrays","il","jl","DEBOUNCED_CHANGE_MS","FlatpickrInstance","instanceConfig","self","defaultOptions","flatpickr","English","bind","setHoursFromDate","positionCalendar","changeMonth","changeYear","clear","onMouseOver","createDay","destroy","isEnabled","jumpToDate","updateValue","redraw","set","setDate","setupHelperFunctions","yr","parseConfig","setupLocale","setupInputs","setupDates","build","bindEvents","setCalendarWidth","isSafari","triggerEvent","getClosestActiveElement","bindToInstance","daysWidth","updateTime","defaultDate","timeWrapper","prevValue","setHoursFromInputs","ampm2military","military2ampm","limitMinHours","limitMaxHours","minBound","maxBound","currentTime","maxTime","minTime","setHours","onYearInput","eventTarget","handler","ev","triggerChange","setupMobile","debouncedResize","onResize","onKeyDown","documentClick","onMonthNavClick","selectDate","selText","timeIncrement","onBlur","jumpDate","jumpTo","oldYear","oldMonth","buildMonthSwitch","incrementNumInput","delta","inputElem","createEvent","fragment","buildMonthNav","buildWeeks","weekWrapper","weekNumbers","buildWeekdays","buildDays","buildTime","customAppend","_dayNumber","dateIsEnabled","dayElement","isDateSelected","isDateInRange","focusOnDayElem","targetNode","getFirstAvailableDay","startMonth","endMonth","startIndex","endIndex","getNextAvailableDay","givenMonth","loopDelta","numMonthDays","focusOnDay","activeElement","dayFocused","isInView","startElem","buildMonthDays","firstOfMonth","prevMonthDays","daysInMonth","days","isMultiMonth","prevMonthDayClass","nextMonthDayClass","dayNumber","dayIndex","dayNum","dayContainer","frag","shouldBuildMonth","buildMonth","monthNavFragment","monthElement","selectedMonth","yearInput","yearElement","currentMonth","buildMonths","updateNavigationCurrentMonth","hourInput","minuteInput","secondInput","updateWeekdays","firstDayOfWeek","weekdays","isOffset","triggerChangeEvent","toInitial","isCalendarElem","eventTarget_1","isCalendarElement","isInput","lostFocus","isIgnored","newYear","newYearNum","isNewYear","dateToCheck","d","valueChanged","getDateStr","allowInput","allowKeydown","allowInlineKeydown","isTimeObj","focusAndClose","delta_1","elems","cellClass","hoverDate","initialDate","rangeStartDate","rangeEndDate","containsDisabled","minRange","maxRange","hoverableCells","dayElem","timestamp","outOfRange","positionElement","wasOpen","minMaxDateSetter","inverseDateObj","boolOpts","userConfig","dates","parseDateRules","timeMode","defaultDateFormat","defaultAltFormat","minMaxTimeSetter","hook","pluginConf","getInputElem","customPositionElement","calendarHeight","calendarWidth","configPos","configPosVertical","configPosHorizontal","inputBounds","distanceFromBottom","showOnTop","top","left","isCenter","isRight","right","rightMost","centerMost","doc","getDocumentStyleSheet","bodyWidth","centerLeft","centerBefore","centerAfter","centerIndex","centerStyle","editableSheet","sheet","createStyleSheet","isSelectable","selectedDate","shouldChangeMonth","selectedIndex","single","CALLBACKS","updatePositionElement","setSelectedDate","inputDate","rule","preloadedDate","specificFormat","dObj","isPrevMonth","isNextMonth","isKeyDown","min","max","curValue","newValue","isHourElem","isMinuteElem","_flatpickr","nodeList","nodes","instances","factory","exports","this","fp","French","fr","DynamicDropdownTreatment","triggerElement","selectorsCsv","urlsCsv","filtersCsv","selectors","urls","u","tgt","resp","selectEl","items","isMultiple","empty","item","EditAction","editUrl","is_traitement_token","finalUrl","ShowUI","InitUIManagers","ctx","ed","formatted","state","ShowAction","showUrl","DeleteAction","deleteUrl","EntityAction","actionType","IndexViewSwitcherAction","selectedType","iconClass","view_type_variable","ShowIndexAction","$target","readOnly","BulkAction","selectedCount","confirmText","selectedIds","doAction","fieldName","checkboxes","OrdreColumn","ui","trElement","newPosition","InlineEdit","$cell","pending","$t","field","rowId","formUI","FormUI","$html","$grp","$input","payload","orig","raw","TableUI","sortArray","column","existingSort","direction","currentSortVars","currentDirection","newSortValue","col","updatedSortVars","sortVars","entityPrefix","$el","$this","widgetElement","widget_remove_buton_selector","$widget","card","mutationsList","mutation","BulkActionsUI","checkAll","checkedCount","bulkActionBar","countDisplay","isChecked","FilterUI","withEmpty","prefixedContext","formSelector","scopeData","filterElement","filterIcon","filterForm","statsContainer","statsData","stat","toggleButtonSelector","$btn","$card","storageKey","$contentToToggle","setFilterVisibility","visible","savedState","PaginationUI","_NotificationUI","dropdown","newDropdown","NotificationUI","CrudModalManager","crud_header","crud_table_card","actionName","actionId","EditWithTabPanelManager","_InitUIManagers","crudModalManagerData","configHelper","uniqueKey","crudModalManager","editWithTabPanelManagerData","editWithTabPanelManager","DataCalculTreatment","sourceField","textStatus","hasManyInputsToUpdate","fields","LocalStorageDefaultTreatment","savedValue","submitHandler","isCreate","contexts","isValid","richTextContent","richTextContainer","formatColor","color","$textarea","isDisabled","contents","hiddenInput","editorItem","formattedJSON","editorData","messages","idInput","elseField","values","managerId","crudManager","DashboardUI","AsideMenu","sidebarState","activeMenuPackageItems","activeMenuItem","closeAllMenus","restoreMenuState","menuItem","itemId","closeOtherMenu","notificationData"],"mappings":"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","x_google_ignoreList":[0,6,7,8,21,22,23,24,25,26,27,28,29]}